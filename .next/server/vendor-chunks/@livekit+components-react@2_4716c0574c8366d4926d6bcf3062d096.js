"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096";
exports.ids = ["vendor-chunks/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/components-DZxz2YwG.mjs":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/components-DZxz2YwG.mjs ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ En),\n/* harmony export */   B: () => (/* binding */ Gt),\n/* harmony export */   C: () => (/* binding */ tn),\n/* harmony export */   D: () => (/* binding */ nn),\n/* harmony export */   E: () => (/* binding */ Ye),\n/* harmony export */   F: () => (/* binding */ mn),\n/* harmony export */   G: () => (/* binding */ hn),\n/* harmony export */   H: () => (/* binding */ D),\n/* harmony export */   I: () => (/* binding */ Je),\n/* harmony export */   J: () => (/* binding */ Ke),\n/* harmony export */   K: () => (/* binding */ et),\n/* harmony export */   L: () => (/* binding */ vn),\n/* harmony export */   M: () => (/* binding */ sn),\n/* harmony export */   N: () => (/* binding */ tt),\n/* harmony export */   O: () => (/* binding */ nt),\n/* harmony export */   P: () => (/* binding */ Ft),\n/* harmony export */   Q: () => (/* binding */ at),\n/* harmony export */   R: () => (/* binding */ wn),\n/* harmony export */   S: () => (/* binding */ an),\n/* harmony export */   T: () => (/* binding */ dn),\n/* harmony export */   U: () => (/* binding */ rt),\n/* harmony export */   V: () => (/* binding */ Lt),\n/* harmony export */   W: () => (/* binding */ ct),\n/* harmony export */   X: () => (/* binding */ ie),\n/* harmony export */   Y: () => (/* binding */ lt),\n/* harmony export */   Z: () => (/* binding */ G),\n/* harmony export */   _: () => (/* binding */ it),\n/* harmony export */   a: () => (/* binding */ yn),\n/* harmony export */   b: () => (/* binding */ ut),\n/* harmony export */   c: () => (/* binding */ rn),\n/* harmony export */   d: () => (/* binding */ cn),\n/* harmony export */   e: () => (/* binding */ ln),\n/* harmony export */   f: () => (/* binding */ un),\n/* harmony export */   g: () => (/* binding */ gn),\n/* harmony export */   h: () => (/* binding */ fn),\n/* harmony export */   i: () => (/* binding */ Rn),\n/* harmony export */   j: () => (/* binding */ me),\n/* harmony export */   k: () => (/* binding */ Mn),\n/* harmony export */   l: () => (/* binding */ _t),\n/* harmony export */   m: () => (/* binding */ bn),\n/* harmony export */   n: () => (/* binding */ Kt),\n/* harmony export */   o: () => (/* binding */ en),\n/* harmony export */   p: () => (/* binding */ st),\n/* harmony export */   q: () => (/* binding */ on),\n/* harmony export */   r: () => (/* binding */ oe),\n/* harmony export */   s: () => (/* binding */ $),\n/* harmony export */   t: () => (/* binding */ B),\n/* harmony export */   u: () => (/* binding */ ue),\n/* harmony export */   v: () => (/* binding */ pn),\n/* harmony export */   w: () => (/* binding */ kn),\n/* harmony export */   x: () => (/* binding */ zt),\n/* harmony export */   y: () => (/* binding */ Vt),\n/* harmony export */   z: () => (/* binding */ Xe)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-JwdUfgCD.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs\");\n/* harmony import */ var _room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./room-BBI9Ul2f.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contexts-B7YgC7ji.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\");\n\n\n\n\n\n\nconst Kt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { buttonProps: r } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), en = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ room: a, ...n }, r) {\n    const c = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, ...n }, c);\n  }\n), tn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { mergedProps: r } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.b)({ props: a });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), nn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { buttonProps: r } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), Xe = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), Ye = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), an = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, viewBox: \"0 0 24 24\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"#FFF\",\n    d: \"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z\"\n  }\n)), rn = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 18, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\",\n    clipRule: \"evenodd\"\n  }\n)), D = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\",\n    clipRule: \"evenodd\"\n  }\n)), Je = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" }))), cn = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z\",\n    clipRule: \"evenodd\"\n  }\n)), ln = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\",\n    clipRule: \"evenodd\"\n  }\n)), Ke = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z\",\n    clipRule: \"evenodd\"\n  }\n)), et = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" })), tt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" })), nt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" })), at = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), rt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), ct = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }))), ie = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\",\n    clipRule: \"evenodd\"\n  }\n)), lt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { fill: \"currentColor\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\",\n    clipRule: \"evenodd\"\n  }\n))), G = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.7\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.6\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.5\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.4\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.9\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.3\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.8\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.2\n  }\n)), it = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" }))), st = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, ...n }, r) {\n    const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)(), { mergedProps: s, inFocus: o } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.d)({\n      trackRef: a ?? c,\n      props: n\n    });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.aa.Consumer, null, (l) => l !== void 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, n.children ? n.children : o ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(it, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Je, null)));\n  }\n), sn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    kind: a,\n    initialSelection: n,\n    onActiveDeviceChange: r,\n    onDeviceListChange: c,\n    onDeviceSelectError: s,\n    exactMatch: o,\n    track: l,\n    requestPermissions: i,\n    onError: u,\n    ...d\n  }, f) {\n    const m = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.w)(), E = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (g) => {\n        m && m.emit(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, g), u == null || u(g);\n      },\n      [m, u]\n    ), { devices: p, activeDeviceId: h, setActiveMediaDevice: v, className: k } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.e)({\n      kind: a,\n      room: m,\n      track: l,\n      requestPermissions: i,\n      onError: E\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      n !== void 0 && v(n);\n    }, [v]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      typeof c == \"function\" && c(p);\n    }, [c, p]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      h && h !== \"\" && (r == null || r(h));\n    }, [h]);\n    const I = async (g) => {\n      try {\n        await v(g, { exact: o });\n      } catch (w) {\n        if (w instanceof Error)\n          s == null || s(w);\n        else\n          throw w;\n      }\n    }, y = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n      () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(d, { className: k }, { className: \"lk-list\" }),\n      [k, d]\n    ), S = !!p.find((g) => g.label.toLowerCase().startsWith(\"default\"));\n    function b(g, w, C) {\n      return g === w || !S && C === 0 && w === \"default\";\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { ref: f, ...y }, p.map((g, w) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"li\",\n      {\n        key: g.deviceId,\n        id: g.deviceId,\n        \"data-lk-active\": b(g.deviceId, h, w),\n        \"aria-selected\": b(g.deviceId, h, w),\n        role: \"option\"\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: () => I(g.deviceId) }, g.label)\n    )));\n  }\n), on = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ label: a = \"Allow Audio\", ...n }, r) {\n    const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: n });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, a);\n  }\n), un = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ label: a, ...n }, r) {\n    const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s, canPlayAudio: o } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: n }), { mergedProps: l, canPlayVideo: i } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.g)({ room: c, props: s }), { style: u, ...d } = l;\n    return u.display = o && i ? \"none\" : \"block\", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, style: u, ...d }, a ?? `Start ${o ? \"Video\" : \"Audio\"}`);\n  }\n);\nfunction se(t, a) {\n  switch (t) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(tt, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(et, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ye, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Xe, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(lt, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ie, null);\n    default:\n      return;\n  }\n}\nfunction ot(t) {\n  switch (t) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Excellent:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(nt, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Good:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(at, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Poor:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(rt, null);\n    default:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ct, null);\n  }\n}\nconst dn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ showIcon: a, ...n }, r) {\n  const { buttonProps: c, enabled: s } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(n), [o, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    l(!0);\n  }, []), o && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...c }, (a ?? !0) && se(n.source, s), n.children);\n}), oe = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(a, n) {\n  const { className: r, quality: c } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(a), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...(0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(a, { className: r }), \"data-lk-quality\": c }), [c, a, r]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: n, ...s }, a.children ?? ot(c));\n}), B = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ participant: a, ...n }, r) {\n    const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.c)(a), { className: s, infoObserver: o } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ab)(c), [c]), { identity: l, name: i } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(o, {\n      name: c.name,\n      identity: c.identity,\n      metadata: c.metadata\n    }), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(n, { className: s, \"data-lk-participant-name\": i }), [n, s, i]);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: r, ...u }, i !== \"\" ? i : l, n.children);\n  }\n), ue = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, show: n = \"always\", ...r }, c) {\n    const { className: s, isMuted: o } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(a), l = n === \"always\" || n === \"muted\" && o || n === \"unmuted\" && !o, i = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n      () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(r, {\n        className: s\n      }),\n      [s, r]\n    );\n    return l ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: c, ...i, \"data-lk-muted\": o }, r.children ?? se(a.source, !o)) : null;\n  }\n), ut = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"svg\",\n  {\n    width: 320,\n    height: 320,\n    viewBox: \"0 0 320 320\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ...t\n  },\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  ),\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  )\n);\nfunction de(t, a = {}) {\n  const [n, r] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.X)(t)), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.isMuted), [o, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.isSubscribed), [i, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.track), [d, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\"landscape\"), m = react__WEBPACK_IMPORTED_MODULE_0__.useRef(), { className: E, trackObserver: p } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.Y)(t), [\n    t.participant.sid ?? t.participant.identity,\n    t.source,\n    (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(t) && t.publication.trackSid\n  ]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const h = p.subscribe((v) => {\n      _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"update track\", v), r(v), s(v == null ? void 0 : v.isMuted), l(v == null ? void 0 : v.isSubscribed), u(v == null ? void 0 : v.track);\n    });\n    return () => h == null ? void 0 : h.unsubscribe();\n  }, [p]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var h, v;\n    return i && (m.current && i.detach(m.current), (h = a.element) != null && h.current && !(t.participant.isLocal && (i == null ? void 0 : i.kind) === \"audio\") && i.attach(a.element.current)), m.current = (v = a.element) == null ? void 0 : v.current, () => {\n      m.current && (i == null || i.detach(m.current));\n    };\n  }, [i, a.element]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var h, v;\n    if (typeof ((h = n == null ? void 0 : n.dimensions) == null ? void 0 : h.width) == \"number\" && typeof ((v = n == null ? void 0 : n.dimensions) == null ? void 0 : v.height) == \"number\") {\n      const k = n.dimensions.width > n.dimensions.height ? \"landscape\" : \"portrait\";\n      f(k);\n    }\n  }, [n]), {\n    publication: n,\n    isMuted: c,\n    isSubscribed: o,\n    track: i,\n    elementProps: (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(a.props, {\n      className: E,\n      \"data-lk-local-participant\": t.participant.isLocal,\n      \"data-lk-source\": n == null ? void 0 : n.source,\n      ...(n == null ? void 0 : n.kind) === \"video\" && { \"data-lk-orientation\": d }\n    })\n  };\n}\nvar dt = \"Expected a function\", Q = NaN, mt = \"[object Symbol]\", ft = /^\\s+|\\s+$/g, ht = /^[-+]0x[0-9a-f]+$/i, gt = /^0b[01]+$/i, vt = /^0o[0-7]+$/i, Et = parseInt, pt = typeof _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ac == \"object\" && _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ac && _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ac.Object === Object && _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ac, wt = typeof self == \"object\" && self && self.Object === Object && self, kt = pt || wt || Function(\"return this\")(), Mt = Object.prototype, Rt = Mt.toString, yt = Math.max, bt = Math.min, Z = function() {\n  return kt.Date.now();\n};\nfunction St(t, a, n) {\n  var r, c, s, o, l, i, u = 0, d = !1, f = !1, m = !0;\n  if (typeof t != \"function\")\n    throw new TypeError(dt);\n  a = U(a) || 0, j(n) && (d = !!n.leading, f = \"maxWait\" in n, s = f ? yt(U(n.maxWait) || 0, a) : s, m = \"trailing\" in n ? !!n.trailing : m);\n  function E(g) {\n    var w = r, C = c;\n    return r = c = void 0, u = g, o = t.apply(C, w), o;\n  }\n  function p(g) {\n    return u = g, l = setTimeout(k, a), d ? E(g) : o;\n  }\n  function h(g) {\n    var w = g - i, C = g - u, q = a - w;\n    return f ? bt(q, s - C) : q;\n  }\n  function v(g) {\n    var w = g - i, C = g - u;\n    return i === void 0 || w >= a || w < 0 || f && C >= s;\n  }\n  function k() {\n    var g = Z();\n    if (v(g))\n      return I(g);\n    l = setTimeout(k, h(g));\n  }\n  function I(g) {\n    return l = void 0, m && r ? E(g) : (r = c = void 0, o);\n  }\n  function y() {\n    l !== void 0 && clearTimeout(l), u = 0, r = i = c = l = void 0;\n  }\n  function S() {\n    return l === void 0 ? o : I(Z());\n  }\n  function b() {\n    var g = Z(), w = v(g);\n    if (r = arguments, c = this, i = g, w) {\n      if (l === void 0)\n        return p(i);\n      if (f)\n        return l = setTimeout(k, a), E(i);\n    }\n    return l === void 0 && (l = setTimeout(k, a)), o;\n  }\n  return b.cancel = y, b.flush = S, b;\n}\nfunction j(t) {\n  var a = typeof t;\n  return !!t && (a == \"object\" || a == \"function\");\n}\nfunction Ct(t) {\n  return !!t && typeof t == \"object\";\n}\nfunction It(t) {\n  return typeof t == \"symbol\" || Ct(t) && Rt.call(t) == mt;\n}\nfunction U(t) {\n  if (typeof t == \"number\")\n    return t;\n  if (It(t))\n    return Q;\n  if (j(t)) {\n    var a = typeof t.valueOf == \"function\" ? t.valueOf() : t;\n    t = j(a) ? a + \"\" : a;\n  }\n  if (typeof t != \"string\")\n    return t === 0 ? t : +t;\n  t = t.replace(ft, \"\");\n  var n = gt.test(t);\n  return n || vt.test(t) ? Et(t.slice(2), n ? 2 : 8) : ht.test(t) ? Q : +t;\n}\nvar Pt = St;\nconst X = /* @__PURE__ */ (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ad)(Pt);\nfunction Tt(t) {\n  const a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(t);\n  a.current = t, (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(\n    () => () => {\n      a.current();\n    },\n    []\n  );\n}\nfunction xt(t, a = 500, n) {\n  const r = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  Tt(() => {\n    r.current && r.current.cancel();\n  });\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const s = X(t, a, n), o = (...l) => s(...l);\n    return o.cancel = () => {\n      s.cancel();\n    }, o.isPending = () => !!r.current, o.flush = () => s.flush(), o;\n  }, [t, a, n]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    r.current = X(t, a, n);\n  }, [t, a, n]), c;\n}\nfunction At(t, a, n) {\n  const r = (u, d) => u === d, c = t instanceof Function ? t() : t, [s, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(c), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(c), i = xt(\n    o,\n    a,\n    n\n  );\n  return r(l.current, c) || (i(c), l.current = c), [s, i];\n}\nfunction Nt({\n  threshold: t = 0,\n  root: a = null,\n  rootMargin: n = \"0%\",\n  freezeOnceVisible: r = !1,\n  initialIsIntersecting: c = !1,\n  onChange: s\n} = {}) {\n  var o;\n  const [l, i] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => ({\n    isIntersecting: c,\n    entry: void 0\n  })), f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  f.current = s;\n  const m = ((o = u.entry) == null ? void 0 : o.isIntersecting) && r;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!l || !(\"IntersectionObserver\" in window) || m)\n      return;\n    let h;\n    const v = new IntersectionObserver(\n      (k) => {\n        const I = Array.isArray(v.thresholds) ? v.thresholds : [v.thresholds];\n        k.forEach((y) => {\n          const S = y.isIntersecting && I.some((b) => y.intersectionRatio >= b);\n          d({ isIntersecting: S, entry: y }), f.current && f.current(S, y), S && r && h && (h(), h = void 0);\n        });\n      },\n      { threshold: t, root: a, rootMargin: n }\n    );\n    return v.observe(l), () => {\n      v.disconnect();\n    };\n  }, [\n    l,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    JSON.stringify(t),\n    a,\n    n,\n    m,\n    r\n  ]);\n  const E = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    var h;\n    !l && ((h = u.entry) != null && h.target) && !r && !m && E.current !== u.entry.target && (E.current = u.entry.target, d({ isIntersecting: c, entry: void 0 }));\n  }, [l, u.entry, r, m, c]);\n  const p = [\n    i,\n    !!u.isIntersecting,\n    u.entry\n  ];\n  return p.ref = p[0], p.isIntersecting = p[1], p.entry = p[2], p;\n}\nconst Lt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    onTrackClick: a,\n    onClick: n,\n    onSubscriptionStatusChanged: r,\n    trackRef: c,\n    manageSubscription: s,\n    ...o\n  }, l) {\n    const i = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), u = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(l, () => u.current);\n    const d = Nt({ root: u.current }), [f] = At(d, 3e3);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      s && i.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (f == null ? void 0 : f.isIntersecting) === !1 && (d == null ? void 0 : d.isIntersecting) === !1 && i.publication.setSubscribed(!1);\n    }, [f, i, s]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      s && i.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (d == null ? void 0 : d.isIntersecting) === !0 && i.publication.setSubscribed(!0);\n    }, [d, i, s]);\n    const {\n      elementProps: m,\n      publication: E,\n      isSubscribed: p\n    } = de(i, {\n      element: u,\n      props: o\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      r == null || r(!!p);\n    }, [p, r]);\n    const h = (v) => {\n      n == null || n(v), a == null || a({ participant: i == null ? void 0 : i.participant, track: E });\n    };\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: u, ...m, muted: !0, onClick: h });\n  }\n), $ = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, onSubscriptionStatusChanged: n, volume: r, ...c }, s) {\n    const o = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), l = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(s, () => l.current);\n    const {\n      elementProps: i,\n      isSubscribed: u,\n      track: d,\n      publication: f\n    } = de(o, {\n      element: l,\n      props: c\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      n == null || n(!!u);\n    }, [u, n]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      d === void 0 || r === void 0 || (d instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteAudioTrack ? d.setVolume(r) : _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Volume can only be set on remote audio tracks.\"));\n    }, [r, d]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      f === void 0 || c.muted === void 0 || (f instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication ? f.setEnabled(!c.muted) : _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Can only call setEnabled on remote track publications.\"));\n    }, [c.muted, f, d]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"audio\", { ref: l, ...i });\n  }\n);\nfunction zt(t) {\n  const a = !!(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.B)();\n  return t.participant && !a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ae.Provider, { value: t.participant }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\n}\nfunction Vt(t) {\n  const a = !!(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)();\n  return t.trackRef && !a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.af.Provider, { value: t.trackRef }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\n}\nconst Ft = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    trackRef: a,\n    children: n,\n    onParticipantClick: r,\n    disableSpeakingIndicator: c,\n    ...s\n  }, o) {\n    var E, p;\n    const l = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), { elementProps: i } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\n      htmlProps: s,\n      disableSpeakingIndicator: c,\n      onParticipantClick: r,\n      trackRef: l\n    }), u = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(l.participant), d = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.j)(), f = (E = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ag)()) == null ? void 0 : E.autoSubscription, m = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (h) => {\n        l.source && !h && d && d.pin.dispatch && (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(l, d.pin.state) && d.pin.dispatch({ msg: \"clear_pin\" });\n      },\n      [l, d]\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, style: { position: \"relative\" }, ...i }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Vt, { trackRef: l }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(zt, { participant: l.participant }, n ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && (((p = l.publication) == null ? void 0 : p.kind) === \"video\" || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      Lt,\n      {\n        trackRef: l,\n        onSubscriptionStatusChanged: m,\n        manageSubscription: f\n      }\n    ) : (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      $,\n      {\n        trackRef: l,\n        onSubscriptionStatusChanged: m\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-placeholder\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ut, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, u && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ke, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      ue,\n      {\n        trackRef: {\n          participant: l.participant,\n          source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone\n        },\n        show: \"muted\"\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null)) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ie, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null, \"'s screen\"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(oe, { className: \"lk-participant-metadata-item\" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(st, { trackRef: l }))));\n  }\n);\nfunction mn(t) {\n  const a = (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(t, { className: \"lk-focus-layout\" });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...a }, t.children);\n}\nfunction fn({ trackRef: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ft, { trackRef: t, ...a });\n}\nfunction me({ tracks: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.af.Provider,\n    {\n      value: n,\n      key: (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(n)\n    },\n    (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(a.children)\n  )));\n}\nfunction Zt({\n  totalPageCount: t,\n  nextPage: a,\n  prevPage: n,\n  currentPage: r,\n  pagesContainer: c\n}) {\n  const [s, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    let l;\n    return c && (l = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ah)(c.current, 2e3).subscribe(\n      o\n    )), () => {\n      l && l.unsubscribe();\n    };\n  }, [c]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-pagination-control\", \"data-lk-user-interaction\": s }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: n }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(D, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-pagination-count\" }, `${r} of ${t}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: a }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(D, null)));\n}\nconst Ht = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ totalPageCount: a, currentPage: n }, r) {\n    const c = new Array(a).fill(\"\").map((s, o) => o + 1 === n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { \"data-lk-active\": !0, key: o }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { key: o }));\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, className: \"lk-pagination-indicator\" }, c);\n  }\n);\nfunction hn({ tracks: t, ...a }) {\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.createRef(), r = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(a, { className: \"lk-grid-layout\" }),\n    [a]\n  ), { layout: c } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(n, t.length), s = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(c.maxTiles, t);\n  return (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(n, {\n    onLeftSwipe: s.nextPage,\n    onRightSwipe: s.prevPage\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: n, \"data-lk-pagination\": s.totalPageCount > 1, ...r }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(me, { tracks: s.tracks }, a.children), t.length > c.maxTiles && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    Ht,\n    {\n      totalPageCount: s.totalPageCount,\n      currentPage: s.currentPage\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Zt, { pagesContainer: n, ...s })));\n}\nconst Bt = 130, jt = 140, Y = 1, fe = 16 / 10, Ot = (1 - fe) * -1;\nfunction gn({ tracks: t, orientation: a, ...n }) {\n  const r = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0), { width: o, height: l } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(r), i = a || (l >= o ? \"vertical\" : \"horizontal\"), u = i === \"vertical\" ? Math.max(o * Ot, Bt) : Math.max(l * fe, jt), d = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ai)(), f = Math.max(i === \"vertical\" ? (l - d) / u : (o - d) / u, Y);\n  let m = Math.round(f);\n  Math.abs(f - c) < 0.5 ? m = Math.round(c) : c !== f && s(f);\n  const E = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(t, m);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    r.current && (r.current.dataset.lkOrientation = i, r.current.style.setProperty(\"--lk-max-visible-tiles\", m.toString()));\n  }, [m, i]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"aside\", { key: i, className: \"lk-carousel\", ref: r, ...n }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(me, { tracks: E }, n.children));\n}\nfunction vn({\n  value: t,\n  onPinChange: a,\n  onWidgetChange: n,\n  children: r\n}) {\n  const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.aj)(t);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"PinState Updated\", { state: c.pin.state }), a && c.pin.state && a(c.pin.state);\n  }, [c.pin.state, a]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"Widget Updated\", { widgetState: c.widget.state }), n && c.widget.state && n(c.widget.state);\n  }, [n, c.widget.state]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.aa.Provider, { value: c }, r);\n}\nconst En = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, ...n }, r) {\n    const d = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), f = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(d, { bands: 7, loPass: 300 });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"svg\",\n      {\n        ref: r,\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: \"0 0 200 90\",\n        ...n,\n        className: \"lk-audio-visualizer\"\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\" }),\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        \"g\",\n        {\n          style: {\n            transform: `translate(${(200 - 7 * 10) / 2}px, 0)`\n          }\n        },\n        f.map((m, E) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n          \"rect\",\n          {\n            key: E,\n            x: E * 10,\n            y: 90 / 2 - m * 50 / 2,\n            width: 6,\n            height: m * 50\n          }\n        ))\n      )\n    );\n  }\n);\nfunction pn({ participants: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ae.Provider, { value: n, key: n.identity }, (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(a.children))));\n}\nfunction wn({ volume: t, muted: a }) {\n  const n = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(\n    [livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown],\n    {\n      updateOnlyOn: [],\n      onlySubscribed: !0\n    }\n  ).filter((r) => !r.participant.isLocal && r.publication.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Kind.Audio);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"none\" } }, n.map((r) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    $,\n    {\n      key: (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(r),\n      trackRef: r,\n      volume: t,\n      muted: a\n    }\n  )));\n}\nconst kn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ childrenPosition: a = \"before\", children: n, ...r }, c) {\n  const { name: s } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.v)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: c, ...r }, a === \"before\" && n, s, a === \"after\" && n);\n});\nfunction _t(t) {\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(t, { className: \"lk-toast\" }), [t]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...a }, t.children);\n}\nconst Wt = (t) => {\n  const a = [];\n  for (let n = 0; n < t; n++)\n    a.push([n, t - 1 - n]);\n  return a;\n}, J = (t) => [[Math.floor(t / 2)], [-1]], $t = (t, a, n) => {\n  const [r, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), [s, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([[]]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (t === \"thinking\")\n      o(J(a));\n    else if (t === \"connecting\" || t === \"initializing\") {\n      const i = [...Wt(a)];\n      o(i);\n    } else o(t === \"listening\" ? J(a) : t === void 0 ? [new Array(a).fill(0).map((i, u) => u)] : [[]]);\n    c(0);\n  }, [t, a]);\n  const l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    let i = performance.now();\n    const u = (d) => {\n      d - i >= n && (c((m) => m + 1), i = d), l.current = requestAnimationFrame(u);\n    };\n    return l.current = requestAnimationFrame(u), () => {\n      l.current !== null && cancelAnimationFrame(l.current);\n    };\n  }, [n, a, t, s.length]), s[r % s.length];\n}, qt = /* @__PURE__ */ new Map([\n  [\"connecting\", 2e3],\n  [\"initializing\", 2e3],\n  [\"listening\", 500],\n  [\"thinking\", 150]\n]), Dt = (t, a) => {\n  if (t === void 0)\n    return 1e3;\n  let n = qt.get(t);\n  if (n)\n    switch (t) {\n      case \"connecting\":\n        n /= a;\n        break;\n    }\n  return n;\n}, Gt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ state: a, options: n, barCount: r = 15, trackRef: c, children: s, ...o }, l) {\n    const i = (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(o, { className: \"lk-audio-bar-visualizer\" });\n    let u = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)();\n    c && (u = c);\n    const d = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(u, {\n      bands: r,\n      loPass: 100,\n      hiPass: 200\n    }), f = (n == null ? void 0 : n.minHeight) ?? 20, m = (n == null ? void 0 : n.maxHeight) ?? 100, E = $t(\n      a,\n      r,\n      Dt(a, r) ?? 100\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: l, ...i, \"data-lk-va-state\": a }, d.map(\n      (p, h) => s ? (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(s, {\n        \"data-lk-highlighted\": E.includes(h),\n        \"data-lk-bar-index\": h,\n        className: \"lk-audio-bar\",\n        style: { height: `${Math.min(m, Math.max(f, p * 100 + 5))}%` }\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        \"span\",\n        {\n          key: h,\n          \"data-lk-highlighted\": E.includes(h),\n          \"data-lk-bar-index\": h,\n          className: `lk-audio-bar ${E.includes(h) && \"lk-highlighted\"}`,\n          style: {\n            // TODO transform animations would be more performant, however the border-radius gets distorted when using scale transforms. a 9-slice approach (or 3 in this case) could work\n            // transform: `scale(1, ${Math.min(maxHeight, Math.max(minHeight, volume))}`,\n            height: `${Math.min(m, Math.max(f, p * 100 + 5))}%`\n          }\n        }\n      )\n    ));\n  }\n), Mn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    children: a,\n    disableSpeakingIndicator: n,\n    onParticipantClick: r,\n    trackRef: c,\n    ...s\n  }, o) {\n    const l = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), { elementProps: i } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\n      trackRef: l,\n      htmlProps: s,\n      disableSpeakingIndicator: n,\n      onParticipantClick: r\n    });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, style: { position: \"relative\", minHeight: \"160px\" }, ...i }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.af.Provider, { value: l }, a ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement($, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Gt, { barCount: 7, options: { minHeight: 8 } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ue, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(oe, { className: \"lk-participant-metadata-item\" })))));\n  }\n);\nfunction Rn(t) {\n  const [a, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), r = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(t.room);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    switch (r) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Reconnecting:\n        n(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(G, { className: \"lk-spinner\" }), \" Reconnecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting:\n        n(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(G, { className: \"lk-spinner\" }), \" Connecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected:\n        n(/* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \"Disconnected\"));\n        break;\n      default:\n        n(void 0);\n        break;\n    }\n  }, [r]), a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_t, { className: \"lk-toast-connection-state\" }, a) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);\n}\nconst yn = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ entry: a, hideName: n = !1, hideTimestamp: r = !1, messageFormatter: c, ...s }, o) {\n    var f, m, E;\n    const l = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => c ? c(a.message) : a.message, [a.message, c]), i = !!a.editTimestamp, u = new Date(a.timestamp), d = navigator ? navigator.language : \"en-US\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"li\",\n      {\n        ref: o,\n        className: \"lk-chat-entry\",\n        title: u.toLocaleTimeString(d, { timeStyle: \"full\" }),\n        \"data-lk-message-origin\": (f = a.from) != null && f.isLocal ? \"local\" : \"remote\",\n        ...s\n      },\n      (!r || !n || i) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-meta-data\" }, !n && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", { className: \"lk-participant-name\" }, ((m = a.from) == null ? void 0 : m.name) ?? ((E = a.from) == null ? void 0 : E.identity)), (!r || i) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-timestamp\" }, i && \"edited \", u.toLocaleTimeString(d, { timeStyle: \"short\" }))),\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-message-body\" }, l)\n    );\n  }\n);\nfunction bn(t) {\n  return (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ak)(t, (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.al)()).map((a, n) => {\n    if (typeof a == \"string\")\n      return a;\n    {\n      const r = a.content.toString(), c = a.type === \"url\" ? /^http(s?):\\/\\//.test(r) ? r : `https://${r}` : `mailto:${r}`;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { className: \"lk-chat-link\", key: n, href: c, target: \"_blank\", rel: \"noreferrer\" }, r);\n    }\n  });\n}\n\n//# sourceMappingURL=components-DZxz2YwG.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29tcG9uZW50cy1EWnh6Mll3Ry5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQjtBQUN1RDtBQUN5SjtBQUN0TDtBQUMyRztBQUNrSDtBQUNsUiwyQkFBMkIsNkNBQVk7QUFDdkM7QUFDQSxZQUFZLGlCQUFpQixFQUFFLHNEQUFFO0FBQ2pDLDJCQUEyQixnREFBZSxhQUFhLGNBQWM7QUFDckU7QUFDQSx3QkFBd0IsNkNBQVk7QUFDcEMsYUFBYSxlQUFlO0FBQzVCLGNBQWMsc0RBQUM7QUFDZiwyQkFBMkIsZ0RBQWUsVUFBVSxjQUFjO0FBQ2xFO0FBQ0Esd0JBQXdCLDZDQUFZO0FBQ3BDO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxzREFBRSxHQUFHLFVBQVU7QUFDOUMsMkJBQTJCLGdEQUFlLGFBQWEsY0FBYztBQUNyRTtBQUNBLHdCQUF3Qiw2Q0FBWTtBQUNwQztBQUNBLFlBQVksaUJBQWlCLEVBQUUsc0RBQUU7QUFDakMsMkJBQTJCLGdEQUFlLGFBQWEsY0FBYztBQUNyRTtBQUNBLCtCQUErQixnREFBZSxVQUFVLHdGQUF3RixrQkFBa0IsZ0RBQWUsV0FBVyx1TUFBdU0sbUJBQW1CLGdEQUFlLFdBQVcscUdBQXFHLGdDQUFnQyxnREFBZSxVQUFVLHdGQUF3RixrQkFBa0IsZ0RBQWUsV0FBVyx1TUFBdU0sZ0NBQWdDLGdEQUFlLFVBQVUsd0ZBQXdGLGtCQUFrQixnREFBZTtBQUMza0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnREFBZSxVQUFVLGdGQUFnRixrQkFBa0IsZ0RBQWU7QUFDMUs7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxFQUFFLGNBQWMsRUFBRTtBQUN6SCw2QkFBNkIsZ0RBQWUsUUFBUSxpRkFBaUY7QUFDckk7QUFDQSxHQUFHO0FBQ0g7QUF1REU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvaWNlLWFzc2lzdGFudDIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29tcG9uZW50cy1EWnh6Mll3Ry5tanM/MzkxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBlIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU3RhdGUgYXMgeCwgdXNlUmVmIGFzIFAsIHVzZUVmZmVjdCBhcyBULCB1c2VNZW1vIGFzIGhlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1IGFzIGdlLCBhIGFzIEssIGIgYXMgdmUsIGMgYXMgRWUsIGQgYXMgcGUsIGUgYXMgd2UsIGYgYXMgZWUsIGcgYXMga2UsIGggYXMgTWUsIGkgYXMgUmUsIGogYXMgeWUsIGsgYXMgYmUsIGwgYXMgdGUsIG0gYXMgU2UsIG4gYXMgQ2UsIG8gYXMgSWUsIHAgYXMgUGUsIHEgYXMgVGUsIHIgYXMgeGUsIHMgYXMgbmUsIHQgYXMgQWUsIHYgYXMgTmUgfSBmcm9tIFwiLi9ob29rcy1Kd2RVZmdDRC5tanNcIjtcbmltcG9ydCB7IGEgYXMgUiwgYyBhcyBPIH0gZnJvbSBcIi4vcm9vbS1CQkk5VWwyZi5tanNcIjtcbmltcG9ydCB7IFJvb21FdmVudCBhcyBMZSwgVHJhY2sgYXMgTSwgQ29ubmVjdGlvblF1YWxpdHkgYXMgViwgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbiBhcyBILCBSZW1vdGVBdWRpb1RyYWNrIGFzIHplLCBDb25uZWN0aW9uU3RhdGUgYXMgRiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IHsgYTkgYXMgXywgYWEgYXMgYWUsIHcgYXMgVmUsIGYgYXMgcmUsIGMgYXMgRmUsIGFiIGFzIFplLCBYIGFzIEhlLCBZIGFzIEJlLCBhMSBhcyB6LCBsIGFzIEEsIGFjIGFzIEwsIGFkIGFzIGplLCBpIGFzIE4sIEIgYXMgT2UsIGFlIGFzIGNlLCBhZiBhcyBXLCBqIGFzIF9lLCBhZyBhcyBXZSwgbSBhcyAkZSwgcCBhcyBsZSwgYWggYXMgcWUsIGFpIGFzIERlLCBhaiBhcyBHZSwgYWsgYXMgUWUsIGFsIGFzIFVlIH0gZnJvbSBcIi4vY29udGV4dHMtQjdZZ0M3amkubWpzXCI7XG5jb25zdCBLdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKGEsIG4pIHtcbiAgICBjb25zdCB7IGJ1dHRvblByb3BzOiByIH0gPSBnZShhKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogbiwgLi4uciB9LCBhLmNoaWxkcmVuKTtcbiAgfVxuKSwgZW4gPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHJvb206IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSBLKGEpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiByLCAuLi5uIH0sIGMpO1xuICB9XG4pLCB0biA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKGEsIG4pIHtcbiAgICBjb25zdCB7IG1lcmdlZFByb3BzOiByIH0gPSB2ZSh7IHByb3BzOiBhIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiBuLCAuLi5yIH0sIGEuY2hpbGRyZW4pO1xuICB9XG4pLCBubiA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKGEsIG4pIHtcbiAgICBjb25zdCB7IGJ1dHRvblByb3BzOiByIH0gPSBFZShhKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogbiwgLi4uciB9LCBhLmNoaWxkcmVuKTtcbiAgfVxuKSwgWGUgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEuMzU0LjY0NmEuNS41IDAgMSAwLS43MDguNzA4bDE0IDE0YS41LjUgMCAwIDAgLjcwOC0uNzA4TDExIDEwLjI5M1Y0LjVBMS41IDEuNSAwIDAgMCA5LjUgM0gzLjcwN3pNMCA0LjVhMS41IDEuNSAwIDAgMSAuOTQzLTEuMzkzbDkuNTMyIDkuNTMzYy0uMjYyLjIyNC0uNjAzLjM2LS45NzUuMzZoLThBMS41IDEuNSAwIDAgMSAwIDExLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJtMTUuMiAzLjYtMi44IDIuMWExIDEgMCAwIDAtLjQuOHYzYTEgMSAwIDAgMCAuNC44bDIuOCAyLjFhLjUuNSAwIDAgMCAuOC0uNFY0YS41LjUgMCAwIDAtLjgtLjR6XCIgfSkpLCBZZSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCA0LjVBMS41IDEuNSAwIDAgMSAxLjUgM2g4QTEuNSAxLjUgMCAwIDEgMTEgNC41djdBMS41IDEuNSAwIDAgMSA5LjUgMTNoLThBMS41IDEuNSAwIDAgMSAwIDExLjV6TTE1LjIgMy42bC0yLjggMi4xYTEgMSAwIDAgMC0uNC44djNhMSAxIDAgMCAwIC40LjhsMi44IDIuMWEuNS41IDAgMCAwIC44LS40VjRhLjUuNSAwIDAgMC0uOC0uNHpcIiB9KSksIGFuID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcIiNGRkZcIixcbiAgICBkOiBcIk00Ljk5IDMuOTlhMSAxIDAgMCAwLS42OTcgMS43MTdMMTAuNTg2IDEybC02LjI5MyA2LjI5M2ExIDEgMCAxIDAgMS40MTQgMS40MTRMMTIgMTMuNDE0bDYuMjkzIDYuMjkzYTEgMSAwIDEgMCAxLjQxNC0xLjQxNEwxMy40MTQgMTJsNi4yOTMtNi4yOTNhMSAxIDAgMCAwLS43MjctMS43MTcgMSAxIDAgMCAwLS42ODcuMzAzTDEyIDEwLjU4NiA1LjcwNyA0LjI5M2ExIDEgMCAwIDAtLjcxNy0uMzAzelwiXG4gIH1cbikpLCBybiA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE4LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTAgMi43NUEyLjc1IDIuNzUgMCAwIDEgMi43NSAwaDEwLjVBMi43NSAyLjc1IDAgMCAxIDE2IDIuNzV2MTMuNTk0YS43NS43NSAwIDAgMS0xLjIzNC41NzJsLTMuNjkxLTMuMTJhMS4yNSAxLjI1IDAgMCAwLS44MDctLjI5NkgyLjc1QTIuNzUgMi43NSAwIDAgMSAwIDEwLjc1di04Wk0yLjc1IDEuNWMtLjY5IDAtMS4yNS41Ni0xLjI1IDEuMjV2OGMwIC42OS41NiAxLjI1IDEuMjUgMS4yNWg3LjUxOGMuNjUgMCAxLjI3OS4yMyAxLjc3NS42NWwyLjQ1NyAyLjA3N1YyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNUgyLjc1WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTMgNC41YS41LjUgMCAwIDEgLjUtLjVoOWEuNS41IDAgMCAxIDAgMWgtOWEuNS41IDAgMCAxLS41LS41Wm0wIDJhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05YS41LjUgMCAwIDEtLjUtLjVabTAgMmEuNS41IDAgMCAxIC41LS41aDVhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMS0uNS0uNVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIEQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk01LjI5MyAyLjI5M2ExIDEgMCAwIDEgMS40MTQgMGw0LjgyMyA0LjgyM2ExLjI1IDEuMjUgMCAwIDEgMCAxLjc2OGwtNC44MjMgNC44MjNhMSAxIDAgMCAxLTEuNDE0LTEuNDE0TDkuNTg2IDggNS4yOTMgMy43MDdhMSAxIDAgMCAxIDAtMS40MTR6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpLCBKZSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogMS41IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAgMS43NWg0LjI1bTAgMFY2bTAtNC4yNUw5IDdNNiAxNC4yNUgxLjc1bTAgMFYxMG0wIDQuMjVMNyA5XCIgfSkpKSwgY24gPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk04Ljk2MS44OTRDOC44NzUtLjI5OCA3LjEyNS0uMjk4IDcuMDQuODk0Yy0uMDY2LjkxMi0xLjI0NiAxLjIyOC0xLjc2LjQ3Mi0uNjctLjk5LTIuMTg2LS4xMTUtMS42NjQuOTYuMzk5LjgyNC0uNDY1IDEuNjg4LTEuMjg4IDEuMjg5LTEuMDc2LS41MjItMS45NS45OTQtLjk2MSAxLjY2NS43NTYuNTEzLjQ0IDEuNjkzLS40NzIgMS43NTktMS4xOTIuMDg2LTEuMTkyIDEuODM2IDAgMS45MjIuOTEyLjA2NiAxLjIyOCAxLjI0Ni40NzIgMS43Ni0uOTkuNjctLjExNSAyLjE4Ni45NiAxLjY2NC44MjQtLjM5OSAxLjY4OC40NjUgMS4yODkgMS4yODgtLjUyMiAxLjA3Ni45OTQgMS45NSAxLjY2NS45NjEuNTEzLS43NTYgMS42OTMtLjQ0IDEuNzU5LjQ3Mi4wODYgMS4xOTIgMS44MzYgMS4xOTIgMS45MjIgMCAuMDY2LS45MTIgMS4yNDYtMS4yMjggMS43Ni0uNDcyLjY3Ljk5IDIuMTg2LjExNSAxLjY2NC0uOTYtLjM5OS0uODI0LjQ2NS0xLjY4OCAxLjI4OC0xLjI4OSAxLjA3Ni41MjIgMS45NS0uOTk0Ljk2MS0xLjY2NS0uNzU2LS41MTMtLjQ0LTEuNjkzLjQ3Mi0xLjc1OSAxLjE5Mi0uMDg2IDEuMTkyLTEuODM2IDAtMS45MjItLjkxMi0uMDY2LTEuMjI4LTEuMjQ2LS40NzItMS43Ni45OS0uNjcuMTE1LTIuMTg2LS45Ni0xLjY2NC0uODI0LjM5OS0xLjY4OC0uNDY1LTEuMjg5LTEuMjg4LjUyMi0xLjA3Ni0uOTk0LTEuOTUtMS42NjUtLjk2MS0uNTEzLjc1Ni0xLjY5My40NC0xLjc1OS0uNDcyWk04IDEzQTUgNSAwIDEgMCA4IDNhNSA1IDAgMCAwIDAgMTBaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpLCBsbiA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIgMi43NUEyLjc1IDIuNzUgMCAwIDEgNC43NSAwaDYuNUEyLjc1IDIuNzUgMCAwIDEgMTQgMi43NXYxMC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di0uNWEuNzUuNzUgMCAwIDEgMS41IDB2LjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNi41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNWgtNi41Yy0uNjkgMC0xLjI1LjU2LTEuMjUgMS4yNXYuNWEuNzUuNzUgMCAwIDEtMS41IDB2LS41WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTguNzggNy40N2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0yLjI1IDIuMjVhLjc1Ljc1IDAgMSAxLTEuMDYtMS4wNmwuOTctLjk3SDEuNzVhLjc1Ljc1IDAgMCAxIDAtMS41aDQuNjlsLS45Ny0uOTdhLjc1Ljc1IDAgMCAxIDEuMDYtMS4wNmwyLjI1IDIuMjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpLCBLZSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQgNi4xMDRWNGE0IDQgMCAxIDEgOCAwdjIuMTA0YzEuMTU0LjMyNiAyIDEuMzg3IDIgMi42NDZ2NC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di00LjVjMC0xLjI1OS44NDYtMi4zMiAyLTIuNjQ2Wk01LjUgNGEyLjUgMi41IDAgMCAxIDUgMHYyaC01VjRaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpLCBldCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIuMjI3IDExLjUyYTUuNDc3IDUuNDc3IDAgMCAwIDEuMjQ2LTIuOTcuNS41IDAgMCAwLS45OTUtLjEgNC40NzggNC40NzggMCAwIDEtLjk2MiAyLjM1OWwtMS4wNy0xLjA3QzEwLjc5NCA5LjI0NyAxMSA4LjY0NyAxMSA4VjNhMyAzIDAgMCAwLTYgMHYxLjI5M0wxLjM1NC42NDZhLjUuNSAwIDEgMC0uNzA4LjcwOGwxNCAxNGEuNS41IDAgMCAwIC43MDgtLjcwOHpNOCAxMi41Yy42ODMgMCAxLjMzLS4xNTIgMS45MTEtLjQyNWwuNzQzLjc0M2MtLjY0OS4zNTktMS4zNzguNTktMi4xNTQuNjZWMTVoMmEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxIDAtMWgydi0xLjUyMmE1LjUwMiA1LjUwMiAwIDAgMS00Ljk3My00LjkyOS41LjUgMCAwIDEgLjk5NS0uMDk4QTQuNSA0LjUgMCAwIDAgOCAxMi41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTguNzQzIDEwLjkwNyA1IDcuMTY0VjhhMyAzIDAgMCAwIDMuNzQzIDIuOTA3elwiIH0pKSwgdHQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0yLjk3NSA4LjAwMmEuNS41IDAgMCAxIC41NDcuNDQ5IDQuNSA0LjUgMCAwIDAgOC45NTYgMCAuNS41IDAgMSAxIC45OTUuMDk4QTUuNTAyIDUuNTAyIDAgMCAxIDguNSAxMy40NzhWMTVoMmEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxIDAtMWgydi0xLjUyMmE1LjUwMiA1LjUwMiAwIDAgMS00Ljk3My00LjkyOS41LjUgMCAwIDEgLjQ0OC0uNTQ3elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTUgM2EzIDMgMCAxIDEgNiAwdjVhMyAzIDAgMCAxLTYgMHpcIiB9KSksIG50ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSksIGF0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIC41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIgLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSkpLCBydCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IG9wYWNpdHk6IDAuMjUgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk02IDYuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNiA2LjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiAuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pKSksIGN0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImdcIiwgeyBvcGFjaXR5OiAwLjI1IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtNFptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtOVptNi02YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjVWLjVaXCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtNFptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtOVptNi02YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjVWLjVaXCIgfSkpKSwgaWUgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAyMCwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0wIDIuNzVBMi43NSAyLjc1IDAgMCAxIDIuNzUgMGgxNC41QTIuNzUgMi43NSAwIDAgMSAyMCAyLjc1djEwLjVBMi43NSAyLjc1IDAgMCAxIDE3LjI1IDE2SDIuNzVBMi43NSAyLjc1IDAgMCAxIDAgMTMuMjVWMi43NVpNMi43NSAxLjVjLS42OSAwLTEuMjUuNTYtMS4yNSAxLjI1djEwLjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoMTQuNWMuNjkgMCAxLjI1LS41NiAxLjI1LTEuMjVWMi43NWMwLS42OS0uNTYtMS4yNS0xLjI1LTEuMjVIMi43NVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk05LjQ3IDQuMjJhLjc1Ljc1IDAgMCAxIDEuMDYgMGwyLjI1IDIuMjVhLjc1Ljc1IDAgMCAxLTEuMDYgMS4wNmwtLjk3LS45N3Y0LjY5YS43NS43NSAwIDAgMS0xLjUgMFY2LjU2bC0uOTcuOTdhLjc1Ljc1IDAgMCAxLTEuMDYtMS4wNmwyLjI1LTIuMjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpLCBsdCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDIwLCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03LjI4IDQuMjJhLjc1Ljc1IDAgMCAwLTEuMDYgMS4wNkw4Ljk0IDhsLTIuNzIgMi43MmEuNzUuNzUgMCAxIDAgMS4wNiAxLjA2TDEwIDkuMDZsMi43MiAyLjcyYS43NS43NSAwIDEgMCAxLjA2LTEuMDZMMTEuMDYgOGwyLjcyLTIuNzJhLjc1Ljc1IDAgMCAwLTEuMDYtMS4wNkwxMCA2Ljk0elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0yLjc1IDBBMi43NSAyLjc1IDAgMCAwIDAgMi43NXYxMC41QTIuNzUgMi43NSAwIDAgMCAyLjc1IDE2aDE0LjVBMi43NSAyLjc1IDAgMCAwIDIwIDEzLjI1VjIuNzVBMi43NSAyLjc1IDAgMCAwIDE3LjI1IDB6TTEuNSAyLjc1YzAtLjY5LjU2LTEuMjUgMS4yNS0xLjI1aDE0LjVjLjY5IDAgMS4yNS41NiAxLjI1IDEuMjV2MTAuNWMwIC42OS0uNTYgMS4yNS0xLjI1IDEuMjVIMi43NWMtLjY5IDAtMS4yNS0uNTYtMS4yNS0xLjI1elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pKSksIEcgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk04IDBhLjc1Ljc1IDAgMCAxIC43NS43NXYyLjVhLjc1Ljc1IDAgMCAxLTEuNSAwVi43NUEuNzUuNzUgMCAwIDEgOCAwWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTggMTJhLjc1Ljc1IDAgMCAxIC43NS43NXYyLjVhLjc1Ljc1IDAgMCAxLTEuNSAwdi0yLjVBLjc1Ljc1IDAgMCAxIDggMTJaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuN1xuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTEyIDEuMDcyYS43NS43NSAwIDAgMSAuMjc0IDEuMDI0bC0xLjI1IDIuMTY1YS43NS43NSAwIDAgMS0xLjI5OS0uNzVsMS4yNS0yLjE2NUEuNzUuNzUgMCAwIDEgMTIgMS4wNzJaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNiAxMS40NjRhLjc1Ljc1IDAgMCAxIC4yNzQgMS4wMjVsLTEuMjUgMi4xNjVhLjc1Ljc1IDAgMCAxLTEuMjk5LS43NWwxLjI1LTIuMTY1QS43NS43NSAwIDAgMSA2IDExLjQ2NFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC42XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTQuOTI4IDRhLjc1Ljc1IDAgMCAxLS4yNzQgMS4wMjVsLTIuMTY1IDEuMjVhLjc1Ljc1IDAgMSAxLS43NS0xLjNsMi4xNjUtMS4yNUEuNzUuNzUgMCAwIDEgMTQuOTI4IDRaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNC41MzYgMTBhLjc1Ljc1IDAgMCAxLS4yNzUgMS4wMjRsLTIuMTY1IDEuMjVhLjc1Ljc1IDAgMCAxLS43NS0xLjI5OGwyLjE2NS0xLjI1QS43NS43NSAwIDAgMSA0LjUzNiAxMFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC41XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTYgOGEuNzUuNzUgMCAwIDEtLjc1Ljc1aC0yLjVhLjc1Ljc1IDAgMCAxIDAtMS41aDIuNUEuNzUuNzUgMCAwIDEgMTYgOFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk00IDhhLjc1Ljc1IDAgMCAxLS43NS43NUguNzVhLjc1Ljc1IDAgMCAxIDAtMS41aDIuNUEuNzUuNzUgMCAwIDEgNCA4WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjRcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xNC45MjggMTJhLjc1Ljc1IDAgMCAxLTEuMDI0LjI3NGwtMi4xNjUtMS4yNWEuNzUuNzUgMCAwIDEgLjc1LTEuMjk5bDIuMTY1IDEuMjVBLjc1Ljc1IDAgMCAxIDE0LjkyOCAxMlpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC45XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNC41MzYgNmEuNzUuNzUgMCAwIDEtMS4wMjUuMjc1bC0yLjE2NS0xLjI1YS43NS43NSAwIDEgMSAuNzUtMS4zbDIuMTY1IDEuMjVBLjc1Ljc1IDAgMCAxIDQuNTM2IDZaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuM1xuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTEyIDE0LjkyOGEuNzUuNzUgMCAwIDEtMS4wMjQtLjI3NGwtMS4yNS0yLjE2NWEuNzUuNzUgMCAwIDEgMS4yOTgtLjc1bDEuMjUgMi4xNjVBLjc1Ljc1IDAgMCAxIDEyIDE0LjkyOFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC44XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNiA0LjUzNmEuNzUuNzUgMCAwIDEtMS4wMjQtLjI3NWwtMS4yNS0yLjE2NWEuNzUuNzUgMCAxIDEgMS4yOTktLjc1bDEuMjUgMi4xNjVBLjc1Ljc1IDAgMCAxIDYgNC41MzZaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuMlxuICB9XG4pKSwgaXQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImdcIiwgeyBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgc3Ryb2tlV2lkdGg6IDEuNSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEzLjI1IDdIOW0wIDBWMi43NU05IDdsNS4yNS01LjI1TTIuNzUgOUg3bTAgMHY0LjI1TTcgOWwtNS4yNSA1LjI1XCIgfSkpKSwgc3QgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHRyYWNrUmVmOiBhLCAuLi5uIH0sIHIpIHtcbiAgICBjb25zdCBjID0gXygpLCB7IG1lcmdlZFByb3BzOiBzLCBpbkZvY3VzOiBvIH0gPSBwZSh7XG4gICAgICB0cmFja1JlZjogYSA/PyBjLFxuICAgICAgcHJvcHM6IG5cbiAgICB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChhZS5Db25zdW1lciwgbnVsbCwgKGwpID0+IGwgIT09IHZvaWQgMCAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCAuLi5zIH0sIG4uY2hpbGRyZW4gPyBuLmNoaWxkcmVuIDogbyA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoaXQsIG51bGwpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChKZSwgbnVsbCkpKTtcbiAgfVxuKSwgc24gPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7XG4gICAga2luZDogYSxcbiAgICBpbml0aWFsU2VsZWN0aW9uOiBuLFxuICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiByLFxuICAgIG9uRGV2aWNlTGlzdENoYW5nZTogYyxcbiAgICBvbkRldmljZVNlbGVjdEVycm9yOiBzLFxuICAgIGV4YWN0TWF0Y2g6IG8sXG4gICAgdHJhY2s6IGwsXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zOiBpLFxuICAgIG9uRXJyb3I6IHUsXG4gICAgLi4uZFxuICB9LCBmKSB7XG4gICAgY29uc3QgbSA9IFZlKCksIEUgPSBlLnVzZUNhbGxiYWNrKFxuICAgICAgKGcpID0+IHtcbiAgICAgICAgbSAmJiBtLmVtaXQoTGUuTWVkaWFEZXZpY2VzRXJyb3IsIGcpLCB1ID09IG51bGwgfHwgdShnKTtcbiAgICAgIH0sXG4gICAgICBbbSwgdV1cbiAgICApLCB7IGRldmljZXM6IHAsIGFjdGl2ZURldmljZUlkOiBoLCBzZXRBY3RpdmVNZWRpYURldmljZTogdiwgY2xhc3NOYW1lOiBrIH0gPSB3ZSh7XG4gICAgICBraW5kOiBhLFxuICAgICAgcm9vbTogbSxcbiAgICAgIHRyYWNrOiBsLFxuICAgICAgcmVxdWVzdFBlcm1pc3Npb25zOiBpLFxuICAgICAgb25FcnJvcjogRVxuICAgIH0pO1xuICAgIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG4gIT09IHZvaWQgMCAmJiB2KG4pO1xuICAgIH0sIFt2XSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHR5cGVvZiBjID09IFwiZnVuY3Rpb25cIiAmJiBjKHApO1xuICAgIH0sIFtjLCBwXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGggJiYgaCAhPT0gXCJcIiAmJiAociA9PSBudWxsIHx8IHIoaCkpO1xuICAgIH0sIFtoXSk7XG4gICAgY29uc3QgSSA9IGFzeW5jIChnKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB2KGcsIHsgZXhhY3Q6IG8gfSk7XG4gICAgICB9IGNhdGNoICh3KSB7XG4gICAgICAgIGlmICh3IGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgcyA9PSBudWxsIHx8IHModyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyB3O1xuICAgICAgfVxuICAgIH0sIHkgPSBlLnVzZU1lbW8oXG4gICAgICAoKSA9PiBSKGQsIHsgY2xhc3NOYW1lOiBrIH0sIHsgY2xhc3NOYW1lOiBcImxrLWxpc3RcIiB9KSxcbiAgICAgIFtrLCBkXVxuICAgICksIFMgPSAhIXAuZmluZCgoZykgPT4gZy5sYWJlbC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJkZWZhdWx0XCIpKTtcbiAgICBmdW5jdGlvbiBiKGcsIHcsIEMpIHtcbiAgICAgIHJldHVybiBnID09PSB3IHx8ICFTICYmIEMgPT09IDAgJiYgdyA9PT0gXCJkZWZhdWx0XCI7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyByZWY6IGYsIC4uLnkgfSwgcC5tYXAoKGcsIHcpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxpXCIsXG4gICAgICB7XG4gICAgICAgIGtleTogZy5kZXZpY2VJZCxcbiAgICAgICAgaWQ6IGcuZGV2aWNlSWQsXG4gICAgICAgIFwiZGF0YS1say1hY3RpdmVcIjogYihnLmRldmljZUlkLCBoLCB3KSxcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGIoZy5kZXZpY2VJZCwgaCwgdyksXG4gICAgICAgIHJvbGU6IFwib3B0aW9uXCJcbiAgICAgIH0sXG4gICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiBJKGcuZGV2aWNlSWQpIH0sIGcubGFiZWwpXG4gICAgKSkpO1xuICB9XG4pLCBvbiA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgbGFiZWw6IGEgPSBcIkFsbG93IEF1ZGlvXCIsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSByZSgpLCB7IG1lcmdlZFByb3BzOiBzIH0gPSBlZSh7IHJvb206IGMsIHByb3BzOiBuIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCAuLi5zIH0sIGEpO1xuICB9XG4pLCB1biA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgbGFiZWw6IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSByZSgpLCB7IG1lcmdlZFByb3BzOiBzLCBjYW5QbGF5QXVkaW86IG8gfSA9IGVlKHsgcm9vbTogYywgcHJvcHM6IG4gfSksIHsgbWVyZ2VkUHJvcHM6IGwsIGNhblBsYXlWaWRlbzogaSB9ID0ga2UoeyByb29tOiBjLCBwcm9wczogcyB9KSwgeyBzdHlsZTogdSwgLi4uZCB9ID0gbDtcbiAgICByZXR1cm4gdS5kaXNwbGF5ID0gbyAmJiBpID8gXCJub25lXCIgOiBcImJsb2NrXCIsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHIsIHN0eWxlOiB1LCAuLi5kIH0sIGEgPz8gYFN0YXJ0ICR7byA/IFwiVmlkZW9cIiA6IFwiQXVkaW9cIn1gKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIHNlKHQsIGEpIHtcbiAgc3dpdGNoICh0KSB7XG4gICAgY2FzZSBNLlNvdXJjZS5NaWNyb3Bob25lOlxuICAgICAgcmV0dXJuIGEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHR0LCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZXQsIG51bGwpO1xuICAgIGNhc2UgTS5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgcmV0dXJuIGEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFllLCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoWGUsIG51bGwpO1xuICAgIGNhc2UgTS5Tb3VyY2UuU2NyZWVuU2hhcmU6XG4gICAgICByZXR1cm4gYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobHQsIG51bGwpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChpZSwgbnVsbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybjtcbiAgfVxufVxuZnVuY3Rpb24gb3QodCkge1xuICBzd2l0Y2ggKHQpIHtcbiAgICBjYXNlIFYuRXhjZWxsZW50OlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobnQsIG51bGwpO1xuICAgIGNhc2UgVi5Hb29kOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoYXQsIG51bGwpO1xuICAgIGNhc2UgVi5Qb29yOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQocnQsIG51bGwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChjdCwgbnVsbCk7XG4gIH1cbn1cbmNvbnN0IGRuID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihmdW5jdGlvbih7IHNob3dJY29uOiBhLCAuLi5uIH0sIHIpIHtcbiAgY29uc3QgeyBidXR0b25Qcm9wczogYywgZW5hYmxlZDogcyB9ID0gTWUobiksIFtvLCBsXSA9IGUudXNlU3RhdGUoITEpO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGwoITApO1xuICB9LCBbXSksIG8gJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogciwgLi4uYyB9LCAoYSA/PyAhMCkgJiYgc2Uobi5zb3VyY2UsIHMpLCBuLmNoaWxkcmVuKTtcbn0pLCBvZSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoZnVuY3Rpb24oYSwgbikge1xuICBjb25zdCB7IGNsYXNzTmFtZTogciwgcXVhbGl0eTogYyB9ID0gUmUoYSksIHMgPSBlLnVzZU1lbW8oKCkgPT4gKHsgLi4uUihhLCB7IGNsYXNzTmFtZTogciB9KSwgXCJkYXRhLWxrLXF1YWxpdHlcIjogYyB9KSwgW2MsIGEsIHJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IG4sIC4uLnMgfSwgYS5jaGlsZHJlbiA/PyBvdChjKSk7XG59KSwgQiA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgcGFydGljaXBhbnQ6IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSBGZShhKSwgeyBjbGFzc05hbWU6IHMsIGluZm9PYnNlcnZlcjogbyB9ID0gZS51c2VNZW1vKCgpID0+IFplKGMpLCBbY10pLCB7IGlkZW50aXR5OiBsLCBuYW1lOiBpIH0gPSB5ZShvLCB7XG4gICAgICBuYW1lOiBjLm5hbWUsXG4gICAgICBpZGVudGl0eTogYy5pZGVudGl0eSxcbiAgICAgIG1ldGFkYXRhOiBjLm1ldGFkYXRhXG4gICAgfSksIHUgPSBlLnVzZU1lbW8oKCkgPT4gUihuLCB7IGNsYXNzTmFtZTogcywgXCJkYXRhLWxrLXBhcnRpY2lwYW50LW5hbWVcIjogaSB9KSwgW24sIHMsIGldKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyByZWY6IHIsIC4uLnUgfSwgaSAhPT0gXCJcIiA/IGkgOiBsLCBuLmNoaWxkcmVuKTtcbiAgfVxuKSwgdWUgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHRyYWNrUmVmOiBhLCBzaG93OiBuID0gXCJhbHdheXNcIiwgLi4uciB9LCBjKSB7XG4gICAgY29uc3QgeyBjbGFzc05hbWU6IHMsIGlzTXV0ZWQ6IG8gfSA9IGJlKGEpLCBsID0gbiA9PT0gXCJhbHdheXNcIiB8fCBuID09PSBcIm11dGVkXCIgJiYgbyB8fCBuID09PSBcInVubXV0ZWRcIiAmJiAhbywgaSA9IGUudXNlTWVtbyhcbiAgICAgICgpID0+IFIociwge1xuICAgICAgICBjbGFzc05hbWU6IHNcbiAgICAgIH0pLFxuICAgICAgW3MsIHJdXG4gICAgKTtcbiAgICByZXR1cm4gbCA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGMsIC4uLmksIFwiZGF0YS1say1tdXRlZFwiOiBvIH0sIHIuY2hpbGRyZW4gPz8gc2UoYS5zb3VyY2UsICFvKSkgOiBudWxsO1xuICB9XG4pLCB1dCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInN2Z1wiLFxuICB7XG4gICAgd2lkdGg6IDMyMCxcbiAgICBoZWlnaHQ6IDMyMCxcbiAgICB2aWV3Qm94OiBcIjAgMCAzMjAgMzIwXCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAuLi50XG4gIH0sXG4gIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMTYwIDE4MEMyMDQuMTgyIDE4MCAyNDAgMTQ0LjE4MyAyNDAgMTAwQzI0MCA1NS44MTcyIDIwNC4xODIgMjAgMTYwIDIwQzExNS44MTcgMjAgNzkuOTk5NyA1NS44MTcyIDc5Ljk5OTcgMTAwQzc5Ljk5OTcgMTQ0LjE4MyAxMTUuODE3IDE4MCAxNjAgMTgwWlwiLFxuICAgICAgZmlsbDogXCJ3aGl0ZVwiLFxuICAgICAgZmlsbE9wYWNpdHk6IDAuMjVcbiAgICB9XG4gICksXG4gIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNOTcuNjU0MiAxOTQuNjE0QzEwMy4yNjcgMTkxLjgxOCAxMDkuODQxIDE5Mi40ODEgMTE1LjUxOSAxOTUuMTQxQzEyOS4wMjUgMjAxLjQ2NiAxNDQuMSAyMDUgMTU5Ljk5OSAyMDVDMTc1Ljg5OSAyMDUgMTkwLjk3MyAyMDEuNDY2IDIwNC40OCAxOTUuMTQxQzIxMC4xNTggMTkyLjQ4MSAyMTYuNzMyIDE5MS44MTggMjIyLjM0NSAxOTQuNjE0QzI2Mi43MDMgMjE0LjcxOSAyOTEuOTg1IDI1My43MzYgMjk4LjU5MSAzMDAuMDYyQzMwMC4xNSAzMTAuOTk3IDI5MS4wNDUgMzIwIDI4MCAzMjBIMzkuOTk5N0MyOC45NTQgMzIwIDE5Ljg0OTUgMzEwLjk5NyAyMS40MDg3IDMwMC4wNjJDMjguMDE0IDI1My43MzYgNTcuMjk2NiAyMTQuNzIgOTcuNjU0MiAxOTQuNjE0WlwiLFxuICAgICAgZmlsbDogXCJ3aGl0ZVwiLFxuICAgICAgZmlsbE9wYWNpdHk6IDAuMjVcbiAgICB9XG4gIClcbik7XG5mdW5jdGlvbiBkZSh0LCBhID0ge30pIHtcbiAgY29uc3QgW24sIHJdID0gZS51c2VTdGF0ZShIZSh0KSksIFtjLCBzXSA9IGUudXNlU3RhdGUobiA9PSBudWxsID8gdm9pZCAwIDogbi5pc011dGVkKSwgW28sIGxdID0gZS51c2VTdGF0ZShuID09IG51bGwgPyB2b2lkIDAgOiBuLmlzU3Vic2NyaWJlZCksIFtpLCB1XSA9IGUudXNlU3RhdGUobiA9PSBudWxsID8gdm9pZCAwIDogbi50cmFjayksIFtkLCBmXSA9IGUudXNlU3RhdGUoXCJsYW5kc2NhcGVcIiksIG0gPSBlLnVzZVJlZigpLCB7IGNsYXNzTmFtZTogRSwgdHJhY2tPYnNlcnZlcjogcCB9ID0gZS51c2VNZW1vKCgpID0+IEJlKHQpLCBbXG4gICAgdC5wYXJ0aWNpcGFudC5zaWQgPz8gdC5wYXJ0aWNpcGFudC5pZGVudGl0eSxcbiAgICB0LnNvdXJjZSxcbiAgICB6KHQpICYmIHQucHVibGljYXRpb24udHJhY2tTaWRcbiAgXSk7XG4gIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaCA9IHAuc3Vic2NyaWJlKCh2KSA9PiB7XG4gICAgICBBLmRlYnVnKFwidXBkYXRlIHRyYWNrXCIsIHYpLCByKHYpLCBzKHYgPT0gbnVsbCA/IHZvaWQgMCA6IHYuaXNNdXRlZCksIGwodiA9PSBudWxsID8gdm9pZCAwIDogdi5pc1N1YnNjcmliZWQpLCB1KHYgPT0gbnVsbCA/IHZvaWQgMCA6IHYudHJhY2spO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBoID09IG51bGwgPyB2b2lkIDAgOiBoLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtwXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgaCwgdjtcbiAgICByZXR1cm4gaSAmJiAobS5jdXJyZW50ICYmIGkuZGV0YWNoKG0uY3VycmVudCksIChoID0gYS5lbGVtZW50KSAhPSBudWxsICYmIGguY3VycmVudCAmJiAhKHQucGFydGljaXBhbnQuaXNMb2NhbCAmJiAoaSA9PSBudWxsID8gdm9pZCAwIDogaS5raW5kKSA9PT0gXCJhdWRpb1wiKSAmJiBpLmF0dGFjaChhLmVsZW1lbnQuY3VycmVudCkpLCBtLmN1cnJlbnQgPSAodiA9IGEuZWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHYuY3VycmVudCwgKCkgPT4ge1xuICAgICAgbS5jdXJyZW50ICYmIChpID09IG51bGwgfHwgaS5kZXRhY2gobS5jdXJyZW50KSk7XG4gICAgfTtcbiAgfSwgW2ksIGEuZWxlbWVudF0pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIGgsIHY7XG4gICAgaWYgKHR5cGVvZiAoKGggPSBuID09IG51bGwgPyB2b2lkIDAgOiBuLmRpbWVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBoLndpZHRoKSA9PSBcIm51bWJlclwiICYmIHR5cGVvZiAoKHYgPSBuID09IG51bGwgPyB2b2lkIDAgOiBuLmRpbWVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiB2LmhlaWdodCkgPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgayA9IG4uZGltZW5zaW9ucy53aWR0aCA+IG4uZGltZW5zaW9ucy5oZWlnaHQgPyBcImxhbmRzY2FwZVwiIDogXCJwb3J0cmFpdFwiO1xuICAgICAgZihrKTtcbiAgICB9XG4gIH0sIFtuXSksIHtcbiAgICBwdWJsaWNhdGlvbjogbixcbiAgICBpc011dGVkOiBjLFxuICAgIGlzU3Vic2NyaWJlZDogbyxcbiAgICB0cmFjazogaSxcbiAgICBlbGVtZW50UHJvcHM6IFIoYS5wcm9wcywge1xuICAgICAgY2xhc3NOYW1lOiBFLFxuICAgICAgXCJkYXRhLWxrLWxvY2FsLXBhcnRpY2lwYW50XCI6IHQucGFydGljaXBhbnQuaXNMb2NhbCxcbiAgICAgIFwiZGF0YS1say1zb3VyY2VcIjogbiA9PSBudWxsID8gdm9pZCAwIDogbi5zb3VyY2UsXG4gICAgICAuLi4obiA9PSBudWxsID8gdm9pZCAwIDogbi5raW5kKSA9PT0gXCJ2aWRlb1wiICYmIHsgXCJkYXRhLWxrLW9yaWVudGF0aW9uXCI6IGQgfVxuICAgIH0pXG4gIH07XG59XG52YXIgZHQgPSBcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIiwgUSA9IE5hTiwgbXQgPSBcIltvYmplY3QgU3ltYm9sXVwiLCBmdCA9IC9eXFxzK3xcXHMrJC9nLCBodCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pLCBndCA9IC9eMGJbMDFdKyQvaSwgdnQgPSAvXjBvWzAtN10rJC9pLCBFdCA9IHBhcnNlSW50LCBwdCA9IHR5cGVvZiBMID09IFwib2JqZWN0XCIgJiYgTCAmJiBMLk9iamVjdCA9PT0gT2JqZWN0ICYmIEwsIHd0ID0gdHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIiAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZiwga3QgPSBwdCB8fCB3dCB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksIE10ID0gT2JqZWN0LnByb3RvdHlwZSwgUnQgPSBNdC50b1N0cmluZywgeXQgPSBNYXRoLm1heCwgYnQgPSBNYXRoLm1pbiwgWiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ga3QuRGF0ZS5ub3coKTtcbn07XG5mdW5jdGlvbiBTdCh0LCBhLCBuKSB7XG4gIHZhciByLCBjLCBzLCBvLCBsLCBpLCB1ID0gMCwgZCA9ICExLCBmID0gITEsIG0gPSAhMDtcbiAgaWYgKHR5cGVvZiB0ICE9IFwiZnVuY3Rpb25cIilcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGR0KTtcbiAgYSA9IFUoYSkgfHwgMCwgaihuKSAmJiAoZCA9ICEhbi5sZWFkaW5nLCBmID0gXCJtYXhXYWl0XCIgaW4gbiwgcyA9IGYgPyB5dChVKG4ubWF4V2FpdCkgfHwgMCwgYSkgOiBzLCBtID0gXCJ0cmFpbGluZ1wiIGluIG4gPyAhIW4udHJhaWxpbmcgOiBtKTtcbiAgZnVuY3Rpb24gRShnKSB7XG4gICAgdmFyIHcgPSByLCBDID0gYztcbiAgICByZXR1cm4gciA9IGMgPSB2b2lkIDAsIHUgPSBnLCBvID0gdC5hcHBseShDLCB3KSwgbztcbiAgfVxuICBmdW5jdGlvbiBwKGcpIHtcbiAgICByZXR1cm4gdSA9IGcsIGwgPSBzZXRUaW1lb3V0KGssIGEpLCBkID8gRShnKSA6IG87XG4gIH1cbiAgZnVuY3Rpb24gaChnKSB7XG4gICAgdmFyIHcgPSBnIC0gaSwgQyA9IGcgLSB1LCBxID0gYSAtIHc7XG4gICAgcmV0dXJuIGYgPyBidChxLCBzIC0gQykgOiBxO1xuICB9XG4gIGZ1bmN0aW9uIHYoZykge1xuICAgIHZhciB3ID0gZyAtIGksIEMgPSBnIC0gdTtcbiAgICByZXR1cm4gaSA9PT0gdm9pZCAwIHx8IHcgPj0gYSB8fCB3IDwgMCB8fCBmICYmIEMgPj0gcztcbiAgfVxuICBmdW5jdGlvbiBrKCkge1xuICAgIHZhciBnID0gWigpO1xuICAgIGlmICh2KGcpKVxuICAgICAgcmV0dXJuIEkoZyk7XG4gICAgbCA9IHNldFRpbWVvdXQoaywgaChnKSk7XG4gIH1cbiAgZnVuY3Rpb24gSShnKSB7XG4gICAgcmV0dXJuIGwgPSB2b2lkIDAsIG0gJiYgciA/IEUoZykgOiAociA9IGMgPSB2b2lkIDAsIG8pO1xuICB9XG4gIGZ1bmN0aW9uIHkoKSB7XG4gICAgbCAhPT0gdm9pZCAwICYmIGNsZWFyVGltZW91dChsKSwgdSA9IDAsIHIgPSBpID0gYyA9IGwgPSB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gUygpIHtcbiAgICByZXR1cm4gbCA9PT0gdm9pZCAwID8gbyA6IEkoWigpKTtcbiAgfVxuICBmdW5jdGlvbiBiKCkge1xuICAgIHZhciBnID0gWigpLCB3ID0gdihnKTtcbiAgICBpZiAociA9IGFyZ3VtZW50cywgYyA9IHRoaXMsIGkgPSBnLCB3KSB7XG4gICAgICBpZiAobCA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm4gcChpKTtcbiAgICAgIGlmIChmKVxuICAgICAgICByZXR1cm4gbCA9IHNldFRpbWVvdXQoaywgYSksIEUoaSk7XG4gICAgfVxuICAgIHJldHVybiBsID09PSB2b2lkIDAgJiYgKGwgPSBzZXRUaW1lb3V0KGssIGEpKSwgbztcbiAgfVxuICByZXR1cm4gYi5jYW5jZWwgPSB5LCBiLmZsdXNoID0gUywgYjtcbn1cbmZ1bmN0aW9uIGoodCkge1xuICB2YXIgYSA9IHR5cGVvZiB0O1xuICByZXR1cm4gISF0ICYmIChhID09IFwib2JqZWN0XCIgfHwgYSA9PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gQ3QodCkge1xuICByZXR1cm4gISF0ICYmIHR5cGVvZiB0ID09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBJdCh0KSB7XG4gIHJldHVybiB0eXBlb2YgdCA9PSBcInN5bWJvbFwiIHx8IEN0KHQpICYmIFJ0LmNhbGwodCkgPT0gbXQ7XG59XG5mdW5jdGlvbiBVKHQpIHtcbiAgaWYgKHR5cGVvZiB0ID09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIHQ7XG4gIGlmIChJdCh0KSlcbiAgICByZXR1cm4gUTtcbiAgaWYgKGoodCkpIHtcbiAgICB2YXIgYSA9IHR5cGVvZiB0LnZhbHVlT2YgPT0gXCJmdW5jdGlvblwiID8gdC52YWx1ZU9mKCkgOiB0O1xuICAgIHQgPSBqKGEpID8gYSArIFwiXCIgOiBhO1xuICB9XG4gIGlmICh0eXBlb2YgdCAhPSBcInN0cmluZ1wiKVxuICAgIHJldHVybiB0ID09PSAwID8gdCA6ICt0O1xuICB0ID0gdC5yZXBsYWNlKGZ0LCBcIlwiKTtcbiAgdmFyIG4gPSBndC50ZXN0KHQpO1xuICByZXR1cm4gbiB8fCB2dC50ZXN0KHQpID8gRXQodC5zbGljZSgyKSwgbiA/IDIgOiA4KSA6IGh0LnRlc3QodCkgPyBRIDogK3Q7XG59XG52YXIgUHQgPSBTdDtcbmNvbnN0IFggPSAvKiBAX19QVVJFX18gKi8gamUoUHQpO1xuZnVuY3Rpb24gVHQodCkge1xuICBjb25zdCBhID0gUCh0KTtcbiAgYS5jdXJyZW50ID0gdCwgVChcbiAgICAoKSA9PiAoKSA9PiB7XG4gICAgICBhLmN1cnJlbnQoKTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG59XG5mdW5jdGlvbiB4dCh0LCBhID0gNTAwLCBuKSB7XG4gIGNvbnN0IHIgPSBQKCk7XG4gIFR0KCgpID0+IHtcbiAgICByLmN1cnJlbnQgJiYgci5jdXJyZW50LmNhbmNlbCgpO1xuICB9KTtcbiAgY29uc3QgYyA9IGhlKCgpID0+IHtcbiAgICBjb25zdCBzID0gWCh0LCBhLCBuKSwgbyA9ICguLi5sKSA9PiBzKC4uLmwpO1xuICAgIHJldHVybiBvLmNhbmNlbCA9ICgpID0+IHtcbiAgICAgIHMuY2FuY2VsKCk7XG4gICAgfSwgby5pc1BlbmRpbmcgPSAoKSA9PiAhIXIuY3VycmVudCwgby5mbHVzaCA9ICgpID0+IHMuZmx1c2goKSwgbztcbiAgfSwgW3QsIGEsIG5dKTtcbiAgcmV0dXJuIFQoKCkgPT4ge1xuICAgIHIuY3VycmVudCA9IFgodCwgYSwgbik7XG4gIH0sIFt0LCBhLCBuXSksIGM7XG59XG5mdW5jdGlvbiBBdCh0LCBhLCBuKSB7XG4gIGNvbnN0IHIgPSAodSwgZCkgPT4gdSA9PT0gZCwgYyA9IHQgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHQoKSA6IHQsIFtzLCBvXSA9IHgoYyksIGwgPSBQKGMpLCBpID0geHQoXG4gICAgbyxcbiAgICBhLFxuICAgIG5cbiAgKTtcbiAgcmV0dXJuIHIobC5jdXJyZW50LCBjKSB8fCAoaShjKSwgbC5jdXJyZW50ID0gYyksIFtzLCBpXTtcbn1cbmZ1bmN0aW9uIE50KHtcbiAgdGhyZXNob2xkOiB0ID0gMCxcbiAgcm9vdDogYSA9IG51bGwsXG4gIHJvb3RNYXJnaW46IG4gPSBcIjAlXCIsXG4gIGZyZWV6ZU9uY2VWaXNpYmxlOiByID0gITEsXG4gIGluaXRpYWxJc0ludGVyc2VjdGluZzogYyA9ICExLFxuICBvbkNoYW5nZTogc1xufSA9IHt9KSB7XG4gIHZhciBvO1xuICBjb25zdCBbbCwgaV0gPSB4KG51bGwpLCBbdSwgZF0gPSB4KCgpID0+ICh7XG4gICAgaXNJbnRlcnNlY3Rpbmc6IGMsXG4gICAgZW50cnk6IHZvaWQgMFxuICB9KSksIGYgPSBQKCk7XG4gIGYuY3VycmVudCA9IHM7XG4gIGNvbnN0IG0gPSAoKG8gPSB1LmVudHJ5KSA9PSBudWxsID8gdm9pZCAwIDogby5pc0ludGVyc2VjdGluZykgJiYgcjtcbiAgVCgoKSA9PiB7XG4gICAgaWYgKCFsIHx8ICEoXCJJbnRlcnNlY3Rpb25PYnNlcnZlclwiIGluIHdpbmRvdykgfHwgbSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgaDtcbiAgICBjb25zdCB2ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGspID0+IHtcbiAgICAgICAgY29uc3QgSSA9IEFycmF5LmlzQXJyYXkodi50aHJlc2hvbGRzKSA/IHYudGhyZXNob2xkcyA6IFt2LnRocmVzaG9sZHNdO1xuICAgICAgICBrLmZvckVhY2goKHkpID0+IHtcbiAgICAgICAgICBjb25zdCBTID0geS5pc0ludGVyc2VjdGluZyAmJiBJLnNvbWUoKGIpID0+IHkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gYik7XG4gICAgICAgICAgZCh7IGlzSW50ZXJzZWN0aW5nOiBTLCBlbnRyeTogeSB9KSwgZi5jdXJyZW50ICYmIGYuY3VycmVudChTLCB5KSwgUyAmJiByICYmIGggJiYgKGgoKSwgaCA9IHZvaWQgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHsgdGhyZXNob2xkOiB0LCByb290OiBhLCByb290TWFyZ2luOiBuIH1cbiAgICApO1xuICAgIHJldHVybiB2Lm9ic2VydmUobCksICgpID0+IHtcbiAgICAgIHYuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtcbiAgICBsLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBKU09OLnN0cmluZ2lmeSh0KSxcbiAgICBhLFxuICAgIG4sXG4gICAgbSxcbiAgICByXG4gIF0pO1xuICBjb25zdCBFID0gUChudWxsKTtcbiAgVCgoKSA9PiB7XG4gICAgdmFyIGg7XG4gICAgIWwgJiYgKChoID0gdS5lbnRyeSkgIT0gbnVsbCAmJiBoLnRhcmdldCkgJiYgIXIgJiYgIW0gJiYgRS5jdXJyZW50ICE9PSB1LmVudHJ5LnRhcmdldCAmJiAoRS5jdXJyZW50ID0gdS5lbnRyeS50YXJnZXQsIGQoeyBpc0ludGVyc2VjdGluZzogYywgZW50cnk6IHZvaWQgMCB9KSk7XG4gIH0sIFtsLCB1LmVudHJ5LCByLCBtLCBjXSk7XG4gIGNvbnN0IHAgPSBbXG4gICAgaSxcbiAgICAhIXUuaXNJbnRlcnNlY3RpbmcsXG4gICAgdS5lbnRyeVxuICBdO1xuICByZXR1cm4gcC5yZWYgPSBwWzBdLCBwLmlzSW50ZXJzZWN0aW5nID0gcFsxXSwgcC5lbnRyeSA9IHBbMl0sIHA7XG59XG5jb25zdCBMdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHtcbiAgICBvblRyYWNrQ2xpY2s6IGEsXG4gICAgb25DbGljazogbixcbiAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IHIsXG4gICAgdHJhY2tSZWY6IGMsXG4gICAgbWFuYWdlU3Vic2NyaXB0aW9uOiBzLFxuICAgIC4uLm9cbiAgfSwgbCkge1xuICAgIGNvbnN0IGkgPSBOKGMpLCB1ID0gZS51c2VSZWYobnVsbCk7XG4gICAgZS51c2VJbXBlcmF0aXZlSGFuZGxlKGwsICgpID0+IHUuY3VycmVudCk7XG4gICAgY29uc3QgZCA9IE50KHsgcm9vdDogdS5jdXJyZW50IH0pLCBbZl0gPSBBdChkLCAzZTMpO1xuICAgIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHMgJiYgaS5wdWJsaWNhdGlvbiBpbnN0YW5jZW9mIEggJiYgKGYgPT0gbnVsbCA/IHZvaWQgMCA6IGYuaXNJbnRlcnNlY3RpbmcpID09PSAhMSAmJiAoZCA9PSBudWxsID8gdm9pZCAwIDogZC5pc0ludGVyc2VjdGluZykgPT09ICExICYmIGkucHVibGljYXRpb24uc2V0U3Vic2NyaWJlZCghMSk7XG4gICAgfSwgW2YsIGksIHNdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgcyAmJiBpLnB1YmxpY2F0aW9uIGluc3RhbmNlb2YgSCAmJiAoZCA9PSBudWxsID8gdm9pZCAwIDogZC5pc0ludGVyc2VjdGluZykgPT09ICEwICYmIGkucHVibGljYXRpb24uc2V0U3Vic2NyaWJlZCghMCk7XG4gICAgfSwgW2QsIGksIHNdKTtcbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50UHJvcHM6IG0sXG4gICAgICBwdWJsaWNhdGlvbjogRSxcbiAgICAgIGlzU3Vic2NyaWJlZDogcFxuICAgIH0gPSBkZShpLCB7XG4gICAgICBlbGVtZW50OiB1LFxuICAgICAgcHJvcHM6IG9cbiAgICB9KTtcbiAgICBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICByID09IG51bGwgfHwgcighIXApO1xuICAgIH0sIFtwLCByXSk7XG4gICAgY29uc3QgaCA9ICh2KSA9PiB7XG4gICAgICBuID09IG51bGwgfHwgbih2KSwgYSA9PSBudWxsIHx8IGEoeyBwYXJ0aWNpcGFudDogaSA9PSBudWxsID8gdm9pZCAwIDogaS5wYXJ0aWNpcGFudCwgdHJhY2s6IEUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInZpZGVvXCIsIHsgcmVmOiB1LCAuLi5tLCBtdXRlZDogITAsIG9uQ2xpY2s6IGggfSk7XG4gIH1cbiksICQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHRyYWNrUmVmOiBhLCBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IG4sIHZvbHVtZTogciwgLi4uYyB9LCBzKSB7XG4gICAgY29uc3QgbyA9IE4oYSksIGwgPSBlLnVzZVJlZihudWxsKTtcbiAgICBlLnVzZUltcGVyYXRpdmVIYW5kbGUocywgKCkgPT4gbC5jdXJyZW50KTtcbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50UHJvcHM6IGksXG4gICAgICBpc1N1YnNjcmliZWQ6IHUsXG4gICAgICB0cmFjazogZCxcbiAgICAgIHB1YmxpY2F0aW9uOiBmXG4gICAgfSA9IGRlKG8sIHtcbiAgICAgIGVsZW1lbnQ6IGwsXG4gICAgICBwcm9wczogY1xuICAgIH0pO1xuICAgIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBuID09IG51bGwgfHwgbighIXUpO1xuICAgIH0sIFt1LCBuXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGQgPT09IHZvaWQgMCB8fCByID09PSB2b2lkIDAgfHwgKGQgaW5zdGFuY2VvZiB6ZSA/IGQuc2V0Vm9sdW1lKHIpIDogQS53YXJuKFwiVm9sdW1lIGNhbiBvbmx5IGJlIHNldCBvbiByZW1vdGUgYXVkaW8gdHJhY2tzLlwiKSk7XG4gICAgfSwgW3IsIGRdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZiA9PT0gdm9pZCAwIHx8IGMubXV0ZWQgPT09IHZvaWQgMCB8fCAoZiBpbnN0YW5jZW9mIEggPyBmLnNldEVuYWJsZWQoIWMubXV0ZWQpIDogQS53YXJuKFwiQ2FuIG9ubHkgY2FsbCBzZXRFbmFibGVkIG9uIHJlbW90ZSB0cmFjayBwdWJsaWNhdGlvbnMuXCIpKTtcbiAgICB9LCBbYy5tdXRlZCwgZiwgZF0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiwgeyByZWY6IGwsIC4uLmkgfSk7XG4gIH1cbik7XG5mdW5jdGlvbiB6dCh0KSB7XG4gIGNvbnN0IGEgPSAhIU9lKCk7XG4gIHJldHVybiB0LnBhcnRpY2lwYW50ICYmICFhID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChjZS5Qcm92aWRlciwgeyB2YWx1ZTogdC5wYXJ0aWNpcGFudCB9LCB0LmNoaWxkcmVuKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgdC5jaGlsZHJlbik7XG59XG5mdW5jdGlvbiBWdCh0KSB7XG4gIGNvbnN0IGEgPSAhIV8oKTtcbiAgcmV0dXJuIHQudHJhY2tSZWYgJiYgIWEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFcuUHJvdmlkZXIsIHsgdmFsdWU6IHQudHJhY2tSZWYgfSwgdC5jaGlsZHJlbikgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHQuY2hpbGRyZW4pO1xufVxuY29uc3QgRnQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7XG4gICAgdHJhY2tSZWY6IGEsXG4gICAgY2hpbGRyZW46IG4sXG4gICAgb25QYXJ0aWNpcGFudENsaWNrOiByLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogYyxcbiAgICAuLi5zXG4gIH0sIG8pIHtcbiAgICB2YXIgRSwgcDtcbiAgICBjb25zdCBsID0gTihhKSwgeyBlbGVtZW50UHJvcHM6IGkgfSA9IHRlKHtcbiAgICAgIGh0bWxQcm9wczogcyxcbiAgICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogYyxcbiAgICAgIG9uUGFydGljaXBhbnRDbGljazogcixcbiAgICAgIHRyYWNrUmVmOiBsXG4gICAgfSksIHUgPSBTZShsLnBhcnRpY2lwYW50KSwgZCA9IF9lKCksIGYgPSAoRSA9IFdlKCkpID09IG51bGwgPyB2b2lkIDAgOiBFLmF1dG9TdWJzY3JpcHRpb24sIG0gPSBlLnVzZUNhbGxiYWNrKFxuICAgICAgKGgpID0+IHtcbiAgICAgICAgbC5zb3VyY2UgJiYgIWggJiYgZCAmJiBkLnBpbi5kaXNwYXRjaCAmJiAkZShsLCBkLnBpbi5zdGF0ZSkgJiYgZC5waW4uZGlzcGF0Y2goeyBtc2c6IFwiY2xlYXJfcGluXCIgfSk7XG4gICAgICB9LFxuICAgICAgW2wsIGRdXG4gICAgKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbywgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9LCAuLi5pIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoVnQsIHsgdHJhY2tSZWY6IGwgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudCh6dCwgeyBwYXJ0aWNpcGFudDogbC5wYXJ0aWNpcGFudCB9LCBuID8/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgeihsKSAmJiAoKChwID0gbC5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHAua2luZCkgPT09IFwidmlkZW9cIiB8fCBsLnNvdXJjZSA9PT0gTS5Tb3VyY2UuQ2FtZXJhIHx8IGwuc291cmNlID09PSBNLlNvdXJjZS5TY3JlZW5TaGFyZSkgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgTHQsXG4gICAgICB7XG4gICAgICAgIHRyYWNrUmVmOiBsLFxuICAgICAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IG0sXG4gICAgICAgIG1hbmFnZVN1YnNjcmlwdGlvbjogZlxuICAgICAgfVxuICAgICkgOiB6KGwpICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAkLFxuICAgICAge1xuICAgICAgICB0cmFja1JlZjogbCxcbiAgICAgICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkOiBtXG4gICAgICB9XG4gICAgKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1wbGFjZWhvbGRlclwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQodXQsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGEtaXRlbVwiIH0sIGwuc291cmNlID09PSBNLlNvdXJjZS5DYW1lcmEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHUgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChLZSwgeyBzdHlsZTogeyBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIgfSB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIHVlLFxuICAgICAge1xuICAgICAgICB0cmFja1JlZjoge1xuICAgICAgICAgIHBhcnRpY2lwYW50OiBsLnBhcnRpY2lwYW50LFxuICAgICAgICAgIHNvdXJjZTogTS5Tb3VyY2UuTWljcm9waG9uZVxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBcIm11dGVkXCJcbiAgICAgIH1cbiAgICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEIsIG51bGwpKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChpZSwgeyBzdHlsZTogeyBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIgfSB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChCLCBudWxsLCBcIidzIHNjcmVlblwiKSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KG9lLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSkpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChzdCwgeyB0cmFja1JlZjogbCB9KSkpKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIG1uKHQpIHtcbiAgY29uc3QgYSA9IFIodCwgeyBjbGFzc05hbWU6IFwibGstZm9jdXMtbGF5b3V0XCIgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgLi4uYSB9LCB0LmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIGZuKHsgdHJhY2tSZWY6IHQsIC4uLmEgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChGdCwgeyB0cmFja1JlZjogdCwgLi4uYSB9KTtcbn1cbmZ1bmN0aW9uIG1lKHsgdHJhY2tzOiB0LCAuLi5hIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgdC5tYXAoKG4pID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgVy5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZTogbixcbiAgICAgIGtleTogbGUobilcbiAgICB9LFxuICAgIE8oYS5jaGlsZHJlbilcbiAgKSkpO1xufVxuZnVuY3Rpb24gWnQoe1xuICB0b3RhbFBhZ2VDb3VudDogdCxcbiAgbmV4dFBhZ2U6IGEsXG4gIHByZXZQYWdlOiBuLFxuICBjdXJyZW50UGFnZTogcixcbiAgcGFnZXNDb250YWluZXI6IGNcbn0pIHtcbiAgY29uc3QgW3MsIG9dID0gZS51c2VTdGF0ZSghMSk7XG4gIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGw7XG4gICAgcmV0dXJuIGMgJiYgKGwgPSBxZShjLmN1cnJlbnQsIDJlMykuc3Vic2NyaWJlKFxuICAgICAgb1xuICAgICkpLCAoKSA9PiB7XG4gICAgICBsICYmIGwudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbY10pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24tY29udHJvbFwiLCBcImRhdGEtbGstdXNlci1pbnRlcmFjdGlvblwiOiBzIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uXCIsIG9uQ2xpY2s6IG4gfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChELCBudWxsKSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24tY291bnRcIiB9LCBgJHtyfSBvZiAke3R9YCksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uXCIsIG9uQ2xpY2s6IGEgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChELCBudWxsKSkpO1xufVxuY29uc3QgSHQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHRvdGFsUGFnZUNvdW50OiBhLCBjdXJyZW50UGFnZTogbiB9LCByKSB7XG4gICAgY29uc3QgYyA9IG5ldyBBcnJheShhKS5maWxsKFwiXCIpLm1hcCgocywgbykgPT4gbyArIDEgPT09IG4gPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IFwiZGF0YS1say1hY3RpdmVcIjogITAsIGtleTogbyB9KSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsga2V5OiBvIH0pKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogciwgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24taW5kaWNhdG9yXCIgfSwgYyk7XG4gIH1cbik7XG5mdW5jdGlvbiBobih7IHRyYWNrczogdCwgLi4uYSB9KSB7XG4gIGNvbnN0IG4gPSBlLmNyZWF0ZVJlZigpLCByID0gZS51c2VNZW1vKFxuICAgICgpID0+IFIoYSwgeyBjbGFzc05hbWU6IFwibGstZ3JpZC1sYXlvdXRcIiB9KSxcbiAgICBbYV1cbiAgKSwgeyBsYXlvdXQ6IGMgfSA9IENlKG4sIHQubGVuZ3RoKSwgcyA9IEllKGMubWF4VGlsZXMsIHQpO1xuICByZXR1cm4gUGUobiwge1xuICAgIG9uTGVmdFN3aXBlOiBzLm5leHRQYWdlLFxuICAgIG9uUmlnaHRTd2lwZTogcy5wcmV2UGFnZVxuICB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbiwgXCJkYXRhLWxrLXBhZ2luYXRpb25cIjogcy50b3RhbFBhZ2VDb3VudCA+IDEsIC4uLnIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChtZSwgeyB0cmFja3M6IHMudHJhY2tzIH0sIGEuY2hpbGRyZW4pLCB0Lmxlbmd0aCA+IGMubWF4VGlsZXMgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIEh0LFxuICAgIHtcbiAgICAgIHRvdGFsUGFnZUNvdW50OiBzLnRvdGFsUGFnZUNvdW50LFxuICAgICAgY3VycmVudFBhZ2U6IHMuY3VycmVudFBhZ2VcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoWnQsIHsgcGFnZXNDb250YWluZXI6IG4sIC4uLnMgfSkpKTtcbn1cbmNvbnN0IEJ0ID0gMTMwLCBqdCA9IDE0MCwgWSA9IDEsIGZlID0gMTYgLyAxMCwgT3QgPSAoMSAtIGZlKSAqIC0xO1xuZnVuY3Rpb24gZ24oeyB0cmFja3M6IHQsIG9yaWVudGF0aW9uOiBhLCAuLi5uIH0pIHtcbiAgY29uc3QgciA9IGUudXNlUmVmKG51bGwpLCBbYywgc10gPSBlLnVzZVN0YXRlKDApLCB7IHdpZHRoOiBvLCBoZWlnaHQ6IGwgfSA9IFRlKHIpLCBpID0gYSB8fCAobCA+PSBvID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIpLCB1ID0gaSA9PT0gXCJ2ZXJ0aWNhbFwiID8gTWF0aC5tYXgobyAqIE90LCBCdCkgOiBNYXRoLm1heChsICogZmUsIGp0KSwgZCA9IERlKCksIGYgPSBNYXRoLm1heChpID09PSBcInZlcnRpY2FsXCIgPyAobCAtIGQpIC8gdSA6IChvIC0gZCkgLyB1LCBZKTtcbiAgbGV0IG0gPSBNYXRoLnJvdW5kKGYpO1xuICBNYXRoLmFicyhmIC0gYykgPCAwLjUgPyBtID0gTWF0aC5yb3VuZChjKSA6IGMgIT09IGYgJiYgcyhmKTtcbiAgY29uc3QgRSA9IHhlKHQsIG0pO1xuICByZXR1cm4gZS51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHIuY3VycmVudCAmJiAoci5jdXJyZW50LmRhdGFzZXQubGtPcmllbnRhdGlvbiA9IGksIHIuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstbWF4LXZpc2libGUtdGlsZXNcIiwgbS50b1N0cmluZygpKSk7XG4gIH0sIFttLCBpXSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJhc2lkZVwiLCB7IGtleTogaSwgY2xhc3NOYW1lOiBcImxrLWNhcm91c2VsXCIsIHJlZjogciwgLi4ubiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KG1lLCB7IHRyYWNrczogRSB9LCBuLmNoaWxkcmVuKSk7XG59XG5mdW5jdGlvbiB2bih7XG4gIHZhbHVlOiB0LFxuICBvblBpbkNoYW5nZTogYSxcbiAgb25XaWRnZXRDaGFuZ2U6IG4sXG4gIGNoaWxkcmVuOiByXG59KSB7XG4gIGNvbnN0IGMgPSBHZSh0KTtcbiAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBBLmRlYnVnKFwiUGluU3RhdGUgVXBkYXRlZFwiLCB7IHN0YXRlOiBjLnBpbi5zdGF0ZSB9KSwgYSAmJiBjLnBpbi5zdGF0ZSAmJiBhKGMucGluLnN0YXRlKTtcbiAgfSwgW2MucGluLnN0YXRlLCBhXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBBLmRlYnVnKFwiV2lkZ2V0IFVwZGF0ZWRcIiwgeyB3aWRnZXRTdGF0ZTogYy53aWRnZXQuc3RhdGUgfSksIG4gJiYgYy53aWRnZXQuc3RhdGUgJiYgbihjLndpZGdldC5zdGF0ZSk7XG4gIH0sIFtuLCBjLndpZGdldC5zdGF0ZV0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGFlLlByb3ZpZGVyLCB7IHZhbHVlOiBjIH0sIHIpO1xufVxuY29uc3QgRW4gPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHRyYWNrUmVmOiBhLCAuLi5uIH0sIHIpIHtcbiAgICBjb25zdCBkID0gTihhKSwgZiA9IG5lKGQsIHsgYmFuZHM6IDcsIGxvUGFzczogMzAwIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzdmdcIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiByLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDIwMCA5MFwiLFxuICAgICAgICAuLi5uLFxuICAgICAgICBjbGFzc05hbWU6IFwibGstYXVkaW8tdmlzdWFsaXplclwiXG4gICAgICB9LFxuICAgICAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInJlY3RcIiwgeyB4OiBcIjBcIiwgeTogXCIwXCIsIHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwiZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgkeygyMDAgLSA3ICogMTApIC8gMn1weCwgMClgXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmLm1hcCgobSwgRSkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInJlY3RcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IEUsXG4gICAgICAgICAgICB4OiBFICogMTAsXG4gICAgICAgICAgICB5OiA5MCAvIDIgLSBtICogNTAgLyAyLFxuICAgICAgICAgICAgd2lkdGg6IDYsXG4gICAgICAgICAgICBoZWlnaHQ6IG0gKiA1MFxuICAgICAgICAgIH1cbiAgICAgICAgKSlcbiAgICAgIClcbiAgICApO1xuICB9XG4pO1xuZnVuY3Rpb24gcG4oeyBwYXJ0aWNpcGFudHM6IHQsIC4uLmEgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCB0Lm1hcCgobikgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChjZS5Qcm92aWRlciwgeyB2YWx1ZTogbiwga2V5OiBuLmlkZW50aXR5IH0sIE8oYS5jaGlsZHJlbikpKSk7XG59XG5mdW5jdGlvbiB3bih7IHZvbHVtZTogdCwgbXV0ZWQ6IGEgfSkge1xuICBjb25zdCBuID0gQWUoXG4gICAgW00uU291cmNlLk1pY3JvcGhvbmUsIE0uU291cmNlLlNjcmVlblNoYXJlQXVkaW8sIE0uU291cmNlLlVua25vd25dLFxuICAgIHtcbiAgICAgIHVwZGF0ZU9ubHlPbjogW10sXG4gICAgICBvbmx5U3Vic2NyaWJlZDogITBcbiAgICB9XG4gICkuZmlsdGVyKChyKSA9PiAhci5wYXJ0aWNpcGFudC5pc0xvY2FsICYmIHIucHVibGljYXRpb24ua2luZCA9PT0gTS5LaW5kLkF1ZGlvKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH0sIG4ubWFwKChyKSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICQsXG4gICAge1xuICAgICAga2V5OiBsZShyKSxcbiAgICAgIHRyYWNrUmVmOiByLFxuICAgICAgdm9sdW1lOiB0LFxuICAgICAgbXV0ZWQ6IGFcbiAgICB9XG4gICkpKTtcbn1cbmNvbnN0IGtuID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihmdW5jdGlvbih7IGNoaWxkcmVuUG9zaXRpb246IGEgPSBcImJlZm9yZVwiLCBjaGlsZHJlbjogbiwgLi4uciB9LCBjKSB7XG4gIGNvbnN0IHsgbmFtZTogcyB9ID0gTmUoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgcmVmOiBjLCAuLi5yIH0sIGEgPT09IFwiYmVmb3JlXCIgJiYgbiwgcywgYSA9PT0gXCJhZnRlclwiICYmIG4pO1xufSk7XG5mdW5jdGlvbiBfdCh0KSB7XG4gIGNvbnN0IGEgPSBlLnVzZU1lbW8oKCkgPT4gUih0LCB7IGNsYXNzTmFtZTogXCJsay10b2FzdFwiIH0pLCBbdF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IC4uLmEgfSwgdC5jaGlsZHJlbik7XG59XG5jb25zdCBXdCA9ICh0KSA9PiB7XG4gIGNvbnN0IGEgPSBbXTtcbiAgZm9yIChsZXQgbiA9IDA7IG4gPCB0OyBuKyspXG4gICAgYS5wdXNoKFtuLCB0IC0gMSAtIG5dKTtcbiAgcmV0dXJuIGE7XG59LCBKID0gKHQpID0+IFtbTWF0aC5mbG9vcih0IC8gMildLCBbLTFdXSwgJHQgPSAodCwgYSwgbikgPT4ge1xuICBjb25zdCBbciwgY10gPSB4KDApLCBbcywgb10gPSB4KFtbXV0pO1xuICBUKCgpID0+IHtcbiAgICBpZiAodCA9PT0gXCJ0aGlua2luZ1wiKVxuICAgICAgbyhKKGEpKTtcbiAgICBlbHNlIGlmICh0ID09PSBcImNvbm5lY3RpbmdcIiB8fCB0ID09PSBcImluaXRpYWxpemluZ1wiKSB7XG4gICAgICBjb25zdCBpID0gWy4uLld0KGEpXTtcbiAgICAgIG8oaSk7XG4gICAgfSBlbHNlIG8odCA9PT0gXCJsaXN0ZW5pbmdcIiA/IEooYSkgOiB0ID09PSB2b2lkIDAgPyBbbmV3IEFycmF5KGEpLmZpbGwoMCkubWFwKChpLCB1KSA9PiB1KV0gOiBbW11dKTtcbiAgICBjKDApO1xuICB9LCBbdCwgYV0pO1xuICBjb25zdCBsID0gUChudWxsKTtcbiAgcmV0dXJuIFQoKCkgPT4ge1xuICAgIGxldCBpID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdSA9IChkKSA9PiB7XG4gICAgICBkIC0gaSA+PSBuICYmIChjKChtKSA9PiBtICsgMSksIGkgPSBkKSwgbC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpO1xuICAgIH07XG4gICAgcmV0dXJuIGwuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1KSwgKCkgPT4ge1xuICAgICAgbC5jdXJyZW50ICE9PSBudWxsICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGwuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW24sIGEsIHQsIHMubGVuZ3RoXSksIHNbciAlIHMubGVuZ3RoXTtcbn0sIHF0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICBbXCJjb25uZWN0aW5nXCIsIDJlM10sXG4gIFtcImluaXRpYWxpemluZ1wiLCAyZTNdLFxuICBbXCJsaXN0ZW5pbmdcIiwgNTAwXSxcbiAgW1widGhpbmtpbmdcIiwgMTUwXVxuXSksIER0ID0gKHQsIGEpID0+IHtcbiAgaWYgKHQgPT09IHZvaWQgMClcbiAgICByZXR1cm4gMWUzO1xuICBsZXQgbiA9IHF0LmdldCh0KTtcbiAgaWYgKG4pXG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgICBuIC89IGE7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgcmV0dXJuIG47XG59LCBHdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgc3RhdGU6IGEsIG9wdGlvbnM6IG4sIGJhckNvdW50OiByID0gMTUsIHRyYWNrUmVmOiBjLCBjaGlsZHJlbjogcywgLi4ubyB9LCBsKSB7XG4gICAgY29uc3QgaSA9IFIobywgeyBjbGFzc05hbWU6IFwibGstYXVkaW8tYmFyLXZpc3VhbGl6ZXJcIiB9KTtcbiAgICBsZXQgdSA9IF8oKTtcbiAgICBjICYmICh1ID0gYyk7XG4gICAgY29uc3QgZCA9IG5lKHUsIHtcbiAgICAgIGJhbmRzOiByLFxuICAgICAgbG9QYXNzOiAxMDAsXG4gICAgICBoaVBhc3M6IDIwMFxuICAgIH0pLCBmID0gKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ubWluSGVpZ2h0KSA/PyAyMCwgbSA9IChuID09IG51bGwgPyB2b2lkIDAgOiBuLm1heEhlaWdodCkgPz8gMTAwLCBFID0gJHQoXG4gICAgICBhLFxuICAgICAgcixcbiAgICAgIER0KGEsIHIpID8/IDEwMFxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGwsIC4uLmksIFwiZGF0YS1say12YS1zdGF0ZVwiOiBhIH0sIGQubWFwKFxuICAgICAgKHAsIGgpID0+IHMgPyBPKHMsIHtcbiAgICAgICAgXCJkYXRhLWxrLWhpZ2hsaWdodGVkXCI6IEUuaW5jbHVkZXMoaCksXG4gICAgICAgIFwiZGF0YS1say1iYXItaW5kZXhcIjogaCxcbiAgICAgICAgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLWJhclwiLFxuICAgICAgICBzdHlsZTogeyBoZWlnaHQ6IGAke01hdGgubWluKG0sIE1hdGgubWF4KGYsIHAgKiAxMDAgKyA1KSl9JWAgfVxuICAgICAgfSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIGtleTogaCxcbiAgICAgICAgICBcImRhdGEtbGstaGlnaGxpZ2h0ZWRcIjogRS5pbmNsdWRlcyhoKSxcbiAgICAgICAgICBcImRhdGEtbGstYmFyLWluZGV4XCI6IGgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBgbGstYXVkaW8tYmFyICR7RS5pbmNsdWRlcyhoKSAmJiBcImxrLWhpZ2hsaWdodGVkXCJ9YCxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgLy8gVE9ETyB0cmFuc2Zvcm0gYW5pbWF0aW9ucyB3b3VsZCBiZSBtb3JlIHBlcmZvcm1hbnQsIGhvd2V2ZXIgdGhlIGJvcmRlci1yYWRpdXMgZ2V0cyBkaXN0b3J0ZWQgd2hlbiB1c2luZyBzY2FsZSB0cmFuc2Zvcm1zLiBhIDktc2xpY2UgYXBwcm9hY2ggKG9yIDMgaW4gdGhpcyBjYXNlKSBjb3VsZCB3b3JrXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm06IGBzY2FsZSgxLCAke01hdGgubWluKG1heEhlaWdodCwgTWF0aC5tYXgobWluSGVpZ2h0LCB2b2x1bWUpKX1gLFxuICAgICAgICAgICAgaGVpZ2h0OiBgJHtNYXRoLm1pbihtLCBNYXRoLm1heChmLCBwICogMTAwICsgNSkpfSVgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKSk7XG4gIH1cbiksIE1uID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oe1xuICAgIGNoaWxkcmVuOiBhLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogbixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2s6IHIsXG4gICAgdHJhY2tSZWY6IGMsXG4gICAgLi4uc1xuICB9LCBvKSB7XG4gICAgY29uc3QgbCA9IE4oYyksIHsgZWxlbWVudFByb3BzOiBpIH0gPSB0ZSh7XG4gICAgICB0cmFja1JlZjogbCxcbiAgICAgIGh0bWxQcm9wczogcyxcbiAgICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogbixcbiAgICAgIG9uUGFydGljaXBhbnRDbGljazogclxuICAgIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBvLCBzdHlsZTogeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBtaW5IZWlnaHQ6IFwiMTYwcHhcIiB9LCAuLi5pIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoVy5Qcm92aWRlciwgeyB2YWx1ZTogbCB9LCBhID8/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgeihsKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KCQsIHsgdHJhY2tSZWY6IGwgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoR3QsIHsgYmFyQ291bnQ6IDcsIG9wdGlvbnM6IHsgbWluSGVpZ2h0OiA4IH0gfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGFcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhLWl0ZW1cIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHVlLCB7IHRyYWNrUmVmOiBsIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEIsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChvZSwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGEtaXRlbVwiIH0pKSkpKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIFJuKHQpIHtcbiAgY29uc3QgW2EsIG5dID0gZS51c2VTdGF0ZSh2b2lkIDApLCByID0gSyh0LnJvb20pO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHN3aXRjaCAocikge1xuICAgICAgY2FzZSBGLlJlY29ubmVjdGluZzpcbiAgICAgICAgbihcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoRywgeyBjbGFzc05hbWU6IFwibGstc3Bpbm5lclwiIH0pLCBcIiBSZWNvbm5lY3RpbmdcIilcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEYuQ29ubmVjdGluZzpcbiAgICAgICAgbihcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoRywgeyBjbGFzc05hbWU6IFwibGstc3Bpbm5lclwiIH0pLCBcIiBDb25uZWN0aW5nXCIpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGLkRpc2Nvbm5lY3RlZDpcbiAgICAgICAgbigvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIFwiRGlzY29ubmVjdGVkXCIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBuKHZvaWQgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgW3JdKSwgYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoX3QsIHsgY2xhc3NOYW1lOiBcImxrLXRvYXN0LWNvbm5lY3Rpb24tc3RhdGVcIiB9LCBhKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCk7XG59XG5jb25zdCB5biA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgZW50cnk6IGEsIGhpZGVOYW1lOiBuID0gITEsIGhpZGVUaW1lc3RhbXA6IHIgPSAhMSwgbWVzc2FnZUZvcm1hdHRlcjogYywgLi4ucyB9LCBvKSB7XG4gICAgdmFyIGYsIG0sIEU7XG4gICAgY29uc3QgbCA9IGUudXNlTWVtbygoKSA9PiBjID8gYyhhLm1lc3NhZ2UpIDogYS5tZXNzYWdlLCBbYS5tZXNzYWdlLCBjXSksIGkgPSAhIWEuZWRpdFRpbWVzdGFtcCwgdSA9IG5ldyBEYXRlKGEudGltZXN0YW1wKSwgZCA9IG5hdmlnYXRvciA/IG5hdmlnYXRvci5sYW5ndWFnZSA6IFwiZW4tVVNcIjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIFwibGlcIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBvLFxuICAgICAgICBjbGFzc05hbWU6IFwibGstY2hhdC1lbnRyeVwiLFxuICAgICAgICB0aXRsZTogdS50b0xvY2FsZVRpbWVTdHJpbmcoZCwgeyB0aW1lU3R5bGU6IFwiZnVsbFwiIH0pLFxuICAgICAgICBcImRhdGEtbGstbWVzc2FnZS1vcmlnaW5cIjogKGYgPSBhLmZyb20pICE9IG51bGwgJiYgZi5pc0xvY2FsID8gXCJsb2NhbFwiIDogXCJyZW1vdGVcIixcbiAgICAgICAgLi4uc1xuICAgICAgfSxcbiAgICAgICghciB8fCAhbiB8fCBpKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay1tZXRhLWRhdGFcIiB9LCAhbiAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW5hbWVcIiB9LCAoKG0gPSBhLmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBtLm5hbWUpID8/ICgoRSA9IGEuZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IEUuaWRlbnRpdHkpKSwgKCFyIHx8IGkpICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLXRpbWVzdGFtcFwiIH0sIGkgJiYgXCJlZGl0ZWQgXCIsIHUudG9Mb2NhbGVUaW1lU3RyaW5nKGQsIHsgdGltZVN0eWxlOiBcInNob3J0XCIgfSkpKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLW1lc3NhZ2UtYm9keVwiIH0sIGwpXG4gICAgKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIGJuKHQpIHtcbiAgcmV0dXJuIFFlKHQsIFVlKCkpLm1hcCgoYSwgbikgPT4ge1xuICAgIGlmICh0eXBlb2YgYSA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGE7XG4gICAge1xuICAgICAgY29uc3QgciA9IGEuY29udGVudC50b1N0cmluZygpLCBjID0gYS50eXBlID09PSBcInVybFwiID8gL15odHRwKHM/KTpcXC9cXC8vLnRlc3QocikgPyByIDogYGh0dHBzOi8vJHtyfWAgOiBgbWFpbHRvOiR7cn1gO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHsgY2xhc3NOYW1lOiBcImxrLWNoYXQtbGlua1wiLCBrZXk6IG4sIGhyZWY6IGMsIHRhcmdldDogXCJfYmxhbmtcIiwgcmVsOiBcIm5vcmVmZXJyZXJcIiB9LCByKTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgRW4gYXMgQSxcbiAgR3QgYXMgQixcbiAgdG4gYXMgQyxcbiAgbm4gYXMgRCxcbiAgWWUgYXMgRSxcbiAgbW4gYXMgRixcbiAgaG4gYXMgRyxcbiAgRCBhcyBILFxuICBKZSBhcyBJLFxuICBLZSBhcyBKLFxuICBldCBhcyBLLFxuICB2biBhcyBMLFxuICBzbiBhcyBNLFxuICB0dCBhcyBOLFxuICBudCBhcyBPLFxuICBGdCBhcyBQLFxuICBhdCBhcyBRLFxuICB3biBhcyBSLFxuICBhbiBhcyBTLFxuICBkbiBhcyBULFxuICBydCBhcyBVLFxuICBMdCBhcyBWLFxuICBjdCBhcyBXLFxuICBpZSBhcyBYLFxuICBsdCBhcyBZLFxuICBHIGFzIFosXG4gIGl0IGFzIF8sXG4gIHluIGFzIGEsXG4gIHV0IGFzIGIsXG4gIHJuIGFzIGMsXG4gIGNuIGFzIGQsXG4gIGxuIGFzIGUsXG4gIHVuIGFzIGYsXG4gIGduIGFzIGcsXG4gIGZuIGFzIGgsXG4gIFJuIGFzIGksXG4gIG1lIGFzIGosXG4gIE1uIGFzIGssXG4gIF90IGFzIGwsXG4gIGJuIGFzIG0sXG4gIEt0IGFzIG4sXG4gIGVuIGFzIG8sXG4gIHN0IGFzIHAsXG4gIG9uIGFzIHEsXG4gIG9lIGFzIHIsXG4gICQgYXMgcyxcbiAgQiBhcyB0LFxuICB1ZSBhcyB1LFxuICBwbiBhcyB2LFxuICBrbiBhcyB3LFxuICB6dCBhcyB4LFxuICBWdCBhcyB5LFxuICBYZSBhcyB6XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50cy1EWnh6Mll3Ry5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/components-DZxz2YwG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ Ss),\n/* harmony export */   A: () => (/* binding */ Wo),\n/* harmony export */   B: () => (/* binding */ wo),\n/* harmony export */   C: () => (/* binding */ no),\n/* harmony export */   D: () => (/* binding */ cs),\n/* harmony export */   E: () => (/* binding */ Jo),\n/* harmony export */   F: () => (/* binding */ Ts),\n/* harmony export */   G: () => (/* binding */ Do),\n/* harmony export */   H: () => (/* binding */ qo),\n/* harmony export */   I: () => (/* binding */ Zo),\n/* harmony export */   J: () => (/* binding */ Ho),\n/* harmony export */   K: () => (/* binding */ zo),\n/* harmony export */   L: () => (/* binding */ xo),\n/* harmony export */   M: () => (/* binding */ jo),\n/* harmony export */   N: () => (/* binding */ ls),\n/* harmony export */   O: () => (/* binding */ fs),\n/* harmony export */   P: () => (/* binding */ ds),\n/* harmony export */   Q: () => (/* binding */ ss),\n/* harmony export */   R: () => (/* binding */ Dn),\n/* harmony export */   S: () => (/* binding */ ts),\n/* harmony export */   T: () => (/* binding */ ns),\n/* harmony export */   U: () => (/* binding */ Fi),\n/* harmony export */   V: () => (/* binding */ ms),\n/* harmony export */   W: () => (/* binding */ Uo),\n/* harmony export */   X: () => (/* binding */ It),\n/* harmony export */   Y: () => (/* binding */ Bo),\n/* harmony export */   Z: () => (/* binding */ us),\n/* harmony export */   _: () => (/* binding */ xs),\n/* harmony export */   a: () => (/* binding */ Es),\n/* harmony export */   a0: () => (/* binding */ Go),\n/* harmony export */   a1: () => (/* binding */ F),\n/* harmony export */   a2: () => (/* binding */ gs),\n/* harmony export */   a3: () => (/* binding */ ys),\n/* harmony export */   a4: () => (/* binding */ bs),\n/* harmony export */   a5: () => (/* binding */ $o),\n/* harmony export */   a6: () => (/* binding */ No),\n/* harmony export */   a7: () => (/* binding */ es),\n/* harmony export */   a8: () => (/* binding */ Ko),\n/* harmony export */   a9: () => (/* binding */ In),\n/* harmony export */   aa: () => (/* binding */ Ln),\n/* harmony export */   ab: () => (/* binding */ as),\n/* harmony export */   ac: () => (/* binding */ br),\n/* harmony export */   ad: () => (/* binding */ yr),\n/* harmony export */   ae: () => (/* binding */ Mn),\n/* harmony export */   af: () => (/* binding */ _n),\n/* harmony export */   ag: () => (/* binding */ Ms),\n/* harmony export */   ah: () => (/* binding */ ws),\n/* harmony export */   ai: () => (/* binding */ Po),\n/* harmony export */   aj: () => (/* binding */ Ps),\n/* harmony export */   ak: () => (/* binding */ _o),\n/* harmony export */   al: () => (/* binding */ Lo),\n/* harmony export */   am: () => (/* binding */ ko),\n/* harmony export */   an: () => (/* binding */ Oo),\n/* harmony export */   ao: () => (/* binding */ Ro),\n/* harmony export */   ap: () => (/* binding */ Cs),\n/* harmony export */   aq: () => (/* binding */ To),\n/* harmony export */   ar: () => (/* binding */ Ao),\n/* harmony export */   as: () => (/* binding */ Io),\n/* harmony export */   at: () => (/* binding */ Mo),\n/* harmony export */   au: () => (/* binding */ Os),\n/* harmony export */   av: () => (/* binding */ As),\n/* harmony export */   b: () => (/* binding */ hs),\n/* harmony export */   c: () => (/* binding */ Ls),\n/* harmony export */   d: () => (/* binding */ os),\n/* harmony export */   e: () => (/* binding */ Vo),\n/* harmony export */   f: () => (/* binding */ _s),\n/* harmony export */   g: () => (/* binding */ oo),\n/* harmony export */   h: () => (/* binding */ is),\n/* harmony export */   i: () => (/* binding */ ks),\n/* harmony export */   j: () => (/* binding */ yo),\n/* harmony export */   k: () => (/* binding */ ps),\n/* harmony export */   l: () => (/* binding */ _),\n/* harmony export */   m: () => (/* binding */ Co),\n/* harmony export */   n: () => (/* binding */ $i),\n/* harmony export */   o: () => (/* binding */ io),\n/* harmony export */   p: () => (/* binding */ N),\n/* harmony export */   q: () => (/* binding */ Qo),\n/* harmony export */   r: () => (/* binding */ Zi),\n/* harmony export */   s: () => (/* binding */ vs),\n/* harmony export */   t: () => (/* binding */ Pn),\n/* harmony export */   u: () => (/* binding */ Is),\n/* harmony export */   v: () => (/* binding */ Xo),\n/* harmony export */   w: () => (/* binding */ So),\n/* harmony export */   x: () => (/* binding */ Yo),\n/* harmony export */   y: () => (/* binding */ rs),\n/* harmony export */   z: () => (/* binding */ Fo)\n/* harmony export */ });\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nconst Ge = Math.min, ue = Math.max, ke = Math.round, te = (e) => ({\n  x: e,\n  y: e\n}), Fn = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n}, jn = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction vt(e, t, n) {\n  return ue(e, Ge(t, n));\n}\nfunction Ne(e, t) {\n  return typeof e == \"function\" ? e(t) : e;\n}\nfunction oe(e) {\n  return e.split(\"-\")[0];\n}\nfunction $e(e) {\n  return e.split(\"-\")[1];\n}\nfunction $t(e) {\n  return e === \"x\" ? \"y\" : \"x\";\n}\nfunction Ut(e) {\n  return e === \"y\" ? \"height\" : \"width\";\n}\nfunction Ue(e) {\n  return [\"top\", \"bottom\"].includes(oe(e)) ? \"y\" : \"x\";\n}\nfunction Ft(e) {\n  return $t(Ue(e));\n}\nfunction Wn(e, t, n) {\n  n === void 0 && (n = !1);\n  const r = $e(e), i = Ft(e), o = Ut(i);\n  let s = i === \"x\" ? r === (n ? \"end\" : \"start\") ? \"right\" : \"left\" : r === \"start\" ? \"bottom\" : \"top\";\n  return t.reference[o] > t.floating[o] && (s = Oe(s)), [s, Oe(s)];\n}\nfunction Bn(e) {\n  const t = Oe(e);\n  return [Ke(e), t, Ke(t)];\n}\nfunction Ke(e) {\n  return e.replace(/start|end/g, (t) => jn[t]);\n}\nfunction Vn(e, t, n) {\n  const r = [\"left\", \"right\"], i = [\"right\", \"left\"], o = [\"top\", \"bottom\"], s = [\"bottom\", \"top\"];\n  switch (e) {\n    case \"top\":\n    case \"bottom\":\n      return n ? t ? i : r : t ? r : i;\n    case \"left\":\n    case \"right\":\n      return t ? o : s;\n    default:\n      return [];\n  }\n}\nfunction Hn(e, t, n, r) {\n  const i = $e(e);\n  let o = Vn(oe(e), n === \"start\", r);\n  return i && (o = o.map((s) => s + \"-\" + i), t && (o = o.concat(o.map(Ke)))), o;\n}\nfunction Oe(e) {\n  return e.replace(/left|right|bottom|top/g, (t) => Fn[t]);\n}\nfunction zn(e) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...e\n  };\n}\nfunction Yn(e) {\n  return typeof e != \"number\" ? zn(e) : {\n    top: e,\n    right: e,\n    bottom: e,\n    left: e\n  };\n}\nfunction Le(e) {\n  const {\n    x: t,\n    y: n,\n    width: r,\n    height: i\n  } = e;\n  return {\n    width: r,\n    height: i,\n    top: n,\n    left: t,\n    right: t + r,\n    bottom: n + i,\n    x: t,\n    y: n\n  };\n}\nfunction mt(e, t, n) {\n  let {\n    reference: r,\n    floating: i\n  } = e;\n  const o = Ue(t), s = Ft(t), a = Ut(s), c = oe(t), u = o === \"y\", l = r.x + r.width / 2 - i.width / 2, f = r.y + r.height / 2 - i.height / 2, h = r[a] / 2 - i[a] / 2;\n  let d;\n  switch (c) {\n    case \"top\":\n      d = {\n        x: l,\n        y: r.y - i.height\n      };\n      break;\n    case \"bottom\":\n      d = {\n        x: l,\n        y: r.y + r.height\n      };\n      break;\n    case \"right\":\n      d = {\n        x: r.x + r.width,\n        y: f\n      };\n      break;\n    case \"left\":\n      d = {\n        x: r.x - i.width,\n        y: f\n      };\n      break;\n    default:\n      d = {\n        x: r.x,\n        y: r.y\n      };\n  }\n  switch ($e(t)) {\n    case \"start\":\n      d[s] -= h * (n && u ? -1 : 1);\n      break;\n    case \"end\":\n      d[s] += h * (n && u ? -1 : 1);\n      break;\n  }\n  return d;\n}\nconst Gn = async (e, t, n) => {\n  const {\n    placement: r = \"bottom\",\n    strategy: i = \"absolute\",\n    middleware: o = [],\n    platform: s\n  } = n, a = o.filter(Boolean), c = await (s.isRTL == null ? void 0 : s.isRTL(t));\n  let u = await s.getElementRects({\n    reference: e,\n    floating: t,\n    strategy: i\n  }), {\n    x: l,\n    y: f\n  } = mt(u, r, c), h = r, d = {}, m = 0;\n  for (let p = 0; p < a.length; p++) {\n    const {\n      name: g,\n      fn: v\n    } = a[p], {\n      x: E,\n      y: P,\n      data: L,\n      reset: C\n    } = await v({\n      x: l,\n      y: f,\n      initialPlacement: r,\n      placement: h,\n      strategy: i,\n      middlewareData: d,\n      rects: u,\n      platform: s,\n      elements: {\n        reference: e,\n        floating: t\n      }\n    });\n    l = E ?? l, f = P ?? f, d = {\n      ...d,\n      [g]: {\n        ...d[g],\n        ...L\n      }\n    }, C && m <= 50 && (m++, typeof C == \"object\" && (C.placement && (h = C.placement), C.rects && (u = C.rects === !0 ? await s.getElementRects({\n      reference: e,\n      floating: t,\n      strategy: i\n    }) : C.rects), {\n      x: l,\n      y: f\n    } = mt(u, h, c)), p = -1);\n  }\n  return {\n    x: l,\n    y: f,\n    placement: h,\n    strategy: i,\n    middlewareData: d\n  };\n};\nasync function jt(e, t) {\n  var n;\n  t === void 0 && (t = {});\n  const {\n    x: r,\n    y: i,\n    platform: o,\n    rects: s,\n    elements: a,\n    strategy: c\n  } = e, {\n    boundary: u = \"clippingAncestors\",\n    rootBoundary: l = \"viewport\",\n    elementContext: f = \"floating\",\n    altBoundary: h = !1,\n    padding: d = 0\n  } = Ne(t, e), m = Yn(d), g = a[h ? f === \"floating\" ? \"reference\" : \"floating\" : f], v = Le(await o.getClippingRect({\n    element: (n = await (o.isElement == null ? void 0 : o.isElement(g))) == null || n ? g : g.contextElement || await (o.getDocumentElement == null ? void 0 : o.getDocumentElement(a.floating)),\n    boundary: u,\n    rootBoundary: l,\n    strategy: c\n  })), E = f === \"floating\" ? {\n    ...s.floating,\n    x: r,\n    y: i\n  } : s.reference, P = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(a.floating)), L = await (o.isElement == null ? void 0 : o.isElement(P)) ? await (o.getScale == null ? void 0 : o.getScale(P)) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  }, C = Le(o.convertOffsetParentRelativeRectToViewportRelativeRect ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements: a,\n    rect: E,\n    offsetParent: P,\n    strategy: c\n  }) : E);\n  return {\n    top: (v.top - C.top + m.top) / L.y,\n    bottom: (C.bottom - v.bottom + m.bottom) / L.y,\n    left: (v.left - C.left + m.left) / L.x,\n    right: (C.right - v.right + m.right) / L.x\n  };\n}\nconst Kn = function(e) {\n  return e === void 0 && (e = {}), {\n    name: \"flip\",\n    options: e,\n    async fn(t) {\n      var n, r;\n      const {\n        placement: i,\n        middlewareData: o,\n        rects: s,\n        initialPlacement: a,\n        platform: c,\n        elements: u\n      } = t, {\n        mainAxis: l = !0,\n        crossAxis: f = !0,\n        fallbackPlacements: h,\n        fallbackStrategy: d = \"bestFit\",\n        fallbackAxisSideDirection: m = \"none\",\n        flipAlignment: p = !0,\n        ...g\n      } = Ne(e, t);\n      if ((n = o.arrow) != null && n.alignmentOffset)\n        return {};\n      const v = oe(i), E = oe(a) === a, P = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)), L = h || (E || !p ? [Oe(a)] : Bn(a));\n      !h && m !== \"none\" && L.push(...Hn(a, p, m, P));\n      const C = [a, ...L], ie = await jt(t, g), K = [];\n      let T = ((r = o.flip) == null ? void 0 : r.overflows) || [];\n      if (l && K.push(ie[v]), f) {\n        const S = Wn(i, s, P);\n        K.push(ie[S[0]], ie[S[1]]);\n      }\n      if (T = [...T, {\n        placement: i,\n        overflows: K\n      }], !K.every((S) => S <= 0)) {\n        var x, I;\n        const S = (((x = o.flip) == null ? void 0 : x.index) || 0) + 1, V = C[S];\n        if (V)\n          return {\n            data: {\n              index: S,\n              overflows: T\n            },\n            reset: {\n              placement: V\n            }\n          };\n        let X = (I = T.filter((Z) => Z.overflows[0] <= 0).sort((Z, ce) => Z.overflows[1] - ce.overflows[1])[0]) == null ? void 0 : I.placement;\n        if (!X)\n          switch (d) {\n            case \"bestFit\": {\n              var w;\n              const Z = (w = T.map((ce) => [ce.placement, ce.overflows.filter((ge) => ge > 0).reduce((ge, Rn) => ge + Rn, 0)]).sort((ce, ge) => ce[1] - ge[1])[0]) == null ? void 0 : w[0];\n              Z && (X = Z);\n              break;\n            }\n            case \"initialPlacement\":\n              X = a;\n              break;\n          }\n        if (i !== X)\n          return {\n            reset: {\n              placement: X\n            }\n          };\n      }\n      return {};\n    }\n  };\n};\nasync function Qn(e, t) {\n  const {\n    placement: n,\n    platform: r,\n    elements: i\n  } = e, o = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), s = oe(n), a = $e(n), c = Ue(n) === \"y\", u = [\"left\", \"top\"].includes(s) ? -1 : 1, l = o && c ? -1 : 1, f = Ne(t, e);\n  let {\n    mainAxis: h,\n    crossAxis: d,\n    alignmentAxis: m\n  } = typeof f == \"number\" ? {\n    mainAxis: f,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...f\n  };\n  return a && typeof m == \"number\" && (d = a === \"end\" ? m * -1 : m), c ? {\n    x: d * l,\n    y: h * u\n  } : {\n    x: h * u,\n    y: d * l\n  };\n}\nconst Jn = function(e) {\n  return e === void 0 && (e = 0), {\n    name: \"offset\",\n    options: e,\n    async fn(t) {\n      var n, r;\n      const {\n        x: i,\n        y: o,\n        placement: s,\n        middlewareData: a\n      } = t, c = await Qn(t, e);\n      return s === ((n = a.offset) == null ? void 0 : n.placement) && (r = a.arrow) != null && r.alignmentOffset ? {} : {\n        x: i + c.x,\n        y: o + c.y,\n        data: {\n          ...c,\n          placement: s\n        }\n      };\n    }\n  };\n}, qn = function(e) {\n  return e === void 0 && (e = {}), {\n    name: \"shift\",\n    options: e,\n    async fn(t) {\n      const {\n        x: n,\n        y: r,\n        placement: i\n      } = t, {\n        mainAxis: o = !0,\n        crossAxis: s = !1,\n        limiter: a = {\n          fn: (g) => {\n            let {\n              x: v,\n              y: E\n            } = g;\n            return {\n              x: v,\n              y: E\n            };\n          }\n        },\n        ...c\n      } = Ne(e, t), u = {\n        x: n,\n        y: r\n      }, l = await jt(t, c), f = Ue(oe(i)), h = $t(f);\n      let d = u[h], m = u[f];\n      if (o) {\n        const g = h === \"y\" ? \"top\" : \"left\", v = h === \"y\" ? \"bottom\" : \"right\", E = d + l[g], P = d - l[v];\n        d = vt(E, d, P);\n      }\n      if (s) {\n        const g = f === \"y\" ? \"top\" : \"left\", v = f === \"y\" ? \"bottom\" : \"right\", E = m + l[g], P = m - l[v];\n        m = vt(E, m, P);\n      }\n      const p = a.fn({\n        ...t,\n        [h]: d,\n        [f]: m\n      });\n      return {\n        ...p,\n        data: {\n          x: p.x - n,\n          y: p.y - r\n        }\n      };\n    }\n  };\n};\nfunction Fe() {\n  return typeof window < \"u\";\n}\nfunction ve(e) {\n  return Wt(e) ? (e.nodeName || \"\").toLowerCase() : \"#document\";\n}\nfunction U(e) {\n  var t;\n  return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;\n}\nfunction J(e) {\n  var t;\n  return (t = (Wt(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;\n}\nfunction Wt(e) {\n  return Fe() ? e instanceof Node || e instanceof U(e).Node : !1;\n}\nfunction H(e) {\n  return Fe() ? e instanceof Element || e instanceof U(e).Element : !1;\n}\nfunction G(e) {\n  return Fe() ? e instanceof HTMLElement || e instanceof U(e).HTMLElement : !1;\n}\nfunction gt(e) {\n  return !Fe() || typeof ShadowRoot > \"u\" ? !1 : e instanceof ShadowRoot || e instanceof U(e).ShadowRoot;\n}\nfunction Ee(e) {\n  const {\n    overflow: t,\n    overflowX: n,\n    overflowY: r,\n    display: i\n  } = z(e);\n  return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && ![\"inline\", \"contents\"].includes(i);\n}\nfunction Xn(e) {\n  return [\"table\", \"td\", \"th\"].includes(ve(e));\n}\nfunction je(e) {\n  return [\":popover-open\", \":modal\"].some((t) => {\n    try {\n      return e.matches(t);\n    } catch {\n      return !1;\n    }\n  });\n}\nfunction rt(e) {\n  const t = it(), n = H(e) ? z(e) : e;\n  return n.transform !== \"none\" || n.perspective !== \"none\" || (n.containerType ? n.containerType !== \"normal\" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== \"none\" : !1) || !t && (n.filter ? n.filter !== \"none\" : !1) || [\"transform\", \"perspective\", \"filter\"].some((r) => (n.willChange || \"\").includes(r)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((r) => (n.contain || \"\").includes(r));\n}\nfunction Zn(e) {\n  let t = ne(e);\n  for (; G(t) && !de(t); ) {\n    if (rt(t))\n      return t;\n    if (je(t))\n      return null;\n    t = ne(t);\n  }\n  return null;\n}\nfunction it() {\n  return typeof CSS > \"u\" || !CSS.supports ? !1 : CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction de(e) {\n  return [\"html\", \"body\", \"#document\"].includes(ve(e));\n}\nfunction z(e) {\n  return U(e).getComputedStyle(e);\n}\nfunction We(e) {\n  return H(e) ? {\n    scrollLeft: e.scrollLeft,\n    scrollTop: e.scrollTop\n  } : {\n    scrollLeft: e.scrollX,\n    scrollTop: e.scrollY\n  };\n}\nfunction ne(e) {\n  if (ve(e) === \"html\")\n    return e;\n  const t = (\n    // Step into the shadow DOM of the parent of a slotted node.\n    e.assignedSlot || // DOM Element detected.\n    e.parentNode || // ShadowRoot detected.\n    gt(e) && e.host || // Fallback.\n    J(e)\n  );\n  return gt(t) ? t.host : t;\n}\nfunction Bt(e) {\n  const t = ne(e);\n  return de(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : G(t) && Ee(t) ? t : Bt(t);\n}\nfunction Vt(e, t, n) {\n  var r;\n  t === void 0 && (t = []);\n  const i = Bt(e), o = i === ((r = e.ownerDocument) == null ? void 0 : r.body), s = U(i);\n  return o ? (Qe(s), t.concat(s, s.visualViewport || [], Ee(i) ? i : [], [])) : t.concat(i, Vt(i, []));\n}\nfunction Qe(e) {\n  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;\n}\nfunction Ht(e) {\n  const t = z(e);\n  let n = parseFloat(t.width) || 0, r = parseFloat(t.height) || 0;\n  const i = G(e), o = i ? e.offsetWidth : n, s = i ? e.offsetHeight : r, a = ke(n) !== o || ke(r) !== s;\n  return a && (n = o, r = s), {\n    width: n,\n    height: r,\n    $: a\n  };\n}\nfunction zt(e) {\n  return H(e) ? e : e.contextElement;\n}\nfunction le(e) {\n  const t = zt(e);\n  if (!G(t))\n    return te(1);\n  const n = t.getBoundingClientRect(), {\n    width: r,\n    height: i,\n    $: o\n  } = Ht(t);\n  let s = (o ? ke(n.width) : n.width) / r, a = (o ? ke(n.height) : n.height) / i;\n  return (!s || !Number.isFinite(s)) && (s = 1), (!a || !Number.isFinite(a)) && (a = 1), {\n    x: s,\n    y: a\n  };\n}\nconst er = /* @__PURE__ */ te(0);\nfunction Yt(e) {\n  const t = U(e);\n  return !it() || !t.visualViewport ? er : {\n    x: t.visualViewport.offsetLeft,\n    y: t.visualViewport.offsetTop\n  };\n}\nfunction tr(e, t, n) {\n  return t === void 0 && (t = !1), !n || t && n !== U(e) ? !1 : t;\n}\nfunction we(e, t, n, r) {\n  t === void 0 && (t = !1), n === void 0 && (n = !1);\n  const i = e.getBoundingClientRect(), o = zt(e);\n  let s = te(1);\n  t && (r ? H(r) && (s = le(r)) : s = le(e));\n  const a = tr(o, n, r) ? Yt(o) : te(0);\n  let c = (i.left + a.x) / s.x, u = (i.top + a.y) / s.y, l = i.width / s.x, f = i.height / s.y;\n  if (o) {\n    const h = U(o), d = r && H(r) ? U(r) : r;\n    let m = h, p = Qe(m);\n    for (; p && r && d !== m; ) {\n      const g = le(p), v = p.getBoundingClientRect(), E = z(p), P = v.left + (p.clientLeft + parseFloat(E.paddingLeft)) * g.x, L = v.top + (p.clientTop + parseFloat(E.paddingTop)) * g.y;\n      c *= g.x, u *= g.y, l *= g.x, f *= g.y, c += P, u += L, m = U(p), p = Qe(m);\n    }\n  }\n  return Le({\n    width: l,\n    height: f,\n    x: c,\n    y: u\n  });\n}\nfunction nr(e) {\n  let {\n    elements: t,\n    rect: n,\n    offsetParent: r,\n    strategy: i\n  } = e;\n  const o = i === \"fixed\", s = J(r), a = t ? je(t.floating) : !1;\n  if (r === s || a && o)\n    return n;\n  let c = {\n    scrollLeft: 0,\n    scrollTop: 0\n  }, u = te(1);\n  const l = te(0), f = G(r);\n  if ((f || !f && !o) && ((ve(r) !== \"body\" || Ee(s)) && (c = We(r)), G(r))) {\n    const h = we(r);\n    u = le(r), l.x = h.x + r.clientLeft, l.y = h.y + r.clientTop;\n  }\n  return {\n    width: n.width * u.x,\n    height: n.height * u.y,\n    x: n.x * u.x - c.scrollLeft * u.x + l.x,\n    y: n.y * u.y - c.scrollTop * u.y + l.y\n  };\n}\nfunction rr(e) {\n  return Array.from(e.getClientRects());\n}\nfunction Je(e, t) {\n  const n = We(e).scrollLeft;\n  return t ? t.left + n : we(J(e)).left + n;\n}\nfunction ir(e) {\n  const t = J(e), n = We(e), r = e.ownerDocument.body, i = ue(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth), o = ue(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);\n  let s = -n.scrollLeft + Je(e);\n  const a = -n.scrollTop;\n  return z(r).direction === \"rtl\" && (s += ue(t.clientWidth, r.clientWidth) - i), {\n    width: i,\n    height: o,\n    x: s,\n    y: a\n  };\n}\nfunction or(e, t) {\n  const n = U(e), r = J(e), i = n.visualViewport;\n  let o = r.clientWidth, s = r.clientHeight, a = 0, c = 0;\n  if (i) {\n    o = i.width, s = i.height;\n    const u = it();\n    (!u || u && t === \"fixed\") && (a = i.offsetLeft, c = i.offsetTop);\n  }\n  return {\n    width: o,\n    height: s,\n    x: a,\n    y: c\n  };\n}\nfunction sr(e, t) {\n  const n = we(e, !0, t === \"fixed\"), r = n.top + e.clientTop, i = n.left + e.clientLeft, o = G(e) ? le(e) : te(1), s = e.clientWidth * o.x, a = e.clientHeight * o.y, c = i * o.x, u = r * o.y;\n  return {\n    width: s,\n    height: a,\n    x: c,\n    y: u\n  };\n}\nfunction bt(e, t, n) {\n  let r;\n  if (t === \"viewport\")\n    r = or(e, n);\n  else if (t === \"document\")\n    r = ir(J(e));\n  else if (H(t))\n    r = sr(t, n);\n  else {\n    const i = Yt(e);\n    r = {\n      ...t,\n      x: t.x - i.x,\n      y: t.y - i.y\n    };\n  }\n  return Le(r);\n}\nfunction Gt(e, t) {\n  const n = ne(e);\n  return n === t || !H(n) || de(n) ? !1 : z(n).position === \"fixed\" || Gt(n, t);\n}\nfunction ar(e, t) {\n  const n = t.get(e);\n  if (n)\n    return n;\n  let r = Vt(e, []).filter((a) => H(a) && ve(a) !== \"body\"), i = null;\n  const o = z(e).position === \"fixed\";\n  let s = o ? ne(e) : e;\n  for (; H(s) && !de(s); ) {\n    const a = z(s), c = rt(s);\n    !c && a.position === \"fixed\" && (i = null), (o ? !c && !i : !c && a.position === \"static\" && !!i && [\"absolute\", \"fixed\"].includes(i.position) || Ee(s) && !c && Gt(e, s)) ? r = r.filter((l) => l !== s) : i = a, s = ne(s);\n  }\n  return t.set(e, r), r;\n}\nfunction cr(e) {\n  let {\n    element: t,\n    boundary: n,\n    rootBoundary: r,\n    strategy: i\n  } = e;\n  const s = [...n === \"clippingAncestors\" ? je(t) ? [] : ar(t, this._c) : [].concat(n), r], a = s[0], c = s.reduce((u, l) => {\n    const f = bt(t, l, i);\n    return u.top = ue(f.top, u.top), u.right = Ge(f.right, u.right), u.bottom = Ge(f.bottom, u.bottom), u.left = ue(f.left, u.left), u;\n  }, bt(t, a, i));\n  return {\n    width: c.right - c.left,\n    height: c.bottom - c.top,\n    x: c.left,\n    y: c.top\n  };\n}\nfunction ur(e) {\n  const {\n    width: t,\n    height: n\n  } = Ht(e);\n  return {\n    width: t,\n    height: n\n  };\n}\nfunction lr(e, t, n) {\n  const r = G(t), i = J(t), o = n === \"fixed\", s = we(e, !0, o, t);\n  let a = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const c = te(0);\n  if (r || !r && !o)\n    if ((ve(t) !== \"body\" || Ee(i)) && (a = We(t)), r) {\n      const d = we(t, !0, o, t);\n      c.x = d.x + t.clientLeft, c.y = d.y + t.clientTop;\n    } else i && (c.x = Je(i));\n  let u = 0, l = 0;\n  if (i && !r && !o) {\n    const d = i.getBoundingClientRect();\n    l = d.top + a.scrollTop, u = d.left + a.scrollLeft - // RTL <body> scrollbar.\n    Je(i, d);\n  }\n  const f = s.left + a.scrollLeft - c.x - u, h = s.top + a.scrollTop - c.y - l;\n  return {\n    x: f,\n    y: h,\n    width: s.width,\n    height: s.height\n  };\n}\nfunction He(e) {\n  return z(e).position === \"static\";\n}\nfunction yt(e, t) {\n  if (!G(e) || z(e).position === \"fixed\")\n    return null;\n  if (t)\n    return t(e);\n  let n = e.offsetParent;\n  return J(e) === n && (n = n.ownerDocument.body), n;\n}\nfunction Kt(e, t) {\n  const n = U(e);\n  if (je(e))\n    return n;\n  if (!G(e)) {\n    let i = ne(e);\n    for (; i && !de(i); ) {\n      if (H(i) && !He(i))\n        return i;\n      i = ne(i);\n    }\n    return n;\n  }\n  let r = yt(e, t);\n  for (; r && Xn(r) && He(r); )\n    r = yt(r, t);\n  return r && de(r) && He(r) && !rt(r) ? n : r || Zn(e) || n;\n}\nconst fr = async function(e) {\n  const t = this.getOffsetParent || Kt, n = this.getDimensions, r = await n(e.floating);\n  return {\n    reference: lr(e.reference, await t(e.floating), e.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: r.width,\n      height: r.height\n    }\n  };\n};\nfunction dr(e) {\n  return z(e).direction === \"rtl\";\n}\nconst pr = {\n  convertOffsetParentRelativeRectToViewportRelativeRect: nr,\n  getDocumentElement: J,\n  getClippingRect: cr,\n  getOffsetParent: Kt,\n  getElementRects: fr,\n  getClientRects: rr,\n  getDimensions: ur,\n  getScale: le,\n  isElement: H,\n  isRTL: dr\n}, hr = Jn, vr = qn, mr = Kn, gr = (e, t, n) => {\n  const r = /* @__PURE__ */ new Map(), i = {\n    platform: pr,\n    ...n\n  }, o = {\n    ...i.platform,\n    _c: r\n  };\n  return Gn(e, t, {\n    ...i,\n    platform: o\n  });\n};\nvar br = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction yr(e) {\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\n}\nvar Qt = { exports: {} };\n(function(e) {\n  (function(t, n) {\n    e.exports ? e.exports = n() : t.log = n();\n  })(br, function() {\n    var t = function() {\n    }, n = \"undefined\", r = typeof window !== n && typeof window.navigator !== n && /Trident\\/|MSIE /.test(window.navigator.userAgent), i = [\n      \"trace\",\n      \"debug\",\n      \"info\",\n      \"warn\",\n      \"error\"\n    ], o = {}, s = null;\n    function a(p, g) {\n      var v = p[g];\n      if (typeof v.bind == \"function\")\n        return v.bind(p);\n      try {\n        return Function.prototype.bind.call(v, p);\n      } catch {\n        return function() {\n          return Function.prototype.apply.apply(v, [p, arguments]);\n        };\n      }\n    }\n    function c() {\n      console.log && (console.log.apply ? console.log.apply(console, arguments) : Function.prototype.apply.apply(console.log, [console, arguments])), console.trace && console.trace();\n    }\n    function u(p) {\n      return p === \"debug\" && (p = \"log\"), typeof console === n ? !1 : p === \"trace\" && r ? c : console[p] !== void 0 ? a(console, p) : console.log !== void 0 ? a(console, \"log\") : t;\n    }\n    function l() {\n      for (var p = this.getLevel(), g = 0; g < i.length; g++) {\n        var v = i[g];\n        this[v] = g < p ? t : this.methodFactory(v, p, this.name);\n      }\n      if (this.log = this.debug, typeof console === n && p < this.levels.SILENT)\n        return \"No console available for logging\";\n    }\n    function f(p) {\n      return function() {\n        typeof console !== n && (l.call(this), this[p].apply(this, arguments));\n      };\n    }\n    function h(p, g, v) {\n      return u(p) || f.apply(this, arguments);\n    }\n    function d(p, g) {\n      var v = this, E, P, L, C = \"loglevel\";\n      typeof p == \"string\" ? C += \":\" + p : typeof p == \"symbol\" && (C = void 0);\n      function ie(w) {\n        var S = (i[w] || \"silent\").toUpperCase();\n        if (!(typeof window === n || !C)) {\n          try {\n            window.localStorage[C] = S;\n            return;\n          } catch {\n          }\n          try {\n            window.document.cookie = encodeURIComponent(C) + \"=\" + S + \";\";\n          } catch {\n          }\n        }\n      }\n      function K() {\n        var w;\n        if (!(typeof window === n || !C)) {\n          try {\n            w = window.localStorage[C];\n          } catch {\n          }\n          if (typeof w === n)\n            try {\n              var S = window.document.cookie, V = encodeURIComponent(C), X = S.indexOf(V + \"=\");\n              X !== -1 && (w = /^([^;]+)/.exec(\n                S.slice(X + V.length + 1)\n              )[1]);\n            } catch {\n            }\n          return v.levels[w] === void 0 && (w = void 0), w;\n        }\n      }\n      function T() {\n        if (!(typeof window === n || !C)) {\n          try {\n            window.localStorage.removeItem(C);\n          } catch {\n          }\n          try {\n            window.document.cookie = encodeURIComponent(C) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch {\n          }\n        }\n      }\n      function x(w) {\n        var S = w;\n        if (typeof S == \"string\" && v.levels[S.toUpperCase()] !== void 0 && (S = v.levels[S.toUpperCase()]), typeof S == \"number\" && S >= 0 && S <= v.levels.SILENT)\n          return S;\n        throw new TypeError(\"log.setLevel() called with invalid level: \" + w);\n      }\n      v.name = p, v.levels = {\n        TRACE: 0,\n        DEBUG: 1,\n        INFO: 2,\n        WARN: 3,\n        ERROR: 4,\n        SILENT: 5\n      }, v.methodFactory = g || h, v.getLevel = function() {\n        return L ?? P ?? E;\n      }, v.setLevel = function(w, S) {\n        return L = x(w), S !== !1 && ie(L), l.call(v);\n      }, v.setDefaultLevel = function(w) {\n        P = x(w), K() || v.setLevel(w, !1);\n      }, v.resetLevel = function() {\n        L = null, T(), l.call(v);\n      }, v.enableAll = function(w) {\n        v.setLevel(v.levels.TRACE, w);\n      }, v.disableAll = function(w) {\n        v.setLevel(v.levels.SILENT, w);\n      }, v.rebuild = function() {\n        if (s !== v && (E = x(s.getLevel())), l.call(v), s === v)\n          for (var w in o)\n            o[w].rebuild();\n      }, E = x(\n        s ? s.getLevel() : \"WARN\"\n      );\n      var I = K();\n      I != null && (L = x(I)), l.call(v);\n    }\n    s = new d(), s.getLogger = function(g) {\n      if (typeof g != \"symbol\" && typeof g != \"string\" || g === \"\")\n        throw new TypeError(\"You must supply a name when creating a logger.\");\n      var v = o[g];\n      return v || (v = o[g] = new d(\n        g,\n        s.methodFactory\n      )), v;\n    };\n    var m = typeof window !== n ? window.log : void 0;\n    return s.noConflict = function() {\n      return typeof window !== n && window.log === s && (window.log = m), s;\n    }, s.getLoggers = function() {\n      return o;\n    }, s.default = s, s;\n  });\n})(Qt);\nvar wr = Qt.exports;\nconst Sr = /* @__PURE__ */ yr(wr);\nvar qe = function(e, t) {\n  return qe = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, r) {\n    n.__proto__ = r;\n  } || function(n, r) {\n    for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (n[i] = r[i]);\n  }, qe(e, t);\n};\nfunction q(e, t) {\n  if (typeof t != \"function\" && t !== null)\n    throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n  qe(e, t);\n  function n() {\n    this.constructor = e;\n  }\n  e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());\n}\nfunction xr(e, t, n, r) {\n  function i(o) {\n    return o instanceof n ? o : new n(function(s) {\n      s(o);\n    });\n  }\n  return new (n || (n = Promise))(function(o, s) {\n    function a(l) {\n      try {\n        u(r.next(l));\n      } catch (f) {\n        s(f);\n      }\n    }\n    function c(l) {\n      try {\n        u(r.throw(l));\n      } catch (f) {\n        s(f);\n      }\n    }\n    function u(l) {\n      l.done ? o(l.value) : i(l.value).then(a, c);\n    }\n    u((r = r.apply(e, t || [])).next());\n  });\n}\nfunction Jt(e, t) {\n  var n = { label: 0, sent: function() {\n    if (o[0] & 1) throw o[1];\n    return o[1];\n  }, trys: [], ops: [] }, r, i, o, s = Object.create((typeof Iterator == \"function\" ? Iterator : Object).prototype);\n  return s.next = a(0), s.throw = a(1), s.return = a(2), typeof Symbol == \"function\" && (s[Symbol.iterator] = function() {\n    return this;\n  }), s;\n  function a(u) {\n    return function(l) {\n      return c([u, l]);\n    };\n  }\n  function c(u) {\n    if (r) throw new TypeError(\"Generator is already executing.\");\n    for (; s && (s = 0, u[0] && (n = 0)), n; ) try {\n      if (r = 1, i && (o = u[0] & 2 ? i.return : u[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, u[1])).done) return o;\n      switch (i = 0, o && (u = [u[0] & 2, o.value]), u[0]) {\n        case 0:\n        case 1:\n          o = u;\n          break;\n        case 4:\n          return n.label++, { value: u[1], done: !1 };\n        case 5:\n          n.label++, i = u[1], u = [0];\n          continue;\n        case 7:\n          u = n.ops.pop(), n.trys.pop();\n          continue;\n        default:\n          if (o = n.trys, !(o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n            n = 0;\n            continue;\n          }\n          if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\n            n.label = u[1];\n            break;\n          }\n          if (u[0] === 6 && n.label < o[1]) {\n            n.label = o[1], o = u;\n            break;\n          }\n          if (o && n.label < o[2]) {\n            n.label = o[2], n.ops.push(u);\n            break;\n          }\n          o[2] && n.ops.pop(), n.trys.pop();\n          continue;\n      }\n      u = t.call(e, n);\n    } catch (l) {\n      u = [6, l], i = 0;\n    } finally {\n      r = o = 0;\n    }\n    if (u[0] & 5) throw u[1];\n    return { value: u[0] ? u[1] : void 0, done: !0 };\n  }\n}\nfunction pe(e) {\n  var t = typeof Symbol == \"function\" && Symbol.iterator, n = t && e[t], r = 0;\n  if (n) return n.call(e);\n  if (e && typeof e.length == \"number\") return {\n    next: function() {\n      return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e };\n    }\n  };\n  throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction he(e, t) {\n  var n = typeof Symbol == \"function\" && e[Symbol.iterator];\n  if (!n) return e;\n  var r = n.call(e), i, o = [], s;\n  try {\n    for (; (t === void 0 || t-- > 0) && !(i = r.next()).done; ) o.push(i.value);\n  } catch (a) {\n    s = { error: a };\n  } finally {\n    try {\n      i && !i.done && (n = r.return) && n.call(r);\n    } finally {\n      if (s) throw s.error;\n    }\n  }\n  return o;\n}\nfunction Se(e, t, n) {\n  if (n || arguments.length === 2) for (var r = 0, i = t.length, o; r < i; r++)\n    (o || !(r in t)) && (o || (o = Array.prototype.slice.call(t, 0, r)), o[r] = t[r]);\n  return e.concat(o || Array.prototype.slice.call(t));\n}\nfunction fe(e) {\n  return this instanceof fe ? (this.v = e, this) : new fe(e);\n}\nfunction Er(e, t, n) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var r = n.apply(e, t || []), i, o = [];\n  return i = Object.create((typeof AsyncIterator == \"function\" ? AsyncIterator : Object).prototype), a(\"next\"), a(\"throw\"), a(\"return\", s), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n  function s(d) {\n    return function(m) {\n      return Promise.resolve(m).then(d, f);\n    };\n  }\n  function a(d, m) {\n    r[d] && (i[d] = function(p) {\n      return new Promise(function(g, v) {\n        o.push([d, p, g, v]) > 1 || c(d, p);\n      });\n    }, m && (i[d] = m(i[d])));\n  }\n  function c(d, m) {\n    try {\n      u(r[d](m));\n    } catch (p) {\n      h(o[0][3], p);\n    }\n  }\n  function u(d) {\n    d.value instanceof fe ? Promise.resolve(d.value.v).then(l, f) : h(o[0][2], d);\n  }\n  function l(d) {\n    c(\"next\", d);\n  }\n  function f(d) {\n    c(\"throw\", d);\n  }\n  function h(d, m) {\n    d(m), o.shift(), o.length && c(o[0][0], o[0][1]);\n  }\n}\nfunction Tr(e) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var t = e[Symbol.asyncIterator], n;\n  return t ? t.call(e) : (e = typeof pe == \"function\" ? pe(e) : e[Symbol.iterator](), n = {}, r(\"next\"), r(\"throw\"), r(\"return\"), n[Symbol.asyncIterator] = function() {\n    return this;\n  }, n);\n  function r(o) {\n    n[o] = e[o] && function(s) {\n      return new Promise(function(a, c) {\n        s = e[o](s), i(a, c, s.done, s.value);\n      });\n    };\n  }\n  function i(o, s, a, c) {\n    Promise.resolve(c).then(function(u) {\n      o({ value: u, done: a });\n    }, s);\n  }\n}\nfunction A(e) {\n  return typeof e == \"function\";\n}\nfunction ot(e) {\n  var t = function(r) {\n    Error.call(r), r.stack = new Error().stack;\n  }, n = e(t);\n  return n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, n;\n}\nvar ze = ot(function(e) {\n  return function(n) {\n    e(this), this.message = n ? n.length + ` errors occurred during unsubscription:\n` + n.map(function(r, i) {\n      return i + 1 + \") \" + r.toString();\n    }).join(`\n  `) : \"\", this.name = \"UnsubscriptionError\", this.errors = n;\n  };\n});\nfunction _e(e, t) {\n  if (e) {\n    var n = e.indexOf(t);\n    0 <= n && e.splice(n, 1);\n  }\n}\nvar Te = function() {\n  function e(t) {\n    this.initialTeardown = t, this.closed = !1, this._parentage = null, this._finalizers = null;\n  }\n  return e.prototype.unsubscribe = function() {\n    var t, n, r, i, o;\n    if (!this.closed) {\n      this.closed = !0;\n      var s = this._parentage;\n      if (s)\n        if (this._parentage = null, Array.isArray(s))\n          try {\n            for (var a = pe(s), c = a.next(); !c.done; c = a.next()) {\n              var u = c.value;\n              u.remove(this);\n            }\n          } catch (p) {\n            t = { error: p };\n          } finally {\n            try {\n              c && !c.done && (n = a.return) && n.call(a);\n            } finally {\n              if (t) throw t.error;\n            }\n          }\n        else\n          s.remove(this);\n      var l = this.initialTeardown;\n      if (A(l))\n        try {\n          l();\n        } catch (p) {\n          o = p instanceof ze ? p.errors : [p];\n        }\n      var f = this._finalizers;\n      if (f) {\n        this._finalizers = null;\n        try {\n          for (var h = pe(f), d = h.next(); !d.done; d = h.next()) {\n            var m = d.value;\n            try {\n              wt(m);\n            } catch (p) {\n              o = o ?? [], p instanceof ze ? o = Se(Se([], he(o)), he(p.errors)) : o.push(p);\n            }\n          }\n        } catch (p) {\n          r = { error: p };\n        } finally {\n          try {\n            d && !d.done && (i = h.return) && i.call(h);\n          } finally {\n            if (r) throw r.error;\n          }\n        }\n      }\n      if (o)\n        throw new ze(o);\n    }\n  }, e.prototype.add = function(t) {\n    var n;\n    if (t && t !== this)\n      if (this.closed)\n        wt(t);\n      else {\n        if (t instanceof e) {\n          if (t.closed || t._hasParent(this))\n            return;\n          t._addParent(this);\n        }\n        (this._finalizers = (n = this._finalizers) !== null && n !== void 0 ? n : []).push(t);\n      }\n  }, e.prototype._hasParent = function(t) {\n    var n = this._parentage;\n    return n === t || Array.isArray(n) && n.includes(t);\n  }, e.prototype._addParent = function(t) {\n    var n = this._parentage;\n    this._parentage = Array.isArray(n) ? (n.push(t), n) : n ? [n, t] : t;\n  }, e.prototype._removeParent = function(t) {\n    var n = this._parentage;\n    n === t ? this._parentage = null : Array.isArray(n) && _e(n, t);\n  }, e.prototype.remove = function(t) {\n    var n = this._finalizers;\n    n && _e(n, t), t instanceof e && t._removeParent(this);\n  }, e.EMPTY = function() {\n    var t = new e();\n    return t.closed = !0, t;\n  }(), e;\n}(), qt = Te.EMPTY;\nfunction Xt(e) {\n  return e instanceof Te || e && \"closed\" in e && A(e.remove) && A(e.add) && A(e.unsubscribe);\n}\nfunction wt(e) {\n  A(e) ? e() : e.unsubscribe();\n}\nvar Cr = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: void 0,\n  useDeprecatedSynchronousErrorHandling: !1,\n  useDeprecatedNextContext: !1\n}, Zt = {\n  setTimeout: function(e, t) {\n    for (var n = [], r = 2; r < arguments.length; r++)\n      n[r - 2] = arguments[r];\n    return setTimeout.apply(void 0, Se([e, t], he(n)));\n  },\n  clearTimeout: function(e) {\n    var t = Zt.delegate;\n    return ((t == null ? void 0 : t.clearTimeout) || clearTimeout)(e);\n  },\n  delegate: void 0\n};\nfunction en(e) {\n  Zt.setTimeout(function() {\n    throw e;\n  });\n}\nfunction Ie() {\n}\nfunction Ae(e) {\n  e();\n}\nvar st = function(e) {\n  q(t, e);\n  function t(n) {\n    var r = e.call(this) || this;\n    return r.isStopped = !1, n ? (r.destination = n, Xt(n) && n.add(r)) : r.destination = kr, r;\n  }\n  return t.create = function(n, r, i) {\n    return new Xe(n, r, i);\n  }, t.prototype.next = function(n) {\n    this.isStopped || this._next(n);\n  }, t.prototype.error = function(n) {\n    this.isStopped || (this.isStopped = !0, this._error(n));\n  }, t.prototype.complete = function() {\n    this.isStopped || (this.isStopped = !0, this._complete());\n  }, t.prototype.unsubscribe = function() {\n    this.closed || (this.isStopped = !0, e.prototype.unsubscribe.call(this), this.destination = null);\n  }, t.prototype._next = function(n) {\n    this.destination.next(n);\n  }, t.prototype._error = function(n) {\n    try {\n      this.destination.error(n);\n    } finally {\n      this.unsubscribe();\n    }\n  }, t.prototype._complete = function() {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  }, t;\n}(Te), Pr = function() {\n  function e(t) {\n    this.partialObserver = t;\n  }\n  return e.prototype.next = function(t) {\n    var n = this.partialObserver;\n    if (n.next)\n      try {\n        n.next(t);\n      } catch (r) {\n        Ce(r);\n      }\n  }, e.prototype.error = function(t) {\n    var n = this.partialObserver;\n    if (n.error)\n      try {\n        n.error(t);\n      } catch (r) {\n        Ce(r);\n      }\n    else\n      Ce(t);\n  }, e.prototype.complete = function() {\n    var t = this.partialObserver;\n    if (t.complete)\n      try {\n        t.complete();\n      } catch (n) {\n        Ce(n);\n      }\n  }, e;\n}(), Xe = function(e) {\n  q(t, e);\n  function t(n, r, i) {\n    var o = e.call(this) || this, s;\n    return A(n) || !n ? s = {\n      next: n ?? void 0,\n      error: r ?? void 0,\n      complete: i ?? void 0\n    } : s = n, o.destination = new Pr(s), o;\n  }\n  return t;\n}(st);\nfunction Ce(e) {\n  en(e);\n}\nfunction Ar(e) {\n  throw e;\n}\nvar kr = {\n  closed: !0,\n  next: Ie,\n  error: Ar,\n  complete: Ie\n}, at = function() {\n  return typeof Symbol == \"function\" && Symbol.observable || \"@@observable\";\n}();\nfunction ct(e) {\n  return e;\n}\nfunction Or(e) {\n  return e.length === 0 ? ct : e.length === 1 ? e[0] : function(n) {\n    return e.reduce(function(r, i) {\n      return i(r);\n    }, n);\n  };\n}\nvar O = function() {\n  function e(t) {\n    t && (this._subscribe = t);\n  }\n  return e.prototype.lift = function(t) {\n    var n = new e();\n    return n.source = this, n.operator = t, n;\n  }, e.prototype.subscribe = function(t, n, r) {\n    var i = this, o = _r(t) ? t : new Xe(t, n, r);\n    return Ae(function() {\n      var s = i, a = s.operator, c = s.source;\n      o.add(a ? a.call(o, c) : c ? i._subscribe(o) : i._trySubscribe(o));\n    }), o;\n  }, e.prototype._trySubscribe = function(t) {\n    try {\n      return this._subscribe(t);\n    } catch (n) {\n      t.error(n);\n    }\n  }, e.prototype.forEach = function(t, n) {\n    var r = this;\n    return n = St(n), new n(function(i, o) {\n      var s = new Xe({\n        next: function(a) {\n          try {\n            t(a);\n          } catch (c) {\n            o(c), s.unsubscribe();\n          }\n        },\n        error: o,\n        complete: i\n      });\n      r.subscribe(s);\n    });\n  }, e.prototype._subscribe = function(t) {\n    var n;\n    return (n = this.source) === null || n === void 0 ? void 0 : n.subscribe(t);\n  }, e.prototype[at] = function() {\n    return this;\n  }, e.prototype.pipe = function() {\n    for (var t = [], n = 0; n < arguments.length; n++)\n      t[n] = arguments[n];\n    return Or(t)(this);\n  }, e.prototype.toPromise = function(t) {\n    var n = this;\n    return t = St(t), new t(function(r, i) {\n      var o;\n      n.subscribe(function(s) {\n        return o = s;\n      }, function(s) {\n        return i(s);\n      }, function() {\n        return r(o);\n      });\n    });\n  }, e.create = function(t) {\n    return new e(t);\n  }, e;\n}();\nfunction St(e) {\n  var t;\n  return (t = e ?? Cr.Promise) !== null && t !== void 0 ? t : Promise;\n}\nfunction Lr(e) {\n  return e && A(e.next) && A(e.error) && A(e.complete);\n}\nfunction _r(e) {\n  return e && e instanceof st || Lr(e) && Xt(e);\n}\nfunction Ir(e) {\n  return A(e == null ? void 0 : e.lift);\n}\nfunction B(e) {\n  return function(t) {\n    if (Ir(t))\n      return t.lift(function(n) {\n        try {\n          return e(n, this);\n        } catch (r) {\n          this.error(r);\n        }\n      });\n    throw new TypeError(\"Unable to lift unknown Observable type\");\n  };\n}\nfunction j(e, t, n, r, i) {\n  return new Mr(e, t, n, r, i);\n}\nvar Mr = function(e) {\n  q(t, e);\n  function t(n, r, i, o, s, a) {\n    var c = e.call(this, n) || this;\n    return c.onFinalize = s, c.shouldUnsubscribe = a, c._next = r ? function(u) {\n      try {\n        r(u);\n      } catch (l) {\n        n.error(l);\n      }\n    } : e.prototype._next, c._error = o ? function(u) {\n      try {\n        o(u);\n      } catch (l) {\n        n.error(l);\n      } finally {\n        this.unsubscribe();\n      }\n    } : e.prototype._error, c._complete = i ? function() {\n      try {\n        i();\n      } catch (u) {\n        n.error(u);\n      } finally {\n        this.unsubscribe();\n      }\n    } : e.prototype._complete, c;\n  }\n  return t.prototype.unsubscribe = function() {\n    var n;\n    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n      var r = this.closed;\n      e.prototype.unsubscribe.call(this), !r && ((n = this.onFinalize) === null || n === void 0 || n.call(this));\n    }\n  }, t;\n}(st), Dr = ot(function(e) {\n  return function() {\n    e(this), this.name = \"ObjectUnsubscribedError\", this.message = \"object unsubscribed\";\n  };\n}), re = function(e) {\n  q(t, e);\n  function t() {\n    var n = e.call(this) || this;\n    return n.closed = !1, n.currentObservers = null, n.observers = [], n.isStopped = !1, n.hasError = !1, n.thrownError = null, n;\n  }\n  return t.prototype.lift = function(n) {\n    var r = new xt(this, this);\n    return r.operator = n, r;\n  }, t.prototype._throwIfClosed = function() {\n    if (this.closed)\n      throw new Dr();\n  }, t.prototype.next = function(n) {\n    var r = this;\n    Ae(function() {\n      var i, o;\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.currentObservers || (r.currentObservers = Array.from(r.observers));\n        try {\n          for (var s = pe(r.currentObservers), a = s.next(); !a.done; a = s.next()) {\n            var c = a.value;\n            c.next(n);\n          }\n        } catch (u) {\n          i = { error: u };\n        } finally {\n          try {\n            a && !a.done && (o = s.return) && o.call(s);\n          } finally {\n            if (i) throw i.error;\n          }\n        }\n      }\n    });\n  }, t.prototype.error = function(n) {\n    var r = this;\n    Ae(function() {\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.hasError = r.isStopped = !0, r.thrownError = n;\n        for (var i = r.observers; i.length; )\n          i.shift().error(n);\n      }\n    });\n  }, t.prototype.complete = function() {\n    var n = this;\n    Ae(function() {\n      if (n._throwIfClosed(), !n.isStopped) {\n        n.isStopped = !0;\n        for (var r = n.observers; r.length; )\n          r.shift().complete();\n      }\n    });\n  }, t.prototype.unsubscribe = function() {\n    this.isStopped = this.closed = !0, this.observers = this.currentObservers = null;\n  }, Object.defineProperty(t.prototype, \"observed\", {\n    get: function() {\n      var n;\n      return ((n = this.observers) === null || n === void 0 ? void 0 : n.length) > 0;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._trySubscribe = function(n) {\n    return this._throwIfClosed(), e.prototype._trySubscribe.call(this, n);\n  }, t.prototype._subscribe = function(n) {\n    return this._throwIfClosed(), this._checkFinalizedStatuses(n), this._innerSubscribe(n);\n  }, t.prototype._innerSubscribe = function(n) {\n    var r = this, i = this, o = i.hasError, s = i.isStopped, a = i.observers;\n    return o || s ? qt : (this.currentObservers = null, a.push(n), new Te(function() {\n      r.currentObservers = null, _e(a, n);\n    }));\n  }, t.prototype._checkFinalizedStatuses = function(n) {\n    var r = this, i = r.hasError, o = r.thrownError, s = r.isStopped;\n    i ? n.error(o) : s && n.complete();\n  }, t.prototype.asObservable = function() {\n    var n = new O();\n    return n.source = this, n;\n  }, t.create = function(n, r) {\n    return new xt(n, r);\n  }, t;\n}(O), xt = function(e) {\n  q(t, e);\n  function t(n, r) {\n    var i = e.call(this) || this;\n    return i.destination = n, i.source = r, i;\n  }\n  return t.prototype.next = function(n) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.next) === null || i === void 0 || i.call(r, n);\n  }, t.prototype.error = function(n) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.error) === null || i === void 0 || i.call(r, n);\n  }, t.prototype.complete = function() {\n    var n, r;\n    (r = (n = this.destination) === null || n === void 0 ? void 0 : n.complete) === null || r === void 0 || r.call(n);\n  }, t.prototype._subscribe = function(n) {\n    var r, i;\n    return (i = (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(n)) !== null && i !== void 0 ? i : qt;\n  }, t;\n}(re), tn = function(e) {\n  q(t, e);\n  function t(n) {\n    var r = e.call(this) || this;\n    return r._value = n, r;\n  }\n  return Object.defineProperty(t.prototype, \"value\", {\n    get: function() {\n      return this.getValue();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._subscribe = function(n) {\n    var r = e.prototype._subscribe.call(this, n);\n    return !r.closed && n.next(this._value), r;\n  }, t.prototype.getValue = function() {\n    var n = this, r = n.hasError, i = n.thrownError, o = n._value;\n    if (r)\n      throw i;\n    return this._throwIfClosed(), o;\n  }, t.prototype.next = function(n) {\n    e.prototype.next.call(this, this._value = n);\n  }, t;\n}(re), Rr = {\n  now: function() {\n    return Date.now();\n  },\n  delegate: void 0\n}, Nr = function(e) {\n  q(t, e);\n  function t(n, r) {\n    return e.call(this) || this;\n  }\n  return t.prototype.schedule = function(n, r) {\n    return this;\n  }, t;\n}(Te), Et = {\n  setInterval: function(e, t) {\n    for (var n = [], r = 2; r < arguments.length; r++)\n      n[r - 2] = arguments[r];\n    return setInterval.apply(void 0, Se([e, t], he(n)));\n  },\n  clearInterval: function(e) {\n    return clearInterval(e);\n  },\n  delegate: void 0\n}, $r = function(e) {\n  q(t, e);\n  function t(n, r) {\n    var i = e.call(this, n, r) || this;\n    return i.scheduler = n, i.work = r, i.pending = !1, i;\n  }\n  return t.prototype.schedule = function(n, r) {\n    var i;\n    if (r === void 0 && (r = 0), this.closed)\n      return this;\n    this.state = n;\n    var o = this.id, s = this.scheduler;\n    return o != null && (this.id = this.recycleAsyncId(s, o, r)), this.pending = !0, this.delay = r, this.id = (i = this.id) !== null && i !== void 0 ? i : this.requestAsyncId(s, this.id, r), this;\n  }, t.prototype.requestAsyncId = function(n, r, i) {\n    return i === void 0 && (i = 0), Et.setInterval(n.flush.bind(n, this), i);\n  }, t.prototype.recycleAsyncId = function(n, r, i) {\n    if (i === void 0 && (i = 0), i != null && this.delay === i && this.pending === !1)\n      return r;\n    r != null && Et.clearInterval(r);\n  }, t.prototype.execute = function(n, r) {\n    if (this.closed)\n      return new Error(\"executing a cancelled action\");\n    this.pending = !1;\n    var i = this._execute(n, r);\n    if (i)\n      return i;\n    this.pending === !1 && this.id != null && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));\n  }, t.prototype._execute = function(n, r) {\n    var i = !1, o;\n    try {\n      this.work(n);\n    } catch (s) {\n      i = !0, o = s || new Error(\"Scheduled action threw falsy error\");\n    }\n    if (i)\n      return this.unsubscribe(), o;\n  }, t.prototype.unsubscribe = function() {\n    if (!this.closed) {\n      var n = this, r = n.id, i = n.scheduler, o = i.actions;\n      this.work = this.state = this.scheduler = null, this.pending = !1, _e(o, this), r != null && (this.id = this.recycleAsyncId(i, r, null)), this.delay = null, e.prototype.unsubscribe.call(this);\n    }\n  }, t;\n}(Nr), Tt = function() {\n  function e(t, n) {\n    n === void 0 && (n = e.now), this.schedulerActionCtor = t, this.now = n;\n  }\n  return e.prototype.schedule = function(t, n, r) {\n    return n === void 0 && (n = 0), new this.schedulerActionCtor(this, t).schedule(r, n);\n  }, e.now = Rr.now, e;\n}(), Ur = function(e) {\n  q(t, e);\n  function t(n, r) {\n    r === void 0 && (r = Tt.now);\n    var i = e.call(this, n, r) || this;\n    return i.actions = [], i._active = !1, i;\n  }\n  return t.prototype.flush = function(n) {\n    var r = this.actions;\n    if (this._active) {\n      r.push(n);\n      return;\n    }\n    var i;\n    this._active = !0;\n    do\n      if (i = n.execute(n.state, n.delay))\n        break;\n    while (n = r.shift());\n    if (this._active = !1, i) {\n      for (; n = r.shift(); )\n        n.unsubscribe();\n      throw i;\n    }\n  }, t;\n}(Tt), Fr = new Ur($r), jr = new O(function(e) {\n  return e.complete();\n});\nfunction Wr(e) {\n  return e && A(e.schedule);\n}\nfunction nn(e) {\n  return e[e.length - 1];\n}\nfunction Be(e) {\n  return Wr(nn(e)) ? e.pop() : void 0;\n}\nfunction Br(e, t) {\n  return typeof nn(e) == \"number\" ? e.pop() : t;\n}\nvar ut = function(e) {\n  return e && typeof e.length == \"number\" && typeof e != \"function\";\n};\nfunction rn(e) {\n  return A(e == null ? void 0 : e.then);\n}\nfunction on(e) {\n  return A(e[at]);\n}\nfunction sn(e) {\n  return Symbol.asyncIterator && A(e == null ? void 0 : e[Symbol.asyncIterator]);\n}\nfunction an(e) {\n  return new TypeError(\"You provided \" + (e !== null && typeof e == \"object\" ? \"an invalid object\" : \"'\" + e + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\nfunction Vr() {\n  return typeof Symbol != \"function\" || !Symbol.iterator ? \"@@iterator\" : Symbol.iterator;\n}\nvar cn = Vr();\nfunction un(e) {\n  return A(e == null ? void 0 : e[cn]);\n}\nfunction ln(e) {\n  return Er(this, arguments, function() {\n    var n, r, i, o;\n    return Jt(this, function(s) {\n      switch (s.label) {\n        case 0:\n          n = e.getReader(), s.label = 1;\n        case 1:\n          s.trys.push([1, , 9, 10]), s.label = 2;\n        case 2:\n          return [4, fe(n.read())];\n        case 3:\n          return r = s.sent(), i = r.value, o = r.done, o ? [4, fe(void 0)] : [3, 5];\n        case 4:\n          return [2, s.sent()];\n        case 5:\n          return [4, fe(i)];\n        case 6:\n          return [4, s.sent()];\n        case 7:\n          return s.sent(), [3, 2];\n        case 8:\n          return [3, 10];\n        case 9:\n          return n.releaseLock(), [7];\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\nfunction fn(e) {\n  return A(e == null ? void 0 : e.getReader);\n}\nfunction Y(e) {\n  if (e instanceof O)\n    return e;\n  if (e != null) {\n    if (on(e))\n      return Hr(e);\n    if (ut(e))\n      return zr(e);\n    if (rn(e))\n      return Yr(e);\n    if (sn(e))\n      return dn(e);\n    if (un(e))\n      return Gr(e);\n    if (fn(e))\n      return Kr(e);\n  }\n  throw an(e);\n}\nfunction Hr(e) {\n  return new O(function(t) {\n    var n = e[at]();\n    if (A(n.subscribe))\n      return n.subscribe(t);\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\n  });\n}\nfunction zr(e) {\n  return new O(function(t) {\n    for (var n = 0; n < e.length && !t.closed; n++)\n      t.next(e[n]);\n    t.complete();\n  });\n}\nfunction Yr(e) {\n  return new O(function(t) {\n    e.then(function(n) {\n      t.closed || (t.next(n), t.complete());\n    }, function(n) {\n      return t.error(n);\n    }).then(null, en);\n  });\n}\nfunction Gr(e) {\n  return new O(function(t) {\n    var n, r;\n    try {\n      for (var i = pe(e), o = i.next(); !o.done; o = i.next()) {\n        var s = o.value;\n        if (t.next(s), t.closed)\n          return;\n      }\n    } catch (a) {\n      n = { error: a };\n    } finally {\n      try {\n        o && !o.done && (r = i.return) && r.call(i);\n      } finally {\n        if (n) throw n.error;\n      }\n    }\n    t.complete();\n  });\n}\nfunction dn(e) {\n  return new O(function(t) {\n    Qr(e, t).catch(function(n) {\n      return t.error(n);\n    });\n  });\n}\nfunction Kr(e) {\n  return dn(ln(e));\n}\nfunction Qr(e, t) {\n  var n, r, i, o;\n  return xr(this, void 0, void 0, function() {\n    var s, a;\n    return Jt(this, function(c) {\n      switch (c.label) {\n        case 0:\n          c.trys.push([0, 5, 6, 11]), n = Tr(e), c.label = 1;\n        case 1:\n          return [4, n.next()];\n        case 2:\n          if (r = c.sent(), !!r.done) return [3, 4];\n          if (s = r.value, t.next(s), t.closed)\n            return [2];\n          c.label = 3;\n        case 3:\n          return [3, 1];\n        case 4:\n          return [3, 11];\n        case 5:\n          return a = c.sent(), i = { error: a }, [3, 11];\n        case 6:\n          return c.trys.push([6, , 9, 10]), r && !r.done && (o = n.return) ? [4, o.call(n)] : [3, 8];\n        case 7:\n          c.sent(), c.label = 8;\n        case 8:\n          return [3, 10];\n        case 9:\n          if (i) throw i.error;\n          return [7];\n        case 10:\n          return [7];\n        case 11:\n          return t.complete(), [2];\n      }\n    });\n  });\n}\nfunction ee(e, t, n, r, i) {\n  r === void 0 && (r = 0), i === void 0 && (i = !1);\n  var o = t.schedule(function() {\n    n(), i ? e.add(this.schedule(null, r)) : this.unsubscribe();\n  }, r);\n  if (e.add(o), !i)\n    return o;\n}\nfunction pn(e, t) {\n  return t === void 0 && (t = 0), B(function(n, r) {\n    n.subscribe(j(r, function(i) {\n      return ee(r, e, function() {\n        return r.next(i);\n      }, t);\n    }, function() {\n      return ee(r, e, function() {\n        return r.complete();\n      }, t);\n    }, function(i) {\n      return ee(r, e, function() {\n        return r.error(i);\n      }, t);\n    }));\n  });\n}\nfunction hn(e, t) {\n  return t === void 0 && (t = 0), B(function(n, r) {\n    r.add(e.schedule(function() {\n      return n.subscribe(r);\n    }, t));\n  });\n}\nfunction Jr(e, t) {\n  return Y(e).pipe(hn(t), pn(t));\n}\nfunction qr(e, t) {\n  return Y(e).pipe(hn(t), pn(t));\n}\nfunction Xr(e, t) {\n  return new O(function(n) {\n    var r = 0;\n    return t.schedule(function() {\n      r === e.length ? n.complete() : (n.next(e[r++]), n.closed || this.schedule());\n    });\n  });\n}\nfunction Zr(e, t) {\n  return new O(function(n) {\n    var r;\n    return ee(n, t, function() {\n      r = e[cn](), ee(n, t, function() {\n        var i, o, s;\n        try {\n          i = r.next(), o = i.value, s = i.done;\n        } catch (a) {\n          n.error(a);\n          return;\n        }\n        s ? n.complete() : n.next(o);\n      }, 0, !0);\n    }), function() {\n      return A(r == null ? void 0 : r.return) && r.return();\n    };\n  });\n}\nfunction vn(e, t) {\n  if (!e)\n    throw new Error(\"Iterable cannot be null\");\n  return new O(function(n) {\n    ee(n, t, function() {\n      var r = e[Symbol.asyncIterator]();\n      ee(n, t, function() {\n        r.next().then(function(i) {\n          i.done ? n.complete() : n.next(i.value);\n        });\n      }, 0, !0);\n    });\n  });\n}\nfunction ei(e, t) {\n  return vn(ln(e), t);\n}\nfunction ti(e, t) {\n  if (e != null) {\n    if (on(e))\n      return Jr(e, t);\n    if (ut(e))\n      return Xr(e, t);\n    if (rn(e))\n      return qr(e, t);\n    if (sn(e))\n      return vn(e, t);\n    if (un(e))\n      return Zr(e, t);\n    if (fn(e))\n      return ei(e, t);\n  }\n  throw an(e);\n}\nfunction lt(e, t) {\n  return t ? ti(e, t) : Y(e);\n}\nfunction Ct() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e);\n  return lt(e, n);\n}\nfunction ni(e) {\n  return e instanceof Date && !isNaN(e);\n}\nvar ri = ot(function(e) {\n  return function(n) {\n    n === void 0 && (n = null), e(this), this.message = \"Timeout has occurred\", this.name = \"TimeoutError\", this.info = n;\n  };\n});\nfunction ii(e, t) {\n  var n = ni(e) ? { first: e } : typeof e == \"number\" ? { each: e } : e, r = n.first, i = n.each, o = n.with, s = o === void 0 ? oi : o, a = n.scheduler, c = a === void 0 ? Fr : a, u = n.meta, l = u === void 0 ? null : u;\n  if (r == null && i == null)\n    throw new TypeError(\"No timeout provided.\");\n  return B(function(f, h) {\n    var d, m, p = null, g = 0, v = function(E) {\n      m = ee(h, c, function() {\n        try {\n          d.unsubscribe(), Y(s({\n            meta: l,\n            lastValue: p,\n            seen: g\n          })).subscribe(h);\n        } catch (P) {\n          h.error(P);\n        }\n      }, E);\n    };\n    d = f.subscribe(j(h, function(E) {\n      m == null || m.unsubscribe(), g++, h.next(p = E), i > 0 && v(i);\n    }, void 0, void 0, function() {\n      m != null && m.closed || m == null || m.unsubscribe(), p = null;\n    })), !g && v(r != null ? typeof r == \"number\" ? r : +r - c.now() : i);\n  });\n}\nfunction oi(e) {\n  throw new ri(e);\n}\nfunction k(e, t) {\n  return B(function(n, r) {\n    var i = 0;\n    n.subscribe(j(r, function(o) {\n      r.next(e.call(t, o, i++));\n    }));\n  });\n}\nvar si = Array.isArray;\nfunction ai(e, t) {\n  return si(t) ? e.apply(void 0, Se([], he(t))) : e(t);\n}\nfunction ci(e) {\n  return k(function(t) {\n    return ai(e, t);\n  });\n}\nfunction ui(e, t, n, r, i, o, s, a) {\n  var c = [], u = 0, l = 0, f = !1, h = function() {\n    f && !c.length && !u && t.complete();\n  }, d = function(p) {\n    return u < r ? m(p) : c.push(p);\n  }, m = function(p) {\n    u++;\n    var g = !1;\n    Y(n(p, l++)).subscribe(j(t, function(v) {\n      t.next(v);\n    }, function() {\n      g = !0;\n    }, void 0, function() {\n      if (g)\n        try {\n          u--;\n          for (var v = function() {\n            var E = c.shift();\n            s || m(E);\n          }; c.length && u < r; )\n            v();\n          h();\n        } catch (E) {\n          t.error(E);\n        }\n    }));\n  };\n  return e.subscribe(j(t, d, function() {\n    f = !0, h();\n  })), function() {\n  };\n}\nfunction ft(e, t, n) {\n  return n === void 0 && (n = 1 / 0), A(t) ? ft(function(r, i) {\n    return k(function(o, s) {\n      return t(r, o, i, s);\n    })(Y(e(r, i)));\n  }, n) : (typeof t == \"number\" && (n = t), B(function(r, i) {\n    return ui(r, i, e, n);\n  }));\n}\nfunction mn(e) {\n  return e === void 0 && (e = 1 / 0), ft(ct, e);\n}\nfunction li() {\n  return mn(1);\n}\nfunction Me() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  return li()(lt(e, Be(e)));\n}\nvar fi = [\"addListener\", \"removeListener\"], di = [\"addEventListener\", \"removeEventListener\"], pi = [\"on\", \"off\"];\nfunction Ze(e, t, n, r) {\n  if (A(n) && (r = n, n = void 0), r)\n    return Ze(e, t, n).pipe(ci(r));\n  var i = he(mi(e) ? di.map(function(a) {\n    return function(c) {\n      return e[a](t, c, n);\n    };\n  }) : hi(e) ? fi.map(Pt(e, t)) : vi(e) ? pi.map(Pt(e, t)) : [], 2), o = i[0], s = i[1];\n  if (!o && ut(e))\n    return ft(function(a) {\n      return Ze(a, t, n);\n    })(Y(e));\n  if (!o)\n    throw new TypeError(\"Invalid event target\");\n  return new O(function(a) {\n    var c = function() {\n      for (var u = [], l = 0; l < arguments.length; l++)\n        u[l] = arguments[l];\n      return a.next(1 < u.length ? u : u[0]);\n    };\n    return o(c), function() {\n      return s(c);\n    };\n  });\n}\nfunction Pt(e, t) {\n  return function(n) {\n    return function(r) {\n      return e[n](t, r);\n    };\n  };\n}\nfunction hi(e) {\n  return A(e.addListener) && A(e.removeListener);\n}\nfunction vi(e) {\n  return A(e.on) && A(e.off);\n}\nfunction mi(e) {\n  return A(e.addEventListener) && A(e.removeEventListener);\n}\nfunction gi() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e), r = Br(e, 1 / 0), i = e;\n  return i.length ? i.length === 1 ? Y(i[0]) : mn(r)(lt(i, n)) : jr;\n}\nfunction dt(e, t) {\n  return B(function(n, r) {\n    var i = 0;\n    n.subscribe(j(r, function(o) {\n      return e.call(t, o, i++) && r.next(o);\n    }));\n  });\n}\nfunction bi(e, t, n, r, i) {\n  return function(o, s) {\n    var a = n, c = t, u = 0;\n    o.subscribe(j(s, function(l) {\n      var f = u++;\n      c = a ? e(c, l, f) : (a = !0, l), s.next(c);\n    }, i));\n  };\n}\nfunction yi(e, t) {\n  return t === void 0 && (t = ct), e = e ?? wi, B(function(n, r) {\n    var i, o = !0;\n    n.subscribe(j(r, function(s) {\n      var a = t(s);\n      (o || !e(i, a)) && (o = !1, i = a, r.next(s));\n    }));\n  });\n}\nfunction wi(e, t) {\n  return e === t;\n}\nfunction Si(e) {\n  return B(function(t, n) {\n    try {\n      t.subscribe(n);\n    } finally {\n      n.add(e);\n    }\n  });\n}\nfunction xi(e, t) {\n  return B(bi(e, t, arguments.length >= 2, !0));\n}\nfunction Ei(e) {\n  return B(function(t, n) {\n    var r = !1, i = j(n, function() {\n      i == null || i.unsubscribe(), r = !0;\n    }, Ie);\n    Y(e).subscribe(i), t.subscribe(j(n, function(o) {\n      return r && n.next(o);\n    }));\n  });\n}\nfunction R() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e);\n  return B(function(r, i) {\n    (n ? Me(e, r, n) : Me(e, r)).subscribe(i);\n  });\n}\nfunction gn(e, t) {\n  return B(function(n, r) {\n    var i = null, o = 0, s = !1, a = function() {\n      return s && !i && r.complete();\n    };\n    n.subscribe(j(r, function(c) {\n      i == null || i.unsubscribe();\n      var u = 0, l = o++;\n      Y(e(c, l)).subscribe(i = j(r, function(f) {\n        return r.next(t ? t(c, f, l, u++) : f);\n      }, function() {\n        i = null, a();\n      }));\n    }, function() {\n      s = !0, a();\n    }));\n  });\n}\nfunction At(e) {\n  return B(function(t, n) {\n    Y(e).subscribe(j(n, function() {\n      return n.complete();\n    }, Ie)), !n.closed && t.subscribe(n);\n  });\n}\nvar Ti = Object.defineProperty, Ci = Object.defineProperties, Pi = Object.getOwnPropertyDescriptors, kt = Object.getOwnPropertySymbols, Ai = Object.prototype.hasOwnProperty, ki = Object.prototype.propertyIsEnumerable, Ot = (e, t, n) => t in e ? Ti(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Q = (e, t) => {\n  for (var n in t || (t = {}))\n    Ai.call(t, n) && Ot(e, n, t[n]);\n  if (kt)\n    for (var n of kt(t))\n      ki.call(t, n) && Ot(e, n, t[n]);\n  return e;\n}, ye = (e, t) => Ci(e, Pi(t)), W = (e, t, n) => new Promise((r, i) => {\n  var o = (c) => {\n    try {\n      a(n.next(c));\n    } catch (u) {\n      i(u);\n    }\n  }, s = (c) => {\n    try {\n      a(n.throw(c));\n    } catch (u) {\n      i(u);\n    }\n  }, a = (c) => c.done ? r(c.value) : Promise.resolve(c.value).then(o, s);\n  a((n = n.apply(e, t)).next());\n}), bn = \"lk\";\nfunction F(e) {\n  return typeof e > \"u\" ? !1 : Oi(e) || Li(e);\n}\nfunction Oi(e) {\n  var t;\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"track\") && typeof ((t = e.publication) == null ? void 0 : t.track) < \"u\" : !1;\n}\nfunction Li(e) {\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"publication\") && typeof e.publication < \"u\" : !1;\n}\nfunction xe(e) {\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && typeof e.publication > \"u\" : !1;\n}\nfunction N(e) {\n  if (typeof e == \"string\" || typeof e == \"number\")\n    return `${e}`;\n  if (xe(e))\n    return `${e.participant.identity}_${e.source}_placeholder`;\n  if (F(e))\n    return `${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;\n  throw new Error(`Can't generate a id for the given track reference: ${e}`);\n}\nfunction To(e, t) {\n  return e === void 0 || t === void 0 ? !1 : F(e) && F(t) ? e.publication.trackSid === t.publication.trackSid : N(e) === N(t);\n}\nfunction Co(e, t) {\n  return typeof t > \"u\" ? !1 : F(e) ? t.some(\n    (n) => n.participant.identity === e.participant.identity && F(n) && n.publication.trackSid === e.publication.trackSid\n  ) : xe(e) ? t.some(\n    (n) => n.participant.identity === e.participant.identity && xe(n) && n.source === e.source\n  ) : !1;\n}\nfunction _i(e, t) {\n  return xe(e) && F(t) && t.participant.identity === e.participant.identity && t.source === e.source;\n}\nfunction Po() {\n  const e = document.createElement(\"p\");\n  e.style.width = \"100%\", e.style.height = \"200px\";\n  const t = document.createElement(\"div\");\n  t.style.position = \"absolute\", t.style.top = \"0px\", t.style.left = \"0px\", t.style.visibility = \"hidden\", t.style.width = \"200px\", t.style.height = \"150px\", t.style.overflow = \"hidden\", t.appendChild(e), document.body.appendChild(t);\n  const n = e.offsetWidth;\n  t.style.overflow = \"scroll\";\n  let r = e.offsetWidth;\n  return n === r && (r = t.clientWidth), document.body.removeChild(t), n - r;\n}\nfunction Ao() {\n  return typeof document < \"u\";\n}\nfunction Ii(e) {\n  e = Q({}, e);\n  const t = \"(?:(?:[a-z]+:)?//)?\", n = \"(?:\\\\S+(?::\\\\S*)?@)?\", r = new RegExp(\n    \"(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}\",\n    \"g\"\n  ).source, u = `(?:${t}|www\\\\.)${n}(?:localhost|${r}|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?)(?::\\\\d{2,5})?(?:[/?#][^\\\\s\"]*)?`;\n  return e.exact ? new RegExp(`(?:^${u}$)`, \"i\") : new RegExp(u, \"ig\");\n}\nvar Lt = \"[^\\\\.\\\\s@:](?:[^\\\\s@:]*[^\\\\s@:\\\\.])?@[^\\\\.\\\\s@]+(?:\\\\.[^\\\\.\\\\s@]+)*\";\nfunction Mi({ exact: e } = {}) {\n  return e ? new RegExp(`^${Lt}$`) : new RegExp(Lt, \"g\");\n}\nfunction ko(e, t) {\n  return W(this, null, function* () {\n    const { x: n, y: r } = yield gr(e, t, {\n      placement: \"top\",\n      middleware: [hr(6), mr(), vr({ padding: 5 })]\n    });\n    return { x: n, y: r };\n  });\n}\nfunction Oo(e, t) {\n  return !e.contains(t.target);\n}\nvar Lo = () => ({\n  email: Mi(),\n  url: Ii({})\n});\nfunction _o(e, t) {\n  const n = Object.entries(t).map(\n    ([o, s], a) => Array.from(e.matchAll(s)).map(({ index: c, 0: u }) => ({\n      type: o,\n      weight: a,\n      content: u,\n      index: c ?? 0\n    }))\n  ).flat().sort((o, s) => {\n    const a = o.index - s.index;\n    return a !== 0 ? a : o.weight - s.weight;\n  }).filter(({ index: o }, s, a) => {\n    if (s === 0) return !0;\n    const c = a[s - 1];\n    return c.index + c.content.length <= o;\n  }), r = [];\n  let i = 0;\n  for (const { type: o, content: s, index: a } of n)\n    a > i && r.push(e.substring(i, a)), r.push({ type: o, content: s }), i = a + s.length;\n  return e.length > i && r.push(e.substring(i)), r;\n}\nvar Di = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantNameChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantAttributesChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged\n], yn = [\n  ...Di,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished\n], Ri = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n], Ni = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n], wn = [\n  ...Ni,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n], _ = Sr.getLogger(\"lk-components-js\");\n_.setDefaultLevel(\"WARN\");\nfunction Io(e, t = {}) {\n  var n;\n  _.setLevel(e), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel)((n = t.liveKitClientLogLevel) != null ? n : e);\n}\nfunction Mo(e, t = {}) {\n  var n;\n  const r = _.methodFactory;\n  _.methodFactory = (i, o, s) => {\n    const a = r(i, o, s), c = livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel[i], u = c >= o && c < livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel.silent;\n    return (l, f) => {\n      f ? a(l, f) : a(l), u && e(c, l, f);\n    };\n  }, _.setLevel(_.getLevel()), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogExtension)((n = t.liveKitClientLogExtension) != null ? n : e);\n}\nvar Do = [\n  {\n    columns: 1,\n    rows: 1\n  },\n  {\n    columns: 1,\n    rows: 2,\n    orientation: \"portrait\"\n  },\n  {\n    columns: 2,\n    rows: 1,\n    orientation: \"landscape\"\n  },\n  {\n    columns: 2,\n    rows: 2,\n    minWidth: 560\n  },\n  {\n    columns: 3,\n    rows: 3,\n    minWidth: 700\n  },\n  {\n    columns: 4,\n    rows: 4,\n    minWidth: 960\n  },\n  {\n    columns: 5,\n    rows: 5,\n    minWidth: 1100\n  }\n];\nfunction $i(e, t, n, r) {\n  if (e.length < 1)\n    throw new Error(\"At least one grid layout definition must be provided.\");\n  const i = Ui(e);\n  if (n <= 0 || r <= 0)\n    return i[0];\n  let o = 0;\n  const s = n / r > 1 ? \"landscape\" : \"portrait\";\n  let a = i.find((c, u, l) => {\n    o = u;\n    const f = l.findIndex((h, d) => {\n      const m = !h.orientation || h.orientation === s, p = d > u, g = h.maxTiles === c.maxTiles;\n      return p && g && m;\n    }) !== -1;\n    return c.maxTiles >= t && !f;\n  });\n  if (a === void 0)\n    if (a = i[i.length - 1], a)\n      _.warn(\n        `No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${a}).`\n      );\n    else\n      throw new Error(\"No layout or fallback layout found.\");\n  if ((n < a.minWidth || r < a.minHeight) && o > 0) {\n    const c = i[o - 1];\n    a = $i(\n      i.slice(0, o),\n      c.maxTiles,\n      n,\n      r\n    );\n  }\n  return a;\n}\nfunction Ui(e) {\n  return [...e].map((t) => {\n    var n, r;\n    return {\n      name: `${t.columns}x${t.rows}`,\n      columns: t.columns,\n      rows: t.rows,\n      maxTiles: t.columns * t.rows,\n      minWidth: (n = t.minWidth) != null ? n : 0,\n      minHeight: (r = t.minHeight) != null ? r : 0,\n      orientation: t.orientation\n    };\n  }).sort((t, n) => t.maxTiles !== n.maxTiles ? t.maxTiles - n.maxTiles : t.minWidth !== 0 || n.minWidth !== 0 ? t.minWidth - n.minWidth : t.minHeight !== 0 || n.minHeight !== 0 ? t.minHeight - n.minHeight : 0);\n}\nfunction Ro() {\n  return typeof navigator < \"u\" && navigator.mediaDevices && !!navigator.mediaDevices.getDisplayMedia;\n}\nfunction No(e, t) {\n  var n;\n  return ye(Q({}, e), {\n    receivedAtMediaTimestamp: (n = t.rtpTimestamp) != null ? n : 0,\n    receivedAt: t.timestamp\n  });\n}\nfunction $o(e, t, n) {\n  return [...e, ...t].reduceRight((r, i) => (r.find((o) => o.id === i.id) || r.unshift(i), r), []).slice(0 - n);\n}\nvar Sn = [], xn = {\n  showChat: !1,\n  unreadMessages: 0,\n  showSettings: !1\n};\nfunction Fi(e) {\n  return typeof e == \"object\";\n}\nfunction Uo(e) {\n  return Array.isArray(e) && e.filter(Fi).length > 0;\n}\nfunction En(e, t) {\n  return t.audioLevel - e.audioLevel;\n}\nfunction Tn(e, t) {\n  return e.isSpeaking === t.isSpeaking ? 0 : e.isSpeaking ? -1 : 1;\n}\nfunction Cn(e, t) {\n  var n, r, i, o;\n  return e.lastSpokeAt !== void 0 || t.lastSpokeAt !== void 0 ? ((r = (n = t.lastSpokeAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = e.lastSpokeAt) == null ? void 0 : i.getTime()) != null ? o : 0) : 0;\n}\nfunction De(e, t) {\n  var n, r, i, o;\n  return ((r = (n = e.joinedAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = t.joinedAt) == null ? void 0 : i.getTime()) != null ? o : 0);\n}\nfunction ji(e, t) {\n  return F(e) ? F(t) ? 0 : -1 : F(t) ? 1 : 0;\n}\nfunction Wi(e, t) {\n  const n = e.participant.isCameraEnabled, r = t.participant.isCameraEnabled;\n  return n !== r ? n ? -1 : 1 : 0;\n}\nfunction Fo(e) {\n  const t = [], n = [], r = [], i = [];\n  e.forEach((a) => {\n    a.participant.isLocal && a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? t.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? n.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? r.push(a) : i.push(a);\n  });\n  const o = Bi(n), s = Vi(r);\n  return [...t, ...o, ...s, ...i];\n}\nfunction Bi(e) {\n  const t = [], n = [];\n  return e.forEach((i) => {\n    i.participant.isLocal ? t.push(i) : n.push(i);\n  }), t.sort((i, o) => De(i.participant, o.participant)), n.sort((i, o) => De(i.participant, o.participant)), [...n, ...t];\n}\nfunction Vi(e) {\n  const t = [], n = [];\n  return e.forEach((r) => {\n    r.participant.isLocal ? t.push(r) : n.push(r);\n  }), n.sort((r, i) => r.participant.isSpeaking && i.participant.isSpeaking ? En(r.participant, i.participant) : r.participant.isSpeaking !== i.participant.isSpeaking ? Tn(r.participant, i.participant) : r.participant.lastSpokeAt !== i.participant.lastSpokeAt ? Cn(r.participant, i.participant) : F(r) !== F(i) ? ji(r, i) : r.participant.isCameraEnabled !== i.participant.isCameraEnabled ? Wi(r, i) : De(r.participant, i.participant)), [...t, ...n];\n}\nfunction jo(e) {\n  const t = [...e];\n  t.sort((r, i) => {\n    if (r.isSpeaking && i.isSpeaking)\n      return En(r, i);\n    if (r.isSpeaking !== i.isSpeaking)\n      return Tn(r, i);\n    if (r.lastSpokeAt !== i.lastSpokeAt)\n      return Cn(r, i);\n    const o = r.videoTrackPublications.size > 0, s = i.videoTrackPublications.size > 0;\n    return o !== s ? o ? -1 : 1 : De(r, i);\n  });\n  const n = t.find((r) => r.isLocal);\n  if (n) {\n    const r = t.indexOf(n);\n    r >= 0 && (t.splice(r, 1), t.length > 0 ? t.splice(0, 0, n) : t.push(n));\n  }\n  return t;\n}\nfunction Hi(e, t) {\n  return e.reduce(\n    (n, r, i) => i % t === 0 ? [...n, [r]] : [...n.slice(0, -1), [...n.slice(-1)[0], r]],\n    []\n  );\n}\nfunction _t(e, t) {\n  const n = Math.max(e.length, t.length);\n  return new Array(n).fill([]).map((r, i) => [e[i], t[i]]);\n}\nfunction Re(e, t, n) {\n  return e.filter((r) => !t.map((i) => n(i)).includes(n(r)));\n}\nfunction et(e) {\n  return e.map((t) => typeof t == \"string\" || typeof t == \"number\" ? `${t}` : N(t));\n}\nfunction zi(e, t) {\n  return {\n    dropped: Re(e, t, N),\n    added: Re(t, e, N)\n  };\n}\nfunction Yi(e) {\n  return e.added.length !== 0 || e.dropped.length !== 0;\n}\nfunction tt(e, t) {\n  const n = t.findIndex(\n    (r) => N(r) === N(e)\n  );\n  if (n === -1)\n    throw new Error(\n      `Element not part of the array: ${N(\n        e\n      )} not in ${et(t)}`\n    );\n  return n;\n}\nfunction Gi(e, t, n) {\n  const r = tt(e, n), i = tt(t, n);\n  return n.splice(r, 1, t), n.splice(i, 1, e), n;\n}\nfunction Ki(e, t) {\n  const n = tt(e, t);\n  return t.splice(n, 1), t;\n}\nfunction Qi(e, t) {\n  return [...t, e];\n}\nfunction Ye(e, t) {\n  return Hi(e, t);\n}\nfunction Wo(e, t, n) {\n  let r = Ji(e, t);\n  if (r.length < t.length) {\n    const s = Re(t, r, N);\n    r = [...r, ...s];\n  }\n  const i = Ye(r, n), o = Ye(t, n);\n  if (_t(i, o).forEach(([s, a], c) => {\n    if (s && a) {\n      const u = Ye(r, n)[c], l = zi(u, a);\n      Yi(l) && (_.debug(\n        `Detected visual changes on page: ${c}, current: ${et(\n          s\n        )}, next: ${et(a)}`,\n        { changes: l }\n      ), l.added.length === l.dropped.length && _t(l.added, l.dropped).forEach(([f, h]) => {\n        if (f && h)\n          r = Gi(f, h, r);\n        else\n          throw new Error(\n            `For a swap action we need a addition and a removal one is missing: ${f}, ${h}`\n          );\n      }), l.added.length === 0 && l.dropped.length > 0 && l.dropped.forEach((f) => {\n        r = Ki(f, r);\n      }), l.added.length > 0 && l.dropped.length === 0 && l.added.forEach((f) => {\n        r = Qi(f, r);\n      }));\n    }\n  }), r.length > t.length) {\n    const s = Re(r, t, N);\n    r = r.filter(\n      (a) => !s.map(N).includes(N(a))\n    );\n  }\n  return r;\n}\nfunction Ji(e, t) {\n  return e.map((n) => {\n    const r = t.find(\n      (i) => (\n        // If the IDs match or ..\n        N(n) === N(i) || // ... if the current item is a placeholder and the new item is the track reference can replace it.\n        typeof n != \"number\" && xe(n) && F(i) && _i(n, i)\n      )\n    );\n    return r ?? n;\n  });\n}\nfunction $(e) {\n  return `${bn}-${e}`;\n}\nfunction Bo(e) {\n  const t = It(e), n = Pn(e.participant).pipe(\n    k(() => It(e)),\n    R(t)\n  );\n  return { className: $(\n    e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera || e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? \"participant-media-video\" : \"participant-media-audio\"\n  ), trackObserver: n };\n}\nfunction It(e) {\n  if (F(e))\n    return e.publication;\n  {\n    const { source: t, name: n, participant: r } = e;\n    if (t && n)\n      return r.getTrackPublications().find((i) => i.source === t && i.trackName === n);\n    if (n)\n      return r.getTrackPublicationByName(n);\n    if (t)\n      return r.getTrackPublication(t);\n    throw new Error(\"At least one of source and name needs to be defined\");\n  }\n}\nfunction se(e, ...t) {\n  return new O((r) => {\n    const i = () => {\n      r.next(e);\n    };\n    return t.forEach((s) => {\n      e.on(s, i);\n    }), () => {\n      t.forEach((s) => {\n        e.off(s, i);\n      });\n    };\n  }).pipe(R(e));\n}\nfunction ae(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction Vo(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged).pipe(\n    k(([t]) => t),\n    R(e.state)\n  );\n}\nfunction Ho(e) {\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    k((n) => ({ name: n.name, metadata: n.metadata }))\n  );\n}\nfunction zo(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged).pipe(\n    k(([t]) => t)\n  );\n}\nfunction Yo(e, t, n = !0) {\n  var r;\n  const i = () => W(this, null, function* () {\n    try {\n      const a = yield livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n);\n      o.next(a);\n    } catch (a) {\n      t == null || t(a);\n    }\n  }), o = new re(), s = o.pipe(\n    Si(() => {\n      var a;\n      (a = navigator == null ? void 0 : navigator.mediaDevices) == null || a.removeEventListener(\"devicechange\", i);\n    })\n  );\n  if (typeof window < \"u\") {\n    if (!window.isSecureContext)\n      throw new Error(\n        \"Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices\"\n      );\n    (r = navigator == null ? void 0 : navigator.mediaDevices) == null || r.addEventListener(\"devicechange\", i);\n  }\n  return Me(\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n).catch((a) => (t == null || t(a), [])),\n    s\n  );\n}\nfunction qi(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.DataReceived);\n}\nfunction Xi(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ChatMessage);\n}\nfunction Zi(e) {\n  return se(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.AudioPlaybackStatusChanged).pipe(\n    k((n) => ({ canPlayAudio: n.canPlaybackAudio }))\n  );\n}\nfunction eo(e) {\n  return se(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.VideoPlaybackStatusChanged).pipe(\n    k((n) => ({ canPlayVideo: n.canPlaybackVideo }))\n  );\n}\nfunction to(e, t) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveDeviceChanged).pipe(\n    dt(([n]) => n === t),\n    k(([n, r]) => (_.debug(\"activeDeviceObservable | RoomEvent.ActiveDeviceChanged\", { kind: n, deviceId: r }), r))\n  );\n}\nfunction Go(e, t) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantEncryptionStatusChanged).pipe(\n    dt(\n      ([, n]) => (t == null ? void 0 : t.identity) === (n == null ? void 0 : n.identity) || !n && (t == null ? void 0 : t.identity) === e.localParticipant.identity\n    ),\n    k(([n]) => n),\n    R(\n      t != null && t.isLocal ? t.isE2EEEnabled : !!(t != null && t.isEncrypted)\n    )\n  );\n}\nfunction Ko(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RecordingStatusChanged).pipe(\n    k(([t]) => t),\n    R(e.isRecording)\n  );\n}\nfunction me(e, ...t) {\n  return new O((r) => {\n    const i = () => {\n      r.next(e);\n    };\n    return t.forEach((s) => {\n      e.on(s, i);\n    }), () => {\n      t.forEach((s) => {\n        e.off(s, i);\n      });\n    };\n  }).pipe(R(e));\n}\nfunction Pn(e) {\n  return me(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n    // ParticipantEvent.IsSpeakingChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.MediaDevicesError,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n    // ParticipantEvent.ConnectionQualityChanged,\n  ).pipe(\n    k((n) => {\n      const { isMicrophoneEnabled: r, isCameraEnabled: i, isScreenShareEnabled: o } = n, s = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone), a = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera);\n      return {\n        isCameraEnabled: i,\n        isMicrophoneEnabled: r,\n        isScreenShareEnabled: o,\n        cameraTrack: a,\n        microphoneTrack: s,\n        participant: n\n      };\n    })\n  );\n}\nfunction no(e) {\n  return e ? me(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantNameChanged\n  ).pipe(\n    k(({ name: n, identity: r, metadata: i }) => ({\n      name: n,\n      identity: r,\n      metadata: i\n    })),\n    R({\n      name: e.name,\n      identity: e.identity,\n      metadata: e.metadata\n    })\n  ) : void 0;\n}\nfunction ro(e) {\n  return Ve(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged\n  ).pipe(\n    k(([n]) => n),\n    R(e.connectionQuality)\n  );\n}\nfunction Ve(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction io(e) {\n  var t, n, r, i;\n  return me(\n    e.participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n  ).pipe(\n    k((o) => {\n      var s, a;\n      const c = (s = e.publication) != null ? s : o.getTrackPublication(e.source);\n      return (a = c == null ? void 0 : c.isMuted) != null ? a : !0;\n    }),\n    R(\n      (i = (r = (t = e.publication) == null ? void 0 : t.isMuted) != null ? r : (n = e.participant.getTrackPublication(e.source)) == null ? void 0 : n.isMuted) != null ? i : !0\n    )\n  );\n}\nfunction Qo(e) {\n  return Ve(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged).pipe(\n    k(([t]) => t)\n  );\n}\nfunction Jo(e, t = {}) {\n  var n;\n  let r;\n  const i = new O((c) => (r = c, () => a.unsubscribe())).pipe(R(Array.from(e.remoteParticipants.values()))), o = (n = t.additionalRoomEvents) != null ? n : yn, s = Array.from(\n    /* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      ...o\n    ])\n  ), a = se(e, ...s).subscribe(\n    (c) => r == null ? void 0 : r.next(Array.from(c.remoteParticipants.values()))\n  );\n  return e.remoteParticipants.size > 0 && (r == null || r.next(Array.from(e.remoteParticipants.values()))), i;\n}\nfunction qo(e, t, n = {}) {\n  var r;\n  const i = (r = n.additionalEvents) != null ? r : wn;\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    gn((s) => {\n      const a = s.getParticipantByIdentity(t);\n      return a ? me(a, ...i) : new O((c) => c.next(void 0));\n    }),\n    R(e.getParticipantByIdentity(t))\n  );\n}\nfunction Xo(e) {\n  return Ve(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged\n  ).pipe(\n    k(() => e.permissions),\n    R(e.permissions)\n  );\n}\nfunction Zo(e, { kind: t, identity: n }, r = {}) {\n  var i;\n  const o = (i = r.additionalEvents) != null ? i : wn, s = (c) => {\n    let u = !0;\n    return t && (u = u && c.kind === t), n && (u = u && c.identity === n), u;\n  };\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    gn((c) => {\n      const u = Array.from(c.remoteParticipants.values()).find(\n        (l) => s(l)\n      );\n      return u ? me(u, ...o) : new O((l) => l.next(void 0));\n    }),\n    R(Array.from(e.remoteParticipants.values()).find((c) => s(c)))\n  );\n}\nfunction es(e) {\n  return typeof e > \"u\" ? new O() : Ve(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.AttributesChanged).pipe(\n    k(([t]) => ({\n      changed: t,\n      attributes: e.attributes\n    })),\n    R({ changed: e.attributes, attributes: e.attributes })\n  );\n}\nfunction ts(e, t, n, r, i) {\n  const { localParticipant: o } = t, s = (f, h) => {\n    let d = !1;\n    switch (f) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n        d = h.isCameraEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n        d = h.isMicrophoneEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n        d = h.isScreenShareEnabled;\n        break;\n    }\n    return d;\n  }, a = Pn(o).pipe(\n    k((f) => s(e, f.participant)),\n    R(s(e, o))\n  ), c = new re(), u = (f, h) => W(this, null, function* () {\n    try {\n      switch (h ?? (h = n), c.next(!0), e) {\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n          return yield o.setCameraEnabled(\n            f ?? !o.isCameraEnabled,\n            h,\n            r\n          ), o.isCameraEnabled;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n          return yield o.setMicrophoneEnabled(\n            f ?? !o.isMicrophoneEnabled,\n            h,\n            r\n          ), o.isMicrophoneEnabled;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n          return yield o.setScreenShareEnabled(\n            f ?? !o.isScreenShareEnabled,\n            h,\n            r\n          ), o.isScreenShareEnabled;\n        default:\n          throw new TypeError(\"Tried to toggle unsupported source\");\n      }\n    } catch (d) {\n      if (i && d instanceof Error) {\n        i == null || i(d);\n        return;\n      } else\n        throw d;\n    } finally {\n      c.next(!1);\n    }\n  });\n  return {\n    className: $(\"button\"),\n    toggle: u,\n    enabledObserver: a,\n    pendingObserver: c.asObservable()\n  };\n}\nfunction ns() {\n  let e = !1;\n  const t = new re(), n = new re(), r = (o) => W(this, null, function* () {\n    n.next(!0), e = o ?? !e, t.next(e), n.next(!1);\n  });\n  return {\n    className: $(\"button\"),\n    toggle: r,\n    enabledObserver: t.asObservable(),\n    pendingObserver: n.asObservable()\n  };\n}\nfunction rs(e, t, n) {\n  const r = new tn(void 0), i = to(t, e), o = (a, ...c) => W(this, [a, ...c], function* (u, l = {}) {\n    var f, h, d;\n    if (t) {\n      _.debug(`Switching active device of kind \"${e}\" with id ${u}.`), yield t.switchActiveDevice(e, u, l.exact);\n      const m = (f = t.getActiveDevice(e)) != null ? f : u;\n      m !== u && u !== \"default\" && _.info(\n        `We tried to select the device with id (${u}), but the browser decided to select the device with id (${m}) instead.`\n      );\n      let p;\n      e === \"audioinput\" ? p = (h = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone)) == null ? void 0 : h.track : e === \"videoinput\" && (p = (d = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera)) == null ? void 0 : d.track);\n      const g = u === \"default\" && !p || u === \"default\" && (p == null ? void 0 : p.mediaStreamTrack.label.startsWith(\"Default\"));\n      r.next(g ? u : m);\n    }\n  });\n  return {\n    className: $(\"media-device-select\"),\n    activeDeviceObservable: i,\n    setActiveMediaDevice: o\n  };\n}\nfunction is(e) {\n  const t = (r) => {\n    e.disconnect(r);\n  };\n  return { className: $(\"disconnect-button\"), disconnect: t };\n}\nfunction os(e) {\n  const t = $(\"connection-quality\"), n = ro(e);\n  return { className: t, connectionQualityObserver: n };\n}\nfunction ss(e) {\n  let t = \"track-muted-indicator-camera\";\n  switch (e.source) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n      t = \"track-muted-indicator-camera\";\n      break;\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n      t = \"track-muted-indicator-microphone\";\n      break;\n  }\n  const n = $(t), r = io(e);\n  return { className: n, mediaMutedObserver: r };\n}\nfunction as(e) {\n  return { className: \"lk-participant-name\", infoObserver: no(e) };\n}\nfunction cs() {\n  return {\n    className: $(\"participant-tile\")\n  };\n}\nvar Mt = {\n  CHAT: \"lk-chat-topic\",\n  CHAT_UPDATE: \"lk-chat-update-topic\"\n};\nfunction nt(e, t) {\n  return W(this, arguments, function* (n, r, i = {}) {\n    const { reliable: o, destinationIdentities: s, topic: a } = i;\n    yield n.publishData(r, {\n      destinationIdentities: s,\n      topic: a,\n      reliable: o\n    });\n  });\n}\nfunction oo(e, t, n) {\n  const r = Array.isArray(t) ? t : [t], i = qi(e).pipe(\n    dt(\n      ([, , , c]) => t === void 0 || c !== void 0 && r.includes(c)\n    ),\n    k(([c, u, , l]) => {\n      const f = {\n        payload: c,\n        topic: l,\n        from: u\n      };\n      return n == null || n(f), f;\n    })\n  );\n  let o;\n  const s = new O((c) => {\n    o = c;\n  });\n  return { messageObservable: i, isSendingObservable: s, send: (c, ...u) => W(this, [c, ...u], function* (l, f = {}) {\n    o.next(!0);\n    try {\n      yield nt(e.localParticipant, l, Q({ topic: r[0] }, f));\n    } finally {\n      o.next(!1);\n    }\n  }) };\n}\nfunction so(e) {\n  return { chatObservable: Xi(e), send: (i) => W(this, null, function* () {\n    return yield e.localParticipant.sendChatMessage(i);\n  }), edit: (i, o) => W(this, null, function* () {\n    return yield e.localParticipant.editChatMessage(i, o);\n  }) };\n}\nvar ao = new TextEncoder(), co = new TextDecoder(), Pe = /* @__PURE__ */ new Map(), uo = (e) => ao.encode(JSON.stringify(e)), lo = (e) => JSON.parse(co.decode(e));\nfunction us(e, t) {\n  var n, r;\n  const i = new re(), o = () => {\n    var T, x, I;\n    return ((T = e.serverInfo) == null ? void 0 : T.edition) === 1 || !!((x = e.serverInfo) != null && x.version) && (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.compareVersions)((I = e.serverInfo) == null ? void 0 : I.version, \"1.17.2\") > 0;\n  }, { messageDecoder: s, messageEncoder: a, channelTopic: c, updateChannelTopic: u } = t ?? {}, l = c ?? Mt.CHAT, f = u ?? Mt.CHAT_UPDATE;\n  let h = !1;\n  Pe.has(e) || (h = !0);\n  const d = (n = Pe.get(e)) != null ? n : /* @__PURE__ */ new Map(), m = (r = d.get(l)) != null ? r : new re();\n  if (d.set(l, m), Pe.set(e, d), h) {\n    const { messageObservable: T } = oo(e, [l, f]);\n    T.pipe(At(i)).subscribe(m);\n  }\n  const { chatObservable: p, send: g } = so(e), v = s ?? lo, E = gi(\n    m.pipe(\n      k((T) => {\n        const x = v(T.payload), I = ye(Q({}, x), { from: T.from });\n        if (!fo(I))\n          return I;\n      })\n    ),\n    p.pipe(\n      k(([T, x]) => ye(Q({}, T), { from: x }))\n    )\n  ).pipe(\n    xi((T, x) => {\n      var I;\n      if (!x)\n        return T;\n      if (\"id\" in x && T.find((w) => {\n        var S, V;\n        return ((S = w.from) == null ? void 0 : S.identity) === ((V = x.from) == null ? void 0 : V.identity) && w.id === x.id;\n      })) {\n        const w = T.findIndex((S) => S.id === x.id);\n        if (w > -1) {\n          const S = T[w];\n          T[w] = ye(Q({}, x), {\n            timestamp: S.timestamp,\n            editTimestamp: (I = x.editTimestamp) != null ? I : x.timestamp\n          });\n        }\n        return [...T];\n      }\n      return [...T, x];\n    }, []),\n    At(i)\n  ), P = new tn(!1), L = a ?? uo, C = (T) => W(this, null, function* () {\n    P.next(!0);\n    try {\n      const x = yield g(T), I = L(ye(Q({}, x), {\n        ignore: o()\n      }));\n      return yield nt(e.localParticipant, I, {\n        reliable: !0,\n        topic: l\n      }), x;\n    } finally {\n      P.next(!1);\n    }\n  }), ie = (T, x) => W(this, null, function* () {\n    const I = Date.now(), w = typeof x == \"string\" ? { id: x, message: \"\", timestamp: I } : x;\n    P.next(!0);\n    try {\n      const S = yield e.localParticipant.editChatMessage(T, w), V = L(S);\n      return yield nt(e.localParticipant, V, {\n        topic: f,\n        reliable: !0\n      }), S;\n    } finally {\n      P.next(!1);\n    }\n  });\n  function K() {\n    i.next(), i.complete(), Pe.delete(e);\n  }\n  return e.once(livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.Disconnected, K), {\n    messageObservable: E,\n    isSendingObservable: P,\n    send: C,\n    update: ie\n  };\n}\nfunction fo(e) {\n  return e.ignore == !0;\n}\nfunction ls() {\n  const e = (n) => W(this, null, function* () {\n    _.info(\"Start Audio for room: \", n), yield n.startAudio();\n  });\n  return { className: $(\"start-audio-button\"), roomAudioPlaybackAllowedObservable: Zi, handleStartAudioPlayback: e };\n}\nfunction fs() {\n  const e = (n) => W(this, null, function* () {\n    _.info(\"Start Video for room: \", n), yield n.startVideo();\n  });\n  return { className: $(\"start-audio-button\"), roomVideoPlaybackAllowedObservable: eo, handleStartVideoPlayback: e };\n}\nfunction ds() {\n  return { className: [$(\"button\"), $(\"chat-toggle\")].join(\" \") };\n}\nfunction ps() {\n  return { className: [$(\"button\"), $(\"focus-toggle-button\")].join(\" \") };\n}\nfunction hs() {\n  return { className: \"lk-clear-pin-button lk-button\" };\n}\nfunction vs() {\n  return { className: \"lk-room-container\" };\n}\nfunction Dt(e, t, n = !0) {\n  const i = [e.localParticipant, ...Array.from(e.remoteParticipants.values())], o = [];\n  return i.forEach((s) => {\n    t.forEach((a) => {\n      const c = Array.from(\n        s.trackPublications.values()\n      ).filter(\n        (u) => u.source === a && // either return all or only the ones that are subscribed\n        (!n || u.track)\n      ).map((u) => ({\n        participant: s,\n        publication: u,\n        source: u.source\n      }));\n      o.push(...c);\n    });\n  }), { trackReferences: o, participants: i };\n}\nfunction Rt(e, t, n = !1) {\n  const { sources: r, kind: i, name: o } = t;\n  return Array.from(e.trackPublications.values()).filter(\n    (a) => (!r || r.includes(a.source)) && (!i || a.kind === i) && (!o || a.trackName === o) && // either return all or only the ones that are subscribed\n    (!n || a.track)\n  ).map((a) => ({\n    participant: e,\n    publication: a,\n    source: a.source\n  }));\n}\nfunction ms(e, t, n) {\n  var r, i;\n  const o = (r = n.additionalRoomEvents) != null ? r : yn, s = (i = n.onlySubscribed) != null ? i : !0, a = Array.from(\n    (/* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged,\n      ...o\n    ])).values()\n  );\n  return se(e, ...a).pipe(\n    k((u) => {\n      const l = Dt(u, t, s);\n      return _.debug(`TrackReference[] was updated. (length ${l.trackReferences.length})`, l), l;\n    }),\n    R(Dt(e, t, s))\n  );\n}\nfunction gs(e, t) {\n  return me(e, ...Ri).pipe(\n    k((r) => {\n      const i = Rt(r, t);\n      return _.debug(`TrackReference[] was updated. (length ${i.length})`, i), i;\n    }),\n    R(Rt(e, t))\n  );\n}\nfunction An(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction bs(e) {\n  return An(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TranscriptionReceived);\n}\nfunction ys(e) {\n  return An(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TimeSyncUpdate).pipe(\n    k(([t]) => t)\n  );\n}\nfunction ws(e, t = 1e3) {\n  if (e === null) return Ct(!1);\n  const n = Ze(e, \"mousemove\", { passive: !0 }).pipe(k(() => !0)), r = n.pipe(\n    ii({\n      each: t,\n      with: () => Me(Ct(!1), r.pipe(Ei(n)))\n    }),\n    yi()\n  );\n  return r;\n}\nfunction po(e, t) {\n  if (typeof localStorage > \"u\") {\n    _.error(\"Local storage is not available.\");\n    return;\n  }\n  try {\n    if (t) {\n      const n = Object.fromEntries(\n        Object.entries(t).filter(([, r]) => r !== \"\")\n      );\n      localStorage.setItem(e, JSON.stringify(n));\n    }\n  } catch (n) {\n    _.error(`Error setting item to local storage: ${n}`);\n  }\n}\nfunction ho(e) {\n  if (typeof localStorage > \"u\") {\n    _.error(\"Local storage is not available.\");\n    return;\n  }\n  try {\n    const t = localStorage.getItem(e);\n    if (!t) {\n      _.warn(`Item with key ${e} does not exist in local storage.`);\n      return;\n    }\n    return JSON.parse(t);\n  } catch (t) {\n    _.error(`Error getting item from local storage: ${t}`);\n    return;\n  }\n}\nfunction vo(e) {\n  return {\n    load: () => ho(e),\n    save: (t) => po(e, t)\n  };\n}\nvar mo = `${bn}-user-choices`, be = {\n  videoEnabled: !0,\n  audioEnabled: !0,\n  videoDeviceId: \"default\",\n  audioDeviceId: \"default\",\n  username: \"\"\n}, { load: go, save: bo } = vo(mo);\nfunction Ss(e, t = !1) {\n  t !== !0 && bo(e);\n}\nfunction xs(e, t = !1) {\n  var n, r, i, o, s;\n  const a = {\n    videoEnabled: (n = e == null ? void 0 : e.videoEnabled) != null ? n : be.videoEnabled,\n    audioEnabled: (r = e == null ? void 0 : e.audioEnabled) != null ? r : be.audioEnabled,\n    videoDeviceId: (i = e == null ? void 0 : e.videoDeviceId) != null ? i : be.videoDeviceId,\n    audioDeviceId: (o = e == null ? void 0 : e.audioDeviceId) != null ? o : be.audioDeviceId,\n    username: (s = e == null ? void 0 : e.username) != null ? s : be.username\n  };\n  if (t)\n    return a;\n  {\n    const c = go();\n    return Q(Q({}, a), c ?? {});\n  }\n}\nfunction kn(e, t) {\n  if (t.msg === \"show_chat\")\n    return { ...e, showChat: !0, unreadMessages: 0 };\n  if (t.msg === \"hide_chat\")\n    return { ...e, showChat: !1 };\n  if (t.msg === \"toggle_chat\") {\n    const n = { ...e, showChat: !e.showChat };\n    return n.showChat === !0 && (n.unreadMessages = 0), n;\n  } else return t.msg === \"unread_msg\" ? { ...e, unreadMessages: t.count } : t.msg === \"toggle_settings\" ? { ...e, showSettings: !e.showSettings } : { ...e };\n}\nfunction On(e, t) {\n  return t.msg === \"set_pin\" ? [t.trackReference] : t.msg === \"clear_pin\" ? [] : { ...e };\n}\nconst Ln = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction Es() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Ln);\n  if (!e)\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  return e;\n}\nfunction Ts(e) {\n  const t = yo();\n  if (e ?? (e = t), !e)\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  return e;\n}\nfunction Cs() {\n  const [e, t] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(On, Sn), [n, r] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(kn, xn);\n  return {\n    pin: { dispatch: t, state: e },\n    widget: { dispatch: r, state: n }\n  };\n}\nfunction Ps(e) {\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(On, Sn), [r, i] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(kn, xn);\n  return e ?? {\n    pin: { dispatch: n, state: t },\n    widget: { dispatch: i, state: r }\n  };\n}\nfunction yo() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Ln);\n}\nconst _n = react__WEBPACK_IMPORTED_MODULE_1__.createContext(\n  void 0\n);\nfunction As() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(_n);\n  if (!e)\n    throw Error(\"tried to access track context outside of track context provider\");\n  return e;\n}\nfunction In() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(_n);\n}\nfunction ks(e) {\n  const t = In(), n = e ?? t;\n  if (!n)\n    throw new Error(\n      \"No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly\"\n    );\n  return n;\n}\nconst Mn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction Os() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Mn);\n  if (!e)\n    throw Error(\"tried to access participant context outside of participant context provider\");\n  return e;\n}\nfunction wo() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Mn);\n}\nfunction Ls(e) {\n  const t = wo(), n = In(), r = e ?? t ?? (n == null ? void 0 : n.participant);\n  if (!r)\n    throw new Error(\n      \"No participant provided, make sure you are inside a participant context or pass the participant explicitly\"\n    );\n  return r;\n}\nconst Dn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction _s() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Dn);\n  if (!e)\n    throw Error(\"tried to access room context outside of livekit room component\");\n  return e;\n}\nfunction So() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Dn);\n}\nfunction Is(e) {\n  const t = So(), n = e ?? t;\n  if (!n)\n    throw new Error(\n      \"No room provided, make sure you are inside a Room context or pass the room explicitly\"\n    );\n  return n;\n}\nconst xo = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction Ms(e) {\n  const t = react__WEBPACK_IMPORTED_MODULE_1__.useContext(xo);\n  if (e === !0) {\n    if (t)\n      return t;\n    throw Error(\"tried to access feature context, but none is present\");\n  }\n  return t;\n}\n\n//# sourceMappingURL=contexts-B7YgC7ji.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29udGV4dHMtQjdZZ0M3amkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa007QUFDdks7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUksNEJBQTRCO0FBQ2hDLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHNIQUFzSDtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxh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LFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZ0JBQWdCO0FBQ2hCLFVBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQSw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sWUFBWTtBQUNaLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxVQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esb0JBQW9CLFdBQVcsMkJBQTJCLFVBQVU7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0JBQXNCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNCQUFzQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQWU7QUFDMUI7QUFDQSxZQUFZLDZDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZDQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQWU7QUFDMUI7QUFDQSxZQUFZLDZDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBd0ZFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2ljZS1hc3Npc3RhbnQyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMl80NzE2YzA1NzRjODM2NmQ0OTI2ZDZiY2YzMDYyZDA5Ni9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2NvbnRleHRzLUI3WWdDN2ppLm1qcz9iZmMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvb21FdmVudCBhcyBiLCBQYXJ0aWNpcGFudEV2ZW50IGFzIHksIHNldExvZ0xldmVsIGFzIE5uLCBMb2dMZXZlbCBhcyBwdCwgc2V0TG9nRXh0ZW5zaW9uIGFzICRuLCBUcmFjayBhcyBELCBSb29tIGFzIGh0LCBUcmFja0V2ZW50IGFzIE50LCBjb21wYXJlVmVyc2lvbnMgYXMgVW4gfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmltcG9ydCAqIGFzIE0gZnJvbSBcInJlYWN0XCI7XG5jb25zdCBHZSA9IE1hdGgubWluLCB1ZSA9IE1hdGgubWF4LCBrZSA9IE1hdGgucm91bmQsIHRlID0gKGUpID0+ICh7XG4gIHg6IGUsXG4gIHk6IGVcbn0pLCBGbiA9IHtcbiAgbGVmdDogXCJyaWdodFwiLFxuICByaWdodDogXCJsZWZ0XCIsXG4gIGJvdHRvbTogXCJ0b3BcIixcbiAgdG9wOiBcImJvdHRvbVwiXG59LCBqbiA9IHtcbiAgc3RhcnQ6IFwiZW5kXCIsXG4gIGVuZDogXCJzdGFydFwiXG59O1xuZnVuY3Rpb24gdnQoZSwgdCwgbikge1xuICByZXR1cm4gdWUoZSwgR2UodCwgbikpO1xufVxuZnVuY3Rpb24gTmUoZSwgdCkge1xuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSh0KSA6IGU7XG59XG5mdW5jdGlvbiBvZShlKSB7XG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVswXTtcbn1cbmZ1bmN0aW9uICRlKGUpIHtcbiAgcmV0dXJuIGUuc3BsaXQoXCItXCIpWzFdO1xufVxuZnVuY3Rpb24gJHQoZSkge1xuICByZXR1cm4gZSA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xufVxuZnVuY3Rpb24gVXQoZSkge1xuICByZXR1cm4gZSA9PT0gXCJ5XCIgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xufVxuZnVuY3Rpb24gVWUoZSkge1xuICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKG9lKGUpKSA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiBGdChlKSB7XG4gIHJldHVybiAkdChVZShlKSk7XG59XG5mdW5jdGlvbiBXbihlLCB0LCBuKSB7XG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgciA9ICRlKGUpLCBpID0gRnQoZSksIG8gPSBVdChpKTtcbiAgbGV0IHMgPSBpID09PSBcInhcIiA/IHIgPT09IChuID8gXCJlbmRcIiA6IFwic3RhcnRcIikgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiA6IHIgPT09IFwic3RhcnRcIiA/IFwiYm90dG9tXCIgOiBcInRvcFwiO1xuICByZXR1cm4gdC5yZWZlcmVuY2Vbb10gPiB0LmZsb2F0aW5nW29dICYmIChzID0gT2UocykpLCBbcywgT2UocyldO1xufVxuZnVuY3Rpb24gQm4oZSkge1xuICBjb25zdCB0ID0gT2UoZSk7XG4gIHJldHVybiBbS2UoZSksIHQsIEtlKHQpXTtcbn1cbmZ1bmN0aW9uIEtlKGUpIHtcbiAgcmV0dXJuIGUucmVwbGFjZSgvc3RhcnR8ZW5kL2csICh0KSA9PiBqblt0XSk7XG59XG5mdW5jdGlvbiBWbihlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIl0sIGkgPSBbXCJyaWdodFwiLCBcImxlZnRcIl0sIG8gPSBbXCJ0b3BcIiwgXCJib3R0b21cIl0sIHMgPSBbXCJib3R0b21cIiwgXCJ0b3BcIl07XG4gIHN3aXRjaCAoZSkge1xuICAgIGNhc2UgXCJ0b3BcIjpcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICByZXR1cm4gbiA/IHQgPyBpIDogciA6IHQgPyByIDogaTtcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgcmV0dXJuIHQgPyBvIDogcztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFtdO1xuICB9XG59XG5mdW5jdGlvbiBIbihlLCB0LCBuLCByKSB7XG4gIGNvbnN0IGkgPSAkZShlKTtcbiAgbGV0IG8gPSBWbihvZShlKSwgbiA9PT0gXCJzdGFydFwiLCByKTtcbiAgcmV0dXJuIGkgJiYgKG8gPSBvLm1hcCgocykgPT4gcyArIFwiLVwiICsgaSksIHQgJiYgKG8gPSBvLmNvbmNhdChvLm1hcChLZSkpKSksIG87XG59XG5mdW5jdGlvbiBPZShlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCAodCkgPT4gRm5bdF0pO1xufVxuZnVuY3Rpb24gem4oZSkge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICAuLi5lXG4gIH07XG59XG5mdW5jdGlvbiBZbihlKSB7XG4gIHJldHVybiB0eXBlb2YgZSAhPSBcIm51bWJlclwiID8gem4oZSkgOiB7XG4gICAgdG9wOiBlLFxuICAgIHJpZ2h0OiBlLFxuICAgIGJvdHRvbTogZSxcbiAgICBsZWZ0OiBlXG4gIH07XG59XG5mdW5jdGlvbiBMZShlKSB7XG4gIGNvbnN0IHtcbiAgICB4OiB0LFxuICAgIHk6IG4sXG4gICAgd2lkdGg6IHIsXG4gICAgaGVpZ2h0OiBpXG4gIH0gPSBlO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiByLFxuICAgIGhlaWdodDogaSxcbiAgICB0b3A6IG4sXG4gICAgbGVmdDogdCxcbiAgICByaWdodDogdCArIHIsXG4gICAgYm90dG9tOiBuICsgaSxcbiAgICB4OiB0LFxuICAgIHk6IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIG10KGUsIHQsIG4pIHtcbiAgbGV0IHtcbiAgICByZWZlcmVuY2U6IHIsXG4gICAgZmxvYXRpbmc6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IG8gPSBVZSh0KSwgcyA9IEZ0KHQpLCBhID0gVXQocyksIGMgPSBvZSh0KSwgdSA9IG8gPT09IFwieVwiLCBsID0gci54ICsgci53aWR0aCAvIDIgLSBpLndpZHRoIC8gMiwgZiA9IHIueSArIHIuaGVpZ2h0IC8gMiAtIGkuaGVpZ2h0IC8gMiwgaCA9IHJbYV0gLyAyIC0gaVthXSAvIDI7XG4gIGxldCBkO1xuICBzd2l0Y2ggKGMpIHtcbiAgICBjYXNlIFwidG9wXCI6XG4gICAgICBkID0ge1xuICAgICAgICB4OiBsLFxuICAgICAgICB5OiByLnkgLSBpLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgIGQgPSB7XG4gICAgICAgIHg6IGwsXG4gICAgICAgIHk6IHIueSArIHIuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICBkID0ge1xuICAgICAgICB4OiByLnggKyByLndpZHRoLFxuICAgICAgICB5OiBmXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIGQgPSB7XG4gICAgICAgIHg6IHIueCAtIGkud2lkdGgsXG4gICAgICAgIHk6IGZcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZCA9IHtcbiAgICAgICAgeDogci54LFxuICAgICAgICB5OiByLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoICgkZSh0KSkge1xuICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgZFtzXSAtPSBoICogKG4gJiYgdSA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICBkW3NdICs9IGggKiAobiAmJiB1ID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBkO1xufVxuY29uc3QgR24gPSBhc3luYyAoZSwgdCwgbikgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50OiByID0gXCJib3R0b21cIixcbiAgICBzdHJhdGVneTogaSA9IFwiYWJzb2x1dGVcIixcbiAgICBtaWRkbGV3YXJlOiBvID0gW10sXG4gICAgcGxhdGZvcm06IHNcbiAgfSA9IG4sIGEgPSBvLmZpbHRlcihCb29sZWFuKSwgYyA9IGF3YWl0IChzLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBzLmlzUlRMKHQpKTtcbiAgbGV0IHUgPSBhd2FpdCBzLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlOiBlLFxuICAgIGZsb2F0aW5nOiB0LFxuICAgIHN0cmF0ZWd5OiBpXG4gIH0pLCB7XG4gICAgeDogbCxcbiAgICB5OiBmXG4gIH0gPSBtdCh1LCByLCBjKSwgaCA9IHIsIGQgPSB7fSwgbSA9IDA7XG4gIGZvciAobGV0IHAgPSAwOyBwIDwgYS5sZW5ndGg7IHArKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGcsXG4gICAgICBmbjogdlxuICAgIH0gPSBhW3BdLCB7XG4gICAgICB4OiBFLFxuICAgICAgeTogUCxcbiAgICAgIGRhdGE6IEwsXG4gICAgICByZXNldDogQ1xuICAgIH0gPSBhd2FpdCB2KHtcbiAgICAgIHg6IGwsXG4gICAgICB5OiBmLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcixcbiAgICAgIHBsYWNlbWVudDogaCxcbiAgICAgIHN0cmF0ZWd5OiBpLFxuICAgICAgbWlkZGxld2FyZURhdGE6IGQsXG4gICAgICByZWN0czogdSxcbiAgICAgIHBsYXRmb3JtOiBzLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgICBmbG9hdGluZzogdFxuICAgICAgfVxuICAgIH0pO1xuICAgIGwgPSBFID8/IGwsIGYgPSBQID8/IGYsIGQgPSB7XG4gICAgICAuLi5kLFxuICAgICAgW2ddOiB7XG4gICAgICAgIC4uLmRbZ10sXG4gICAgICAgIC4uLkxcbiAgICAgIH1cbiAgICB9LCBDICYmIG0gPD0gNTAgJiYgKG0rKywgdHlwZW9mIEMgPT0gXCJvYmplY3RcIiAmJiAoQy5wbGFjZW1lbnQgJiYgKGggPSBDLnBsYWNlbWVudCksIEMucmVjdHMgJiYgKHUgPSBDLnJlY3RzID09PSAhMCA/IGF3YWl0IHMuZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgIHJlZmVyZW5jZTogZSxcbiAgICAgIGZsb2F0aW5nOiB0LFxuICAgICAgc3RyYXRlZ3k6IGlcbiAgICB9KSA6IEMucmVjdHMpLCB7XG4gICAgICB4OiBsLFxuICAgICAgeTogZlxuICAgIH0gPSBtdCh1LCBoLCBjKSksIHAgPSAtMSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiBsLFxuICAgIHk6IGYsXG4gICAgcGxhY2VtZW50OiBoLFxuICAgIHN0cmF0ZWd5OiBpLFxuICAgIG1pZGRsZXdhcmVEYXRhOiBkXG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24ganQoZSwgdCkge1xuICB2YXIgbjtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0ge30pO1xuICBjb25zdCB7XG4gICAgeDogcixcbiAgICB5OiBpLFxuICAgIHBsYXRmb3JtOiBvLFxuICAgIHJlY3RzOiBzLFxuICAgIGVsZW1lbnRzOiBhLFxuICAgIHN0cmF0ZWd5OiBjXG4gIH0gPSBlLCB7XG4gICAgYm91bmRhcnk6IHUgPSBcImNsaXBwaW5nQW5jZXN0b3JzXCIsXG4gICAgcm9vdEJvdW5kYXJ5OiBsID0gXCJ2aWV3cG9ydFwiLFxuICAgIGVsZW1lbnRDb250ZXh0OiBmID0gXCJmbG9hdGluZ1wiLFxuICAgIGFsdEJvdW5kYXJ5OiBoID0gITEsXG4gICAgcGFkZGluZzogZCA9IDBcbiAgfSA9IE5lKHQsIGUpLCBtID0gWW4oZCksIGcgPSBhW2ggPyBmID09PSBcImZsb2F0aW5nXCIgPyBcInJlZmVyZW5jZVwiIDogXCJmbG9hdGluZ1wiIDogZl0sIHYgPSBMZShhd2FpdCBvLmdldENsaXBwaW5nUmVjdCh7XG4gICAgZWxlbWVudDogKG4gPSBhd2FpdCAoby5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaXNFbGVtZW50KGcpKSkgPT0gbnVsbCB8fCBuID8gZyA6IGcuY29udGV4dEVsZW1lbnQgfHwgYXdhaXQgKG8uZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvLmdldERvY3VtZW50RWxlbWVudChhLmZsb2F0aW5nKSksXG4gICAgYm91bmRhcnk6IHUsXG4gICAgcm9vdEJvdW5kYXJ5OiBsLFxuICAgIHN0cmF0ZWd5OiBjXG4gIH0pKSwgRSA9IGYgPT09IFwiZmxvYXRpbmdcIiA/IHtcbiAgICAuLi5zLmZsb2F0aW5nLFxuICAgIHg6IHIsXG4gICAgeTogaVxuICB9IDogcy5yZWZlcmVuY2UsIFAgPSBhd2FpdCAoby5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IG8uZ2V0T2Zmc2V0UGFyZW50KGEuZmxvYXRpbmcpKSwgTCA9IGF3YWl0IChvLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogby5pc0VsZW1lbnQoUCkpID8gYXdhaXQgKG8uZ2V0U2NhbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG8uZ2V0U2NhbGUoUCkpIHx8IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSA6IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSwgQyA9IExlKG8uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QgPyBhd2FpdCBvLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KHtcbiAgICBlbGVtZW50czogYSxcbiAgICByZWN0OiBFLFxuICAgIG9mZnNldFBhcmVudDogUCxcbiAgICBzdHJhdGVneTogY1xuICB9KSA6IEUpO1xuICByZXR1cm4ge1xuICAgIHRvcDogKHYudG9wIC0gQy50b3AgKyBtLnRvcCkgLyBMLnksXG4gICAgYm90dG9tOiAoQy5ib3R0b20gLSB2LmJvdHRvbSArIG0uYm90dG9tKSAvIEwueSxcbiAgICBsZWZ0OiAodi5sZWZ0IC0gQy5sZWZ0ICsgbS5sZWZ0KSAvIEwueCxcbiAgICByaWdodDogKEMucmlnaHQgLSB2LnJpZ2h0ICsgbS5yaWdodCkgLyBMLnhcbiAgfTtcbn1cbmNvbnN0IEtuID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0ge30pLCB7XG4gICAgbmFtZTogXCJmbGlwXCIsXG4gICAgb3B0aW9uczogZSxcbiAgICBhc3luYyBmbih0KSB7XG4gICAgICB2YXIgbiwgcjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50OiBpLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YTogbyxcbiAgICAgICAgcmVjdHM6IHMsXG4gICAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IGEsXG4gICAgICAgIHBsYXRmb3JtOiBjLFxuICAgICAgICBlbGVtZW50czogdVxuICAgICAgfSA9IHQsIHtcbiAgICAgICAgbWFpbkF4aXM6IGwgPSAhMCxcbiAgICAgICAgY3Jvc3NBeGlzOiBmID0gITAsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogaCxcbiAgICAgICAgZmFsbGJhY2tTdHJhdGVneTogZCA9IFwiYmVzdEZpdFwiLFxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uOiBtID0gXCJub25lXCIsXG4gICAgICAgIGZsaXBBbGlnbm1lbnQ6IHAgPSAhMCxcbiAgICAgICAgLi4uZ1xuICAgICAgfSA9IE5lKGUsIHQpO1xuICAgICAgaWYgKChuID0gby5hcnJvdykgIT0gbnVsbCAmJiBuLmFsaWdubWVudE9mZnNldClcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgY29uc3QgdiA9IG9lKGkpLCBFID0gb2UoYSkgPT09IGEsIFAgPSBhd2FpdCAoYy5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogYy5pc1JUTCh1LmZsb2F0aW5nKSksIEwgPSBoIHx8IChFIHx8ICFwID8gW09lKGEpXSA6IEJuKGEpKTtcbiAgICAgICFoICYmIG0gIT09IFwibm9uZVwiICYmIEwucHVzaCguLi5IbihhLCBwLCBtLCBQKSk7XG4gICAgICBjb25zdCBDID0gW2EsIC4uLkxdLCBpZSA9IGF3YWl0IGp0KHQsIGcpLCBLID0gW107XG4gICAgICBsZXQgVCA9ICgociA9IG8uZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IHIub3ZlcmZsb3dzKSB8fCBbXTtcbiAgICAgIGlmIChsICYmIEsucHVzaChpZVt2XSksIGYpIHtcbiAgICAgICAgY29uc3QgUyA9IFduKGksIHMsIFApO1xuICAgICAgICBLLnB1c2goaWVbU1swXV0sIGllW1NbMV1dKTtcbiAgICAgIH1cbiAgICAgIGlmIChUID0gWy4uLlQsIHtcbiAgICAgICAgcGxhY2VtZW50OiBpLFxuICAgICAgICBvdmVyZmxvd3M6IEtcbiAgICAgIH1dLCAhSy5ldmVyeSgoUykgPT4gUyA8PSAwKSkge1xuICAgICAgICB2YXIgeCwgSTtcbiAgICAgICAgY29uc3QgUyA9ICgoKHggPSBvLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiB4LmluZGV4KSB8fCAwKSArIDEsIFYgPSBDW1NdO1xuICAgICAgICBpZiAoVilcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpbmRleDogUyxcbiAgICAgICAgICAgICAgb3ZlcmZsb3dzOiBUXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBWXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgbGV0IFggPSAoSSA9IFQuZmlsdGVyKChaKSA9PiBaLm92ZXJmbG93c1swXSA8PSAwKS5zb3J0KChaLCBjZSkgPT4gWi5vdmVyZmxvd3NbMV0gLSBjZS5vdmVyZmxvd3NbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogSS5wbGFjZW1lbnQ7XG4gICAgICAgIGlmICghWClcbiAgICAgICAgICBzd2l0Y2ggKGQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJiZXN0Rml0XCI6IHtcbiAgICAgICAgICAgICAgdmFyIHc7XG4gICAgICAgICAgICAgIGNvbnN0IFogPSAodyA9IFQubWFwKChjZSkgPT4gW2NlLnBsYWNlbWVudCwgY2Uub3ZlcmZsb3dzLmZpbHRlcigoZ2UpID0+IGdlID4gMCkucmVkdWNlKChnZSwgUm4pID0+IGdlICsgUm4sIDApXSkuc29ydCgoY2UsIGdlKSA9PiBjZVsxXSAtIGdlWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IHdbMF07XG4gICAgICAgICAgICAgIFogJiYgKFggPSBaKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW5pdGlhbFBsYWNlbWVudFwiOlxuICAgICAgICAgICAgICBYID0gYTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBpZiAoaSAhPT0gWClcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBYXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24gUW4oZSwgdCkge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50OiBuLFxuICAgIHBsYXRmb3JtOiByLFxuICAgIGVsZW1lbnRzOiBpXG4gIH0gPSBlLCBvID0gYXdhaXQgKHIuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHIuaXNSVEwoaS5mbG9hdGluZykpLCBzID0gb2UobiksIGEgPSAkZShuKSwgYyA9IFVlKG4pID09PSBcInlcIiwgdSA9IFtcImxlZnRcIiwgXCJ0b3BcIl0uaW5jbHVkZXMocykgPyAtMSA6IDEsIGwgPSBvICYmIGMgPyAtMSA6IDEsIGYgPSBOZSh0LCBlKTtcbiAgbGV0IHtcbiAgICBtYWluQXhpczogaCxcbiAgICBjcm9zc0F4aXM6IGQsXG4gICAgYWxpZ25tZW50QXhpczogbVxuICB9ID0gdHlwZW9mIGYgPT0gXCJudW1iZXJcIiA/IHtcbiAgICBtYWluQXhpczogZixcbiAgICBjcm9zc0F4aXM6IDAsXG4gICAgYWxpZ25tZW50QXhpczogbnVsbFxuICB9IDoge1xuICAgIG1haW5BeGlzOiAwLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsLFxuICAgIC4uLmZcbiAgfTtcbiAgcmV0dXJuIGEgJiYgdHlwZW9mIG0gPT0gXCJudW1iZXJcIiAmJiAoZCA9IGEgPT09IFwiZW5kXCIgPyBtICogLTEgOiBtKSwgYyA/IHtcbiAgICB4OiBkICogbCxcbiAgICB5OiBoICogdVxuICB9IDoge1xuICAgIHg6IGggKiB1LFxuICAgIHk6IGQgKiBsXG4gIH07XG59XG5jb25zdCBKbiA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCB7XG4gICAgbmFtZTogXCJvZmZzZXRcIixcbiAgICBvcHRpb25zOiBlLFxuICAgIGFzeW5jIGZuKHQpIHtcbiAgICAgIHZhciBuLCByO1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiBpLFxuICAgICAgICB5OiBvLFxuICAgICAgICBwbGFjZW1lbnQ6IHMsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhOiBhXG4gICAgICB9ID0gdCwgYyA9IGF3YWl0IFFuKHQsIGUpO1xuICAgICAgcmV0dXJuIHMgPT09ICgobiA9IGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogbi5wbGFjZW1lbnQpICYmIChyID0gYS5hcnJvdykgIT0gbnVsbCAmJiByLmFsaWdubWVudE9mZnNldCA/IHt9IDoge1xuICAgICAgICB4OiBpICsgYy54LFxuICAgICAgICB5OiBvICsgYy55LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4uYyxcbiAgICAgICAgICBwbGFjZW1lbnQ6IHNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59LCBxbiA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IHt9KSwge1xuICAgIG5hbWU6IFwic2hpZnRcIixcbiAgICBvcHRpb25zOiBlLFxuICAgIGFzeW5jIGZuKHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeDogbixcbiAgICAgICAgeTogcixcbiAgICAgICAgcGxhY2VtZW50OiBpXG4gICAgICB9ID0gdCwge1xuICAgICAgICBtYWluQXhpczogbyA9ICEwLFxuICAgICAgICBjcm9zc0F4aXM6IHMgPSAhMSxcbiAgICAgICAgbGltaXRlcjogYSA9IHtcbiAgICAgICAgICBmbjogKGcpID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIHg6IHYsXG4gICAgICAgICAgICAgIHk6IEVcbiAgICAgICAgICAgIH0gPSBnO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgeDogdixcbiAgICAgICAgICAgICAgeTogRVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmNcbiAgICAgIH0gPSBOZShlLCB0KSwgdSA9IHtcbiAgICAgICAgeDogbixcbiAgICAgICAgeTogclxuICAgICAgfSwgbCA9IGF3YWl0IGp0KHQsIGMpLCBmID0gVWUob2UoaSkpLCBoID0gJHQoZik7XG4gICAgICBsZXQgZCA9IHVbaF0sIG0gPSB1W2ZdO1xuICAgICAgaWYgKG8pIHtcbiAgICAgICAgY29uc3QgZyA9IGggPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiLCB2ID0gaCA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCBFID0gZCArIGxbZ10sIFAgPSBkIC0gbFt2XTtcbiAgICAgICAgZCA9IHZ0KEUsIGQsIFApO1xuICAgICAgfVxuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgZyA9IGYgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiLCB2ID0gZiA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCBFID0gbSArIGxbZ10sIFAgPSBtIC0gbFt2XTtcbiAgICAgICAgbSA9IHZ0KEUsIG0sIFApO1xuICAgICAgfVxuICAgICAgY29uc3QgcCA9IGEuZm4oe1xuICAgICAgICAuLi50LFxuICAgICAgICBbaF06IGQsXG4gICAgICAgIFtmXTogbVxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgeDogcC54IC0gbixcbiAgICAgICAgICB5OiBwLnkgLSByXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIEZlKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiO1xufVxuZnVuY3Rpb24gdmUoZSkge1xuICByZXR1cm4gV3QoZSkgPyAoZS5ub2RlTmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIDogXCIjZG9jdW1lbnRcIjtcbn1cbmZ1bmN0aW9uIFUoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuIChlID09IG51bGwgfHwgKHQgPSBlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiB0LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG59XG5mdW5jdGlvbiBKKGUpIHtcbiAgdmFyIHQ7XG4gIHJldHVybiAodCA9IChXdChlKSA/IGUub3duZXJEb2N1bWVudCA6IGUuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZG9jdW1lbnRFbGVtZW50O1xufVxuZnVuY3Rpb24gV3QoZSkge1xuICByZXR1cm4gRmUoKSA/IGUgaW5zdGFuY2VvZiBOb2RlIHx8IGUgaW5zdGFuY2VvZiBVKGUpLk5vZGUgOiAhMTtcbn1cbmZ1bmN0aW9uIEgoZSkge1xuICByZXR1cm4gRmUoKSA/IGUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiBVKGUpLkVsZW1lbnQgOiAhMTtcbn1cbmZ1bmN0aW9uIEcoZSkge1xuICByZXR1cm4gRmUoKSA/IGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBlIGluc3RhbmNlb2YgVShlKS5IVE1MRWxlbWVudCA6ICExO1xufVxuZnVuY3Rpb24gZ3QoZSkge1xuICByZXR1cm4gIUZlKCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPiBcInVcIiA/ICExIDogZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgZSBpbnN0YW5jZW9mIFUoZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIEVlKGUpIHtcbiAgY29uc3Qge1xuICAgIG92ZXJmbG93OiB0LFxuICAgIG92ZXJmbG93WDogbixcbiAgICBvdmVyZmxvd1k6IHIsXG4gICAgZGlzcGxheTogaVxuICB9ID0geihlKTtcbiAgcmV0dXJuIC9hdXRvfHNjcm9sbHxvdmVybGF5fGhpZGRlbnxjbGlwLy50ZXN0KHQgKyByICsgbikgJiYgIVtcImlubGluZVwiLCBcImNvbnRlbnRzXCJdLmluY2x1ZGVzKGkpO1xufVxuZnVuY3Rpb24gWG4oZSkge1xuICByZXR1cm4gW1widGFibGVcIiwgXCJ0ZFwiLCBcInRoXCJdLmluY2x1ZGVzKHZlKGUpKTtcbn1cbmZ1bmN0aW9uIGplKGUpIHtcbiAgcmV0dXJuIFtcIjpwb3BvdmVyLW9wZW5cIiwgXCI6bW9kYWxcIl0uc29tZSgodCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZS5tYXRjaGVzKHQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBydChlKSB7XG4gIGNvbnN0IHQgPSBpdCgpLCBuID0gSChlKSA/IHooZSkgOiBlO1xuICByZXR1cm4gbi50cmFuc2Zvcm0gIT09IFwibm9uZVwiIHx8IG4ucGVyc3BlY3RpdmUgIT09IFwibm9uZVwiIHx8IChuLmNvbnRhaW5lclR5cGUgPyBuLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiAhMSkgfHwgIXQgJiYgKG4uYmFja2Ryb3BGaWx0ZXIgPyBuLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCAhdCAmJiAobi5maWx0ZXIgPyBuLmZpbHRlciAhPT0gXCJub25lXCIgOiAhMSkgfHwgW1widHJhbnNmb3JtXCIsIFwicGVyc3BlY3RpdmVcIiwgXCJmaWx0ZXJcIl0uc29tZSgocikgPT4gKG4ud2lsbENoYW5nZSB8fCBcIlwiKS5pbmNsdWRlcyhyKSkgfHwgW1wicGFpbnRcIiwgXCJsYXlvdXRcIiwgXCJzdHJpY3RcIiwgXCJjb250ZW50XCJdLnNvbWUoKHIpID0+IChuLmNvbnRhaW4gfHwgXCJcIikuaW5jbHVkZXMocikpO1xufVxuZnVuY3Rpb24gWm4oZSkge1xuICBsZXQgdCA9IG5lKGUpO1xuICBmb3IgKDsgRyh0KSAmJiAhZGUodCk7ICkge1xuICAgIGlmIChydCh0KSlcbiAgICAgIHJldHVybiB0O1xuICAgIGlmIChqZSh0KSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHQgPSBuZSh0KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGl0KCkge1xuICByZXR1cm4gdHlwZW9mIENTUyA+IFwidVwiIHx8ICFDU1Muc3VwcG9ydHMgPyAhMSA6IENTUy5zdXBwb3J0cyhcIi13ZWJraXQtYmFja2Ryb3AtZmlsdGVyXCIsIFwibm9uZVwiKTtcbn1cbmZ1bmN0aW9uIGRlKGUpIHtcbiAgcmV0dXJuIFtcImh0bWxcIiwgXCJib2R5XCIsIFwiI2RvY3VtZW50XCJdLmluY2x1ZGVzKHZlKGUpKTtcbn1cbmZ1bmN0aW9uIHooZSkge1xuICByZXR1cm4gVShlKS5nZXRDb21wdXRlZFN0eWxlKGUpO1xufVxuZnVuY3Rpb24gV2UoZSkge1xuICByZXR1cm4gSChlKSA/IHtcbiAgICBzY3JvbGxMZWZ0OiBlLnNjcm9sbExlZnQsXG4gICAgc2Nyb2xsVG9wOiBlLnNjcm9sbFRvcFxuICB9IDoge1xuICAgIHNjcm9sbExlZnQ6IGUuc2Nyb2xsWCxcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsWVxuICB9O1xufVxuZnVuY3Rpb24gbmUoZSkge1xuICBpZiAodmUoZSkgPT09IFwiaHRtbFwiKVxuICAgIHJldHVybiBlO1xuICBjb25zdCB0ID0gKFxuICAgIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICAgIGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgIGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICAgIGd0KGUpICYmIGUuaG9zdCB8fCAvLyBGYWxsYmFjay5cbiAgICBKKGUpXG4gICk7XG4gIHJldHVybiBndCh0KSA/IHQuaG9zdCA6IHQ7XG59XG5mdW5jdGlvbiBCdChlKSB7XG4gIGNvbnN0IHQgPSBuZShlKTtcbiAgcmV0dXJuIGRlKHQpID8gZS5vd25lckRvY3VtZW50ID8gZS5vd25lckRvY3VtZW50LmJvZHkgOiBlLmJvZHkgOiBHKHQpICYmIEVlKHQpID8gdCA6IEJ0KHQpO1xufVxuZnVuY3Rpb24gVnQoZSwgdCwgbikge1xuICB2YXIgcjtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gW10pO1xuICBjb25zdCBpID0gQnQoZSksIG8gPSBpID09PSAoKHIgPSBlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiByLmJvZHkpLCBzID0gVShpKTtcbiAgcmV0dXJuIG8gPyAoUWUocyksIHQuY29uY2F0KHMsIHMudmlzdWFsVmlld3BvcnQgfHwgW10sIEVlKGkpID8gaSA6IFtdLCBbXSkpIDogdC5jb25jYXQoaSwgVnQoaSwgW10pKTtcbn1cbmZ1bmN0aW9uIFFlKGUpIHtcbiAgcmV0dXJuIGUucGFyZW50ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnBhcmVudCkgPyBlLmZyYW1lRWxlbWVudCA6IG51bGw7XG59XG5mdW5jdGlvbiBIdChlKSB7XG4gIGNvbnN0IHQgPSB6KGUpO1xuICBsZXQgbiA9IHBhcnNlRmxvYXQodC53aWR0aCkgfHwgMCwgciA9IHBhcnNlRmxvYXQodC5oZWlnaHQpIHx8IDA7XG4gIGNvbnN0IGkgPSBHKGUpLCBvID0gaSA/IGUub2Zmc2V0V2lkdGggOiBuLCBzID0gaSA/IGUub2Zmc2V0SGVpZ2h0IDogciwgYSA9IGtlKG4pICE9PSBvIHx8IGtlKHIpICE9PSBzO1xuICByZXR1cm4gYSAmJiAobiA9IG8sIHIgPSBzKSwge1xuICAgIHdpZHRoOiBuLFxuICAgIGhlaWdodDogcixcbiAgICAkOiBhXG4gIH07XG59XG5mdW5jdGlvbiB6dChlKSB7XG4gIHJldHVybiBIKGUpID8gZSA6IGUuY29udGV4dEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBsZShlKSB7XG4gIGNvbnN0IHQgPSB6dChlKTtcbiAgaWYgKCFHKHQpKVxuICAgIHJldHVybiB0ZSgxKTtcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IGksXG4gICAgJDogb1xuICB9ID0gSHQodCk7XG4gIGxldCBzID0gKG8gPyBrZShuLndpZHRoKSA6IG4ud2lkdGgpIC8gciwgYSA9IChvID8ga2Uobi5oZWlnaHQpIDogbi5oZWlnaHQpIC8gaTtcbiAgcmV0dXJuICghcyB8fCAhTnVtYmVyLmlzRmluaXRlKHMpKSAmJiAocyA9IDEpLCAoIWEgfHwgIU51bWJlci5pc0Zpbml0ZShhKSkgJiYgKGEgPSAxKSwge1xuICAgIHg6IHMsXG4gICAgeTogYVxuICB9O1xufVxuY29uc3QgZXIgPSAvKiBAX19QVVJFX18gKi8gdGUoMCk7XG5mdW5jdGlvbiBZdChlKSB7XG4gIGNvbnN0IHQgPSBVKGUpO1xuICByZXR1cm4gIWl0KCkgfHwgIXQudmlzdWFsVmlld3BvcnQgPyBlciA6IHtcbiAgICB4OiB0LnZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQsXG4gICAgeTogdC52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyKGUsIHQsIG4pIHtcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9ICExKSwgIW4gfHwgdCAmJiBuICE9PSBVKGUpID8gITEgOiB0O1xufVxuZnVuY3Rpb24gd2UoZSwgdCwgbiwgcikge1xuICB0ID09PSB2b2lkIDAgJiYgKHQgPSAhMSksIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgaSA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSB6dChlKTtcbiAgbGV0IHMgPSB0ZSgxKTtcbiAgdCAmJiAociA/IEgocikgJiYgKHMgPSBsZShyKSkgOiBzID0gbGUoZSkpO1xuICBjb25zdCBhID0gdHIobywgbiwgcikgPyBZdChvKSA6IHRlKDApO1xuICBsZXQgYyA9IChpLmxlZnQgKyBhLngpIC8gcy54LCB1ID0gKGkudG9wICsgYS55KSAvIHMueSwgbCA9IGkud2lkdGggLyBzLngsIGYgPSBpLmhlaWdodCAvIHMueTtcbiAgaWYgKG8pIHtcbiAgICBjb25zdCBoID0gVShvKSwgZCA9IHIgJiYgSChyKSA/IFUocikgOiByO1xuICAgIGxldCBtID0gaCwgcCA9IFFlKG0pO1xuICAgIGZvciAoOyBwICYmIHIgJiYgZCAhPT0gbTsgKSB7XG4gICAgICBjb25zdCBnID0gbGUocCksIHYgPSBwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBFID0geihwKSwgUCA9IHYubGVmdCArIChwLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KEUucGFkZGluZ0xlZnQpKSAqIGcueCwgTCA9IHYudG9wICsgKHAuY2xpZW50VG9wICsgcGFyc2VGbG9hdChFLnBhZGRpbmdUb3ApKSAqIGcueTtcbiAgICAgIGMgKj0gZy54LCB1ICo9IGcueSwgbCAqPSBnLngsIGYgKj0gZy55LCBjICs9IFAsIHUgKz0gTCwgbSA9IFUocCksIHAgPSBRZShtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIExlKHtcbiAgICB3aWR0aDogbCxcbiAgICBoZWlnaHQ6IGYsXG4gICAgeDogYyxcbiAgICB5OiB1XG4gIH0pO1xufVxuZnVuY3Rpb24gbnIoZSkge1xuICBsZXQge1xuICAgIGVsZW1lbnRzOiB0LFxuICAgIHJlY3Q6IG4sXG4gICAgb2Zmc2V0UGFyZW50OiByLFxuICAgIHN0cmF0ZWd5OiBpXG4gIH0gPSBlO1xuICBjb25zdCBvID0gaSA9PT0gXCJmaXhlZFwiLCBzID0gSihyKSwgYSA9IHQgPyBqZSh0LmZsb2F0aW5nKSA6ICExO1xuICBpZiAociA9PT0gcyB8fCBhICYmIG8pXG4gICAgcmV0dXJuIG47XG4gIGxldCBjID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH0sIHUgPSB0ZSgxKTtcbiAgY29uc3QgbCA9IHRlKDApLCBmID0gRyhyKTtcbiAgaWYgKChmIHx8ICFmICYmICFvKSAmJiAoKHZlKHIpICE9PSBcImJvZHlcIiB8fCBFZShzKSkgJiYgKGMgPSBXZShyKSksIEcocikpKSB7XG4gICAgY29uc3QgaCA9IHdlKHIpO1xuICAgIHUgPSBsZShyKSwgbC54ID0gaC54ICsgci5jbGllbnRMZWZ0LCBsLnkgPSBoLnkgKyByLmNsaWVudFRvcDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoOiBuLndpZHRoICogdS54LFxuICAgIGhlaWdodDogbi5oZWlnaHQgKiB1LnksXG4gICAgeDogbi54ICogdS54IC0gYy5zY3JvbGxMZWZ0ICogdS54ICsgbC54LFxuICAgIHk6IG4ueSAqIHUueSAtIGMuc2Nyb2xsVG9wICogdS55ICsgbC55XG4gIH07XG59XG5mdW5jdGlvbiBycihlKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGUuZ2V0Q2xpZW50UmVjdHMoKSk7XG59XG5mdW5jdGlvbiBKZShlLCB0KSB7XG4gIGNvbnN0IG4gPSBXZShlKS5zY3JvbGxMZWZ0O1xuICByZXR1cm4gdCA/IHQubGVmdCArIG4gOiB3ZShKKGUpKS5sZWZ0ICsgbjtcbn1cbmZ1bmN0aW9uIGlyKGUpIHtcbiAgY29uc3QgdCA9IEooZSksIG4gPSBXZShlKSwgciA9IGUub3duZXJEb2N1bWVudC5ib2R5LCBpID0gdWUodC5zY3JvbGxXaWR0aCwgdC5jbGllbnRXaWR0aCwgci5zY3JvbGxXaWR0aCwgci5jbGllbnRXaWR0aCksIG8gPSB1ZSh0LnNjcm9sbEhlaWdodCwgdC5jbGllbnRIZWlnaHQsIHIuc2Nyb2xsSGVpZ2h0LCByLmNsaWVudEhlaWdodCk7XG4gIGxldCBzID0gLW4uc2Nyb2xsTGVmdCArIEplKGUpO1xuICBjb25zdCBhID0gLW4uc2Nyb2xsVG9wO1xuICByZXR1cm4geihyKS5kaXJlY3Rpb24gPT09IFwicnRsXCIgJiYgKHMgKz0gdWUodC5jbGllbnRXaWR0aCwgci5jbGllbnRXaWR0aCkgLSBpKSwge1xuICAgIHdpZHRoOiBpLFxuICAgIGhlaWdodDogbyxcbiAgICB4OiBzLFxuICAgIHk6IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIG9yKGUsIHQpIHtcbiAgY29uc3QgbiA9IFUoZSksIHIgPSBKKGUpLCBpID0gbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IG8gPSByLmNsaWVudFdpZHRoLCBzID0gci5jbGllbnRIZWlnaHQsIGEgPSAwLCBjID0gMDtcbiAgaWYgKGkpIHtcbiAgICBvID0gaS53aWR0aCwgcyA9IGkuaGVpZ2h0O1xuICAgIGNvbnN0IHUgPSBpdCgpO1xuICAgICghdSB8fCB1ICYmIHQgPT09IFwiZml4ZWRcIikgJiYgKGEgPSBpLm9mZnNldExlZnQsIGMgPSBpLm9mZnNldFRvcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogbyxcbiAgICBoZWlnaHQ6IHMsXG4gICAgeDogYSxcbiAgICB5OiBjXG4gIH07XG59XG5mdW5jdGlvbiBzcihlLCB0KSB7XG4gIGNvbnN0IG4gPSB3ZShlLCAhMCwgdCA9PT0gXCJmaXhlZFwiKSwgciA9IG4udG9wICsgZS5jbGllbnRUb3AsIGkgPSBuLmxlZnQgKyBlLmNsaWVudExlZnQsIG8gPSBHKGUpID8gbGUoZSkgOiB0ZSgxKSwgcyA9IGUuY2xpZW50V2lkdGggKiBvLngsIGEgPSBlLmNsaWVudEhlaWdodCAqIG8ueSwgYyA9IGkgKiBvLngsIHUgPSByICogby55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBzLFxuICAgIGhlaWdodDogYSxcbiAgICB4OiBjLFxuICAgIHk6IHVcbiAgfTtcbn1cbmZ1bmN0aW9uIGJ0KGUsIHQsIG4pIHtcbiAgbGV0IHI7XG4gIGlmICh0ID09PSBcInZpZXdwb3J0XCIpXG4gICAgciA9IG9yKGUsIG4pO1xuICBlbHNlIGlmICh0ID09PSBcImRvY3VtZW50XCIpXG4gICAgciA9IGlyKEooZSkpO1xuICBlbHNlIGlmIChIKHQpKVxuICAgIHIgPSBzcih0LCBuKTtcbiAgZWxzZSB7XG4gICAgY29uc3QgaSA9IFl0KGUpO1xuICAgIHIgPSB7XG4gICAgICAuLi50LFxuICAgICAgeDogdC54IC0gaS54LFxuICAgICAgeTogdC55IC0gaS55XG4gICAgfTtcbiAgfVxuICByZXR1cm4gTGUocik7XG59XG5mdW5jdGlvbiBHdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBuZShlKTtcbiAgcmV0dXJuIG4gPT09IHQgfHwgIUgobikgfHwgZGUobikgPyAhMSA6IHoobikucG9zaXRpb24gPT09IFwiZml4ZWRcIiB8fCBHdChuLCB0KTtcbn1cbmZ1bmN0aW9uIGFyKGUsIHQpIHtcbiAgY29uc3QgbiA9IHQuZ2V0KGUpO1xuICBpZiAobilcbiAgICByZXR1cm4gbjtcbiAgbGV0IHIgPSBWdChlLCBbXSkuZmlsdGVyKChhKSA9PiBIKGEpICYmIHZlKGEpICE9PSBcImJvZHlcIiksIGkgPSBudWxsO1xuICBjb25zdCBvID0geihlKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiO1xuICBsZXQgcyA9IG8gPyBuZShlKSA6IGU7XG4gIGZvciAoOyBIKHMpICYmICFkZShzKTsgKSB7XG4gICAgY29uc3QgYSA9IHoocyksIGMgPSBydChzKTtcbiAgICAhYyAmJiBhLnBvc2l0aW9uID09PSBcImZpeGVkXCIgJiYgKGkgPSBudWxsKSwgKG8gPyAhYyAmJiAhaSA6ICFjICYmIGEucG9zaXRpb24gPT09IFwic3RhdGljXCIgJiYgISFpICYmIFtcImFic29sdXRlXCIsIFwiZml4ZWRcIl0uaW5jbHVkZXMoaS5wb3NpdGlvbikgfHwgRWUocykgJiYgIWMgJiYgR3QoZSwgcykpID8gciA9IHIuZmlsdGVyKChsKSA9PiBsICE9PSBzKSA6IGkgPSBhLCBzID0gbmUocyk7XG4gIH1cbiAgcmV0dXJuIHQuc2V0KGUsIHIpLCByO1xufVxuZnVuY3Rpb24gY3IoZSkge1xuICBsZXQge1xuICAgIGVsZW1lbnQ6IHQsXG4gICAgYm91bmRhcnk6IG4sXG4gICAgcm9vdEJvdW5kYXJ5OiByLFxuICAgIHN0cmF0ZWd5OiBpXG4gIH0gPSBlO1xuICBjb25zdCBzID0gWy4uLm4gPT09IFwiY2xpcHBpbmdBbmNlc3RvcnNcIiA/IGplKHQpID8gW10gOiBhcih0LCB0aGlzLl9jKSA6IFtdLmNvbmNhdChuKSwgcl0sIGEgPSBzWzBdLCBjID0gcy5yZWR1Y2UoKHUsIGwpID0+IHtcbiAgICBjb25zdCBmID0gYnQodCwgbCwgaSk7XG4gICAgcmV0dXJuIHUudG9wID0gdWUoZi50b3AsIHUudG9wKSwgdS5yaWdodCA9IEdlKGYucmlnaHQsIHUucmlnaHQpLCB1LmJvdHRvbSA9IEdlKGYuYm90dG9tLCB1LmJvdHRvbSksIHUubGVmdCA9IHVlKGYubGVmdCwgdS5sZWZ0KSwgdTtcbiAgfSwgYnQodCwgYSwgaSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBjLnJpZ2h0IC0gYy5sZWZ0LFxuICAgIGhlaWdodDogYy5ib3R0b20gLSBjLnRvcCxcbiAgICB4OiBjLmxlZnQsXG4gICAgeTogYy50b3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHVyKGUpIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoOiB0LFxuICAgIGhlaWdodDogblxuICB9ID0gSHQoZSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHQsXG4gICAgaGVpZ2h0OiBuXG4gIH07XG59XG5mdW5jdGlvbiBscihlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBHKHQpLCBpID0gSih0KSwgbyA9IG4gPT09IFwiZml4ZWRcIiwgcyA9IHdlKGUsICEwLCBvLCB0KTtcbiAgbGV0IGEgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgYyA9IHRlKDApO1xuICBpZiAociB8fCAhciAmJiAhbylcbiAgICBpZiAoKHZlKHQpICE9PSBcImJvZHlcIiB8fCBFZShpKSkgJiYgKGEgPSBXZSh0KSksIHIpIHtcbiAgICAgIGNvbnN0IGQgPSB3ZSh0LCAhMCwgbywgdCk7XG4gICAgICBjLnggPSBkLnggKyB0LmNsaWVudExlZnQsIGMueSA9IGQueSArIHQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpICYmIChjLnggPSBKZShpKSk7XG4gIGxldCB1ID0gMCwgbCA9IDA7XG4gIGlmIChpICYmICFyICYmICFvKSB7XG4gICAgY29uc3QgZCA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbCA9IGQudG9wICsgYS5zY3JvbGxUb3AsIHUgPSBkLmxlZnQgKyBhLnNjcm9sbExlZnQgLSAvLyBSVEwgPGJvZHk+IHNjcm9sbGJhci5cbiAgICBKZShpLCBkKTtcbiAgfVxuICBjb25zdCBmID0gcy5sZWZ0ICsgYS5zY3JvbGxMZWZ0IC0gYy54IC0gdSwgaCA9IHMudG9wICsgYS5zY3JvbGxUb3AgLSBjLnkgLSBsO1xuICByZXR1cm4ge1xuICAgIHg6IGYsXG4gICAgeTogaCxcbiAgICB3aWR0aDogcy53aWR0aCxcbiAgICBoZWlnaHQ6IHMuaGVpZ2h0XG4gIH07XG59XG5mdW5jdGlvbiBIZShlKSB7XG4gIHJldHVybiB6KGUpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xufVxuZnVuY3Rpb24geXQoZSwgdCkge1xuICBpZiAoIUcoZSkgfHwgeihlKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAodClcbiAgICByZXR1cm4gdChlKTtcbiAgbGV0IG4gPSBlLm9mZnNldFBhcmVudDtcbiAgcmV0dXJuIEooZSkgPT09IG4gJiYgKG4gPSBuLm93bmVyRG9jdW1lbnQuYm9keSksIG47XG59XG5mdW5jdGlvbiBLdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBVKGUpO1xuICBpZiAoamUoZSkpXG4gICAgcmV0dXJuIG47XG4gIGlmICghRyhlKSkge1xuICAgIGxldCBpID0gbmUoZSk7XG4gICAgZm9yICg7IGkgJiYgIWRlKGkpOyApIHtcbiAgICAgIGlmIChIKGkpICYmICFIZShpKSlcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBpID0gbmUoaSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9XG4gIGxldCByID0geXQoZSwgdCk7XG4gIGZvciAoOyByICYmIFhuKHIpICYmIEhlKHIpOyApXG4gICAgciA9IHl0KHIsIHQpO1xuICByZXR1cm4gciAmJiBkZShyKSAmJiBIZShyKSAmJiAhcnQocikgPyBuIDogciB8fCBabihlKSB8fCBuO1xufVxuY29uc3QgZnIgPSBhc3luYyBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCBLdCwgbiA9IHRoaXMuZ2V0RGltZW5zaW9ucywgciA9IGF3YWl0IG4oZS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBscihlLnJlZmVyZW5jZSwgYXdhaXQgdChlLmZsb2F0aW5nKSwgZS5zdHJhdGVneSksXG4gICAgZmxvYXRpbmc6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IHIud2lkdGgsXG4gICAgICBoZWlnaHQ6IHIuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIGRyKGUpIHtcbiAgcmV0dXJuIHooZSkuZGlyZWN0aW9uID09PSBcInJ0bFwiO1xufVxuY29uc3QgcHIgPSB7XG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0OiBucixcbiAgZ2V0RG9jdW1lbnRFbGVtZW50OiBKLFxuICBnZXRDbGlwcGluZ1JlY3Q6IGNyLFxuICBnZXRPZmZzZXRQYXJlbnQ6IEt0LFxuICBnZXRFbGVtZW50UmVjdHM6IGZyLFxuICBnZXRDbGllbnRSZWN0czogcnIsXG4gIGdldERpbWVuc2lvbnM6IHVyLFxuICBnZXRTY2FsZTogbGUsXG4gIGlzRWxlbWVudDogSCxcbiAgaXNSVEw6IGRyXG59LCBociA9IEpuLCB2ciA9IHFuLCBtciA9IEtuLCBnciA9IChlLCB0LCBuKSA9PiB7XG4gIGNvbnN0IHIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBpID0ge1xuICAgIHBsYXRmb3JtOiBwcixcbiAgICAuLi5uXG4gIH0sIG8gPSB7XG4gICAgLi4uaS5wbGF0Zm9ybSxcbiAgICBfYzogclxuICB9O1xuICByZXR1cm4gR24oZSwgdCwge1xuICAgIC4uLmksXG4gICAgcGxhdGZvcm06IG9cbiAgfSk7XG59O1xudmFyIGJyID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9O1xuZnVuY3Rpb24geXIoZSkge1xuICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIFwiZGVmYXVsdFwiKSA/IGUuZGVmYXVsdCA6IGU7XG59XG52YXIgUXQgPSB7IGV4cG9ydHM6IHt9IH07XG4oZnVuY3Rpb24oZSkge1xuICAoZnVuY3Rpb24odCwgbikge1xuICAgIGUuZXhwb3J0cyA/IGUuZXhwb3J0cyA9IG4oKSA6IHQubG9nID0gbigpO1xuICB9KShiciwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSBmdW5jdGlvbigpIHtcbiAgICB9LCBuID0gXCJ1bmRlZmluZWRcIiwgciA9IHR5cGVvZiB3aW5kb3cgIT09IG4gJiYgdHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3IgIT09IG4gJiYgL1RyaWRlbnRcXC98TVNJRSAvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLCBpID0gW1xuICAgICAgXCJ0cmFjZVwiLFxuICAgICAgXCJkZWJ1Z1wiLFxuICAgICAgXCJpbmZvXCIsXG4gICAgICBcIndhcm5cIixcbiAgICAgIFwiZXJyb3JcIlxuICAgIF0sIG8gPSB7fSwgcyA9IG51bGw7XG4gICAgZnVuY3Rpb24gYShwLCBnKSB7XG4gICAgICB2YXIgdiA9IHBbZ107XG4gICAgICBpZiAodHlwZW9mIHYuYmluZCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiB2LmJpbmQocCk7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh2LCBwKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseSh2LCBbcCwgYXJndW1lbnRzXSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoKSB7XG4gICAgICBjb25zb2xlLmxvZyAmJiAoY29uc29sZS5sb2cuYXBwbHkgPyBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpIDogRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KGNvbnNvbGUubG9nLCBbY29uc29sZSwgYXJndW1lbnRzXSkpLCBjb25zb2xlLnRyYWNlICYmIGNvbnNvbGUudHJhY2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdShwKSB7XG4gICAgICByZXR1cm4gcCA9PT0gXCJkZWJ1Z1wiICYmIChwID0gXCJsb2dcIiksIHR5cGVvZiBjb25zb2xlID09PSBuID8gITEgOiBwID09PSBcInRyYWNlXCIgJiYgciA/IGMgOiBjb25zb2xlW3BdICE9PSB2b2lkIDAgPyBhKGNvbnNvbGUsIHApIDogY29uc29sZS5sb2cgIT09IHZvaWQgMCA/IGEoY29uc29sZSwgXCJsb2dcIikgOiB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsKCkge1xuICAgICAgZm9yICh2YXIgcCA9IHRoaXMuZ2V0TGV2ZWwoKSwgZyA9IDA7IGcgPCBpLmxlbmd0aDsgZysrKSB7XG4gICAgICAgIHZhciB2ID0gaVtnXTtcbiAgICAgICAgdGhpc1t2XSA9IGcgPCBwID8gdCA6IHRoaXMubWV0aG9kRmFjdG9yeSh2LCBwLCB0aGlzLm5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubG9nID0gdGhpcy5kZWJ1ZywgdHlwZW9mIGNvbnNvbGUgPT09IG4gJiYgcCA8IHRoaXMubGV2ZWxzLlNJTEVOVClcbiAgICAgICAgcmV0dXJuIFwiTm8gY29uc29sZSBhdmFpbGFibGUgZm9yIGxvZ2dpbmdcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZihwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSBuICYmIChsLmNhbGwodGhpcyksIHRoaXNbcF0uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBoKHAsIGcsIHYpIHtcbiAgICAgIHJldHVybiB1KHApIHx8IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZChwLCBnKSB7XG4gICAgICB2YXIgdiA9IHRoaXMsIEUsIFAsIEwsIEMgPSBcImxvZ2xldmVsXCI7XG4gICAgICB0eXBlb2YgcCA9PSBcInN0cmluZ1wiID8gQyArPSBcIjpcIiArIHAgOiB0eXBlb2YgcCA9PSBcInN5bWJvbFwiICYmIChDID0gdm9pZCAwKTtcbiAgICAgIGZ1bmN0aW9uIGllKHcpIHtcbiAgICAgICAgdmFyIFMgPSAoaVt3XSB8fCBcInNpbGVudFwiKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSBuIHx8ICFDKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW0NdID0gUztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoQykgKyBcIj1cIiArIFMgKyBcIjtcIjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIEsoKSB7XG4gICAgICAgIHZhciB3O1xuICAgICAgICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSBuIHx8ICFDKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3ID0gd2luZG93LmxvY2FsU3RvcmFnZVtDXTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB3ID09PSBuKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIFMgPSB3aW5kb3cuZG9jdW1lbnQuY29va2llLCBWID0gZW5jb2RlVVJJQ29tcG9uZW50KEMpLCBYID0gUy5pbmRleE9mKFYgKyBcIj1cIik7XG4gICAgICAgICAgICAgIFggIT09IC0xICYmICh3ID0gL14oW147XSspLy5leGVjKFxuICAgICAgICAgICAgICAgIFMuc2xpY2UoWCArIFYubGVuZ3RoICsgMSlcbiAgICAgICAgICAgICAgKVsxXSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdi5sZXZlbHNbd10gPT09IHZvaWQgMCAmJiAodyA9IHZvaWQgMCksIHc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIFQoKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB3aW5kb3cgPT09IG4gfHwgIUMpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQoQykgKyBcIj07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVENcIjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHgodykge1xuICAgICAgICB2YXIgUyA9IHc7XG4gICAgICAgIGlmICh0eXBlb2YgUyA9PSBcInN0cmluZ1wiICYmIHYubGV2ZWxzW1MudG9VcHBlckNhc2UoKV0gIT09IHZvaWQgMCAmJiAoUyA9IHYubGV2ZWxzW1MudG9VcHBlckNhc2UoKV0pLCB0eXBlb2YgUyA9PSBcIm51bWJlclwiICYmIFMgPj0gMCAmJiBTIDw9IHYubGV2ZWxzLlNJTEVOVClcbiAgICAgICAgICByZXR1cm4gUztcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6IFwiICsgdyk7XG4gICAgICB9XG4gICAgICB2Lm5hbWUgPSBwLCB2LmxldmVscyA9IHtcbiAgICAgICAgVFJBQ0U6IDAsXG4gICAgICAgIERFQlVHOiAxLFxuICAgICAgICBJTkZPOiAyLFxuICAgICAgICBXQVJOOiAzLFxuICAgICAgICBFUlJPUjogNCxcbiAgICAgICAgU0lMRU5UOiA1XG4gICAgICB9LCB2Lm1ldGhvZEZhY3RvcnkgPSBnIHx8IGgsIHYuZ2V0TGV2ZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEwgPz8gUCA/PyBFO1xuICAgICAgfSwgdi5zZXRMZXZlbCA9IGZ1bmN0aW9uKHcsIFMpIHtcbiAgICAgICAgcmV0dXJuIEwgPSB4KHcpLCBTICE9PSAhMSAmJiBpZShMKSwgbC5jYWxsKHYpO1xuICAgICAgfSwgdi5zZXREZWZhdWx0TGV2ZWwgPSBmdW5jdGlvbih3KSB7XG4gICAgICAgIFAgPSB4KHcpLCBLKCkgfHwgdi5zZXRMZXZlbCh3LCAhMSk7XG4gICAgICB9LCB2LnJlc2V0TGV2ZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgTCA9IG51bGwsIFQoKSwgbC5jYWxsKHYpO1xuICAgICAgfSwgdi5lbmFibGVBbGwgPSBmdW5jdGlvbih3KSB7XG4gICAgICAgIHYuc2V0TGV2ZWwodi5sZXZlbHMuVFJBQ0UsIHcpO1xuICAgICAgfSwgdi5kaXNhYmxlQWxsID0gZnVuY3Rpb24odykge1xuICAgICAgICB2LnNldExldmVsKHYubGV2ZWxzLlNJTEVOVCwgdyk7XG4gICAgICB9LCB2LnJlYnVpbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHMgIT09IHYgJiYgKEUgPSB4KHMuZ2V0TGV2ZWwoKSkpLCBsLmNhbGwodiksIHMgPT09IHYpXG4gICAgICAgICAgZm9yICh2YXIgdyBpbiBvKVxuICAgICAgICAgICAgb1t3XS5yZWJ1aWxkKCk7XG4gICAgICB9LCBFID0geChcbiAgICAgICAgcyA/IHMuZ2V0TGV2ZWwoKSA6IFwiV0FSTlwiXG4gICAgICApO1xuICAgICAgdmFyIEkgPSBLKCk7XG4gICAgICBJICE9IG51bGwgJiYgKEwgPSB4KEkpKSwgbC5jYWxsKHYpO1xuICAgIH1cbiAgICBzID0gbmV3IGQoKSwgcy5nZXRMb2dnZXIgPSBmdW5jdGlvbihnKSB7XG4gICAgICBpZiAodHlwZW9mIGcgIT0gXCJzeW1ib2xcIiAmJiB0eXBlb2YgZyAhPSBcInN0cmluZ1wiIHx8IGcgPT09IFwiXCIpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuXCIpO1xuICAgICAgdmFyIHYgPSBvW2ddO1xuICAgICAgcmV0dXJuIHYgfHwgKHYgPSBvW2ddID0gbmV3IGQoXG4gICAgICAgIGcsXG4gICAgICAgIHMubWV0aG9kRmFjdG9yeVxuICAgICAgKSksIHY7XG4gICAgfTtcbiAgICB2YXIgbSA9IHR5cGVvZiB3aW5kb3cgIT09IG4gPyB3aW5kb3cubG9nIDogdm9pZCAwO1xuICAgIHJldHVybiBzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBuICYmIHdpbmRvdy5sb2cgPT09IHMgJiYgKHdpbmRvdy5sb2cgPSBtKSwgcztcbiAgICB9LCBzLmdldExvZ2dlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvO1xuICAgIH0sIHMuZGVmYXVsdCA9IHMsIHM7XG4gIH0pO1xufSkoUXQpO1xudmFyIHdyID0gUXQuZXhwb3J0cztcbmNvbnN0IFNyID0gLyogQF9fUFVSRV9fICovIHlyKHdyKTtcbnZhciBxZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIHFlID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24obiwgcikge1xuICAgIG4uX19wcm90b19fID0gcjtcbiAgfSB8fCBmdW5jdGlvbihuLCByKSB7XG4gICAgZm9yICh2YXIgaSBpbiByKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwociwgaSkgJiYgKG5baV0gPSByW2ldKTtcbiAgfSwgcWUoZSwgdCk7XG59O1xuZnVuY3Rpb24gcShlLCB0KSB7XG4gIGlmICh0eXBlb2YgdCAhPSBcImZ1bmN0aW9uXCIgJiYgdCAhPT0gbnVsbClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyh0KSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIHFlKGUsIHQpO1xuICBmdW5jdGlvbiBuKCkge1xuICAgIHRoaXMuY29uc3RydWN0b3IgPSBlO1xuICB9XG4gIGUucHJvdG90eXBlID0gdCA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUodCkgOiAobi5wcm90b3R5cGUgPSB0LnByb3RvdHlwZSwgbmV3IG4oKSk7XG59XG5mdW5jdGlvbiB4cihlLCB0LCBuLCByKSB7XG4gIGZ1bmN0aW9uIGkobykge1xuICAgIHJldHVybiBvIGluc3RhbmNlb2YgbiA/IG8gOiBuZXcgbihmdW5jdGlvbihzKSB7XG4gICAgICBzKG8pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXcgKG4gfHwgKG4gPSBQcm9taXNlKSkoZnVuY3Rpb24obywgcykge1xuICAgIGZ1bmN0aW9uIGEobCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdShyLm5leHQobCkpO1xuICAgICAgfSBjYXRjaCAoZikge1xuICAgICAgICBzKGYpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjKGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHUoci50aHJvdyhsKSk7XG4gICAgICB9IGNhdGNoIChmKSB7XG4gICAgICAgIHMoZik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHUobCkge1xuICAgICAgbC5kb25lID8gbyhsLnZhbHVlKSA6IGkobC52YWx1ZSkudGhlbihhLCBjKTtcbiAgICB9XG4gICAgdSgociA9IHIuYXBwbHkoZSwgdCB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gSnQoZSwgdCkge1xuICB2YXIgbiA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChvWzBdICYgMSkgdGhyb3cgb1sxXTtcbiAgICByZXR1cm4gb1sxXTtcbiAgfSwgdHJ5czogW10sIG9wczogW10gfSwgciwgaSwgbywgcyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIHMubmV4dCA9IGEoMCksIHMudGhyb3cgPSBhKDEpLCBzLnJldHVybiA9IGEoMiksIHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIChzW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIHM7XG4gIGZ1bmN0aW9uIGEodSkge1xuICAgIHJldHVybiBmdW5jdGlvbihsKSB7XG4gICAgICByZXR1cm4gYyhbdSwgbF0pO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gYyh1KSB7XG4gICAgaWYgKHIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgIGZvciAoOyBzICYmIChzID0gMCwgdVswXSAmJiAobiA9IDApKSwgbjsgKSB0cnkge1xuICAgICAgaWYgKHIgPSAxLCBpICYmIChvID0gdVswXSAmIDIgPyBpLnJldHVybiA6IHVbMF0gPyBpLnRocm93IHx8ICgobyA9IGkucmV0dXJuKSAmJiBvLmNhbGwoaSksIDApIDogaS5uZXh0KSAmJiAhKG8gPSBvLmNhbGwoaSwgdVsxXSkpLmRvbmUpIHJldHVybiBvO1xuICAgICAgc3dpdGNoIChpID0gMCwgbyAmJiAodSA9IFt1WzBdICYgMiwgby52YWx1ZV0pLCB1WzBdKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG8gPSB1O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIG4ubGFiZWwrKywgeyB2YWx1ZTogdVsxXSwgZG9uZTogITEgfTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG4ubGFiZWwrKywgaSA9IHVbMV0sIHUgPSBbMF07XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICB1ID0gbi5vcHMucG9wKCksIG4udHJ5cy5wb3AoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAobyA9IG4udHJ5cywgIShvID0gby5sZW5ndGggPiAwICYmIG9bby5sZW5ndGggLSAxXSkgJiYgKHVbMF0gPT09IDYgfHwgdVswXSA9PT0gMikpIHtcbiAgICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1WzBdID09PSAzICYmICghbyB8fCB1WzFdID4gb1swXSAmJiB1WzFdIDwgb1szXSkpIHtcbiAgICAgICAgICAgIG4ubGFiZWwgPSB1WzFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1WzBdID09PSA2ICYmIG4ubGFiZWwgPCBvWzFdKSB7XG4gICAgICAgICAgICBuLmxhYmVsID0gb1sxXSwgbyA9IHU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG8gJiYgbi5sYWJlbCA8IG9bMl0pIHtcbiAgICAgICAgICAgIG4ubGFiZWwgPSBvWzJdLCBuLm9wcy5wdXNoKHUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9bMl0gJiYgbi5vcHMucG9wKCksIG4udHJ5cy5wb3AoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSB0LmNhbGwoZSwgbik7XG4gICAgfSBjYXRjaCAobCkge1xuICAgICAgdSA9IFs2LCBsXSwgaSA9IDA7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHIgPSBvID0gMDtcbiAgICB9XG4gICAgaWYgKHVbMF0gJiA1KSB0aHJvdyB1WzFdO1xuICAgIHJldHVybiB7IHZhbHVlOiB1WzBdID8gdVsxXSA6IHZvaWQgMCwgZG9uZTogITAgfTtcbiAgfVxufVxuZnVuY3Rpb24gcGUoZSkge1xuICB2YXIgdCA9IHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbiA9IHQgJiYgZVt0XSwgciA9IDA7XG4gIGlmIChuKSByZXR1cm4gbi5jYWxsKGUpO1xuICBpZiAoZSAmJiB0eXBlb2YgZS5sZW5ndGggPT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlICYmIHIgPj0gZS5sZW5ndGggJiYgKGUgPSB2b2lkIDApLCB7IHZhbHVlOiBlICYmIGVbcisrXSwgZG9uZTogIWUgfTtcbiAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IodCA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cbmZ1bmN0aW9uIGhlKGUsIHQpIHtcbiAgdmFyIG4gPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBlW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbikgcmV0dXJuIGU7XG4gIHZhciByID0gbi5jYWxsKGUpLCBpLCBvID0gW10sIHM7XG4gIHRyeSB7XG4gICAgZm9yICg7ICh0ID09PSB2b2lkIDAgfHwgdC0tID4gMCkgJiYgIShpID0gci5uZXh0KCkpLmRvbmU7ICkgby5wdXNoKGkudmFsdWUpO1xuICB9IGNhdGNoIChhKSB7XG4gICAgcyA9IHsgZXJyb3I6IGEgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaSAmJiAhaS5kb25lICYmIChuID0gci5yZXR1cm4pICYmIG4uY2FsbChyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHMpIHRocm93IHMuZXJyb3I7XG4gICAgfVxuICB9XG4gIHJldHVybiBvO1xufVxuZnVuY3Rpb24gU2UoZSwgdCwgbikge1xuICBpZiAobiB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciByID0gMCwgaSA9IHQubGVuZ3RoLCBvOyByIDwgaTsgcisrKVxuICAgIChvIHx8ICEociBpbiB0KSkgJiYgKG8gfHwgKG8gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LCAwLCByKSksIG9bcl0gPSB0W3JdKTtcbiAgcmV0dXJuIGUuY29uY2F0KG8gfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpO1xufVxuZnVuY3Rpb24gZmUoZSkge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGZlID8gKHRoaXMudiA9IGUsIHRoaXMpIDogbmV3IGZlKGUpO1xufVxuZnVuY3Rpb24gRXIoZSwgdCwgbikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgciA9IG4uYXBwbHkoZSwgdCB8fCBbXSksIGksIG8gPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PSBcImZ1bmN0aW9uXCIgPyBBc3luY0l0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpLCBhKFwibmV4dFwiKSwgYShcInRocm93XCIpLCBhKFwicmV0dXJuXCIsIHMpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCBpO1xuICBmdW5jdGlvbiBzKGQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtKS50aGVuKGQsIGYpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gYShkLCBtKSB7XG4gICAgcltkXSAmJiAoaVtkXSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihnLCB2KSB7XG4gICAgICAgIG8ucHVzaChbZCwgcCwgZywgdl0pID4gMSB8fCBjKGQsIHApO1xuICAgICAgfSk7XG4gICAgfSwgbSAmJiAoaVtkXSA9IG0oaVtkXSkpKTtcbiAgfVxuICBmdW5jdGlvbiBjKGQsIG0pIHtcbiAgICB0cnkge1xuICAgICAgdShyW2RdKG0pKTtcbiAgICB9IGNhdGNoIChwKSB7XG4gICAgICBoKG9bMF1bM10sIHApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1KGQpIHtcbiAgICBkLnZhbHVlIGluc3RhbmNlb2YgZmUgPyBQcm9taXNlLnJlc29sdmUoZC52YWx1ZS52KS50aGVuKGwsIGYpIDogaChvWzBdWzJdLCBkKTtcbiAgfVxuICBmdW5jdGlvbiBsKGQpIHtcbiAgICBjKFwibmV4dFwiLCBkKTtcbiAgfVxuICBmdW5jdGlvbiBmKGQpIHtcbiAgICBjKFwidGhyb3dcIiwgZCk7XG4gIH1cbiAgZnVuY3Rpb24gaChkLCBtKSB7XG4gICAgZChtKSwgby5zaGlmdCgpLCBvLmxlbmd0aCAmJiBjKG9bMF1bMF0sIG9bMF1bMV0pO1xuICB9XG59XG5mdW5jdGlvbiBUcihlKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciB0ID0gZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIG47XG4gIHJldHVybiB0ID8gdC5jYWxsKGUpIDogKGUgPSB0eXBlb2YgcGUgPT0gXCJmdW5jdGlvblwiID8gcGUoZSkgOiBlW1N5bWJvbC5pdGVyYXRvcl0oKSwgbiA9IHt9LCByKFwibmV4dFwiKSwgcihcInRocm93XCIpLCByKFwicmV0dXJuXCIpLCBuW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCBuKTtcbiAgZnVuY3Rpb24gcihvKSB7XG4gICAgbltvXSA9IGVbb10gJiYgZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgICAgcyA9IGVbb10ocyksIGkoYSwgYywgcy5kb25lLCBzLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaShvLCBzLCBhLCBjKSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4oZnVuY3Rpb24odSkge1xuICAgICAgbyh7IHZhbHVlOiB1LCBkb25lOiBhIH0pO1xuICAgIH0sIHMpO1xuICB9XG59XG5mdW5jdGlvbiBBKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIG90KGUpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbihyKSB7XG4gICAgRXJyb3IuY2FsbChyKSwgci5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICB9LCBuID0gZSh0KTtcbiAgcmV0dXJuIG4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLCBuLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IG4sIG47XG59XG52YXIgemUgPSBvdChmdW5jdGlvbihlKSB7XG4gIHJldHVybiBmdW5jdGlvbihuKSB7XG4gICAgZSh0aGlzKSwgdGhpcy5tZXNzYWdlID0gbiA/IG4ubGVuZ3RoICsgYCBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxuYCArIG4ubWFwKGZ1bmN0aW9uKHIsIGkpIHtcbiAgICAgIHJldHVybiBpICsgMSArIFwiKSBcIiArIHIudG9TdHJpbmcoKTtcbiAgICB9KS5qb2luKGBcbiAgYCkgOiBcIlwiLCB0aGlzLm5hbWUgPSBcIlVuc3Vic2NyaXB0aW9uRXJyb3JcIiwgdGhpcy5lcnJvcnMgPSBuO1xuICB9O1xufSk7XG5mdW5jdGlvbiBfZShlLCB0KSB7XG4gIGlmIChlKSB7XG4gICAgdmFyIG4gPSBlLmluZGV4T2YodCk7XG4gICAgMCA8PSBuICYmIGUuc3BsaWNlKG4sIDEpO1xuICB9XG59XG52YXIgVGUgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZSh0KSB7XG4gICAgdGhpcy5pbml0aWFsVGVhcmRvd24gPSB0LCB0aGlzLmNsb3NlZCA9ICExLCB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsLCB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgfVxuICByZXR1cm4gZS5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCwgbiwgciwgaSwgbztcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmNsb3NlZCA9ICEwO1xuICAgICAgdmFyIHMgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICBpZiAocylcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudGFnZSA9IG51bGwsIEFycmF5LmlzQXJyYXkocykpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGEgPSBwZShzKSwgYyA9IGEubmV4dCgpOyAhYy5kb25lOyBjID0gYS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgdmFyIHUgPSBjLnZhbHVlO1xuICAgICAgICAgICAgICB1LnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwKSB7XG4gICAgICAgICAgICB0ID0geyBlcnJvcjogcCB9O1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjICYmICFjLmRvbmUgJiYgKG4gPSBhLnJldHVybikgJiYgbi5jYWxsKGEpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKHQpIHRocm93IHQuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgcy5yZW1vdmUodGhpcyk7XG4gICAgICB2YXIgbCA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xuICAgICAgaWYgKEEobCkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbCgpO1xuICAgICAgICB9IGNhdGNoIChwKSB7XG4gICAgICAgICAgbyA9IHAgaW5zdGFuY2VvZiB6ZSA/IHAuZXJyb3JzIDogW3BdO1xuICAgICAgICB9XG4gICAgICB2YXIgZiA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgICBpZiAoZikge1xuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBoID0gcGUoZiksIGQgPSBoLm5leHQoKTsgIWQuZG9uZTsgZCA9IGgubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgbSA9IGQudmFsdWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3dChtKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgICAgICAgbyA9IG8gPz8gW10sIHAgaW5zdGFuY2VvZiB6ZSA/IG8gPSBTZShTZShbXSwgaGUobykpLCBoZShwLmVycm9ycykpIDogby5wdXNoKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocCkge1xuICAgICAgICAgIHIgPSB7IGVycm9yOiBwIH07XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGQgJiYgIWQuZG9uZSAmJiAoaSA9IGgucmV0dXJuKSAmJiBpLmNhbGwoaCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChyKSB0aHJvdyByLmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG8pXG4gICAgICAgIHRocm93IG5ldyB6ZShvKTtcbiAgICB9XG4gIH0sIGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbjtcbiAgICBpZiAodCAmJiB0ICE9PSB0aGlzKVxuICAgICAgaWYgKHRoaXMuY2xvc2VkKVxuICAgICAgICB3dCh0KTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIGUpIHtcbiAgICAgICAgICBpZiAodC5jbG9zZWQgfHwgdC5faGFzUGFyZW50KHRoaXMpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHQuX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChuID0gdGhpcy5fZmluYWxpemVycykgIT09IG51bGwgJiYgbiAhPT0gdm9pZCAwID8gbiA6IFtdKS5wdXNoKHQpO1xuICAgICAgfVxuICB9LCBlLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gdGhpcy5fcGFyZW50YWdlO1xuICAgIHJldHVybiBuID09PSB0IHx8IEFycmF5LmlzQXJyYXkobikgJiYgbi5pbmNsdWRlcyh0KTtcbiAgfSwgZS5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KG4pID8gKG4ucHVzaCh0KSwgbikgOiBuID8gW24sIHRdIDogdDtcbiAgfSwgZS5wcm90b3R5cGUuX3JlbW92ZVBhcmVudCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICBuID09PSB0ID8gdGhpcy5fcGFyZW50YWdlID0gbnVsbCA6IEFycmF5LmlzQXJyYXkobikgJiYgX2UobiwgdCk7XG4gIH0sIGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgbiAmJiBfZShuLCB0KSwgdCBpbnN0YW5jZW9mIGUgJiYgdC5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICB9LCBlLkVNUFRZID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSBuZXcgZSgpO1xuICAgIHJldHVybiB0LmNsb3NlZCA9ICEwLCB0O1xuICB9KCksIGU7XG59KCksIHF0ID0gVGUuRU1QVFk7XG5mdW5jdGlvbiBYdChlKSB7XG4gIHJldHVybiBlIGluc3RhbmNlb2YgVGUgfHwgZSAmJiBcImNsb3NlZFwiIGluIGUgJiYgQShlLnJlbW92ZSkgJiYgQShlLmFkZCkgJiYgQShlLnVuc3Vic2NyaWJlKTtcbn1cbmZ1bmN0aW9uIHd0KGUpIHtcbiAgQShlKSA/IGUoKSA6IGUudW5zdWJzY3JpYmUoKTtcbn1cbnZhciBDciA9IHtcbiAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiBudWxsLFxuICBQcm9taXNlOiB2b2lkIDAsXG4gIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6ICExLFxuICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6ICExXG59LCBadCA9IHtcbiAgc2V0VGltZW91dDogZnVuY3Rpb24oZSwgdCkge1xuICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDI7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspXG4gICAgICBuW3IgLSAyXSA9IGFyZ3VtZW50c1tyXTtcbiAgICByZXR1cm4gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIFNlKFtlLCB0XSwgaGUobikpKTtcbiAgfSxcbiAgY2xlYXJUaW1lb3V0OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHQgPSBadC5kZWxlZ2F0ZTtcbiAgICByZXR1cm4gKCh0ID09IG51bGwgPyB2b2lkIDAgOiB0LmNsZWFyVGltZW91dCkgfHwgY2xlYXJUaW1lb3V0KShlKTtcbiAgfSxcbiAgZGVsZWdhdGU6IHZvaWQgMFxufTtcbmZ1bmN0aW9uIGVuKGUpIHtcbiAgWnQuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIEllKCkge1xufVxuZnVuY3Rpb24gQWUoZSkge1xuICBlKCk7XG59XG52YXIgc3QgPSBmdW5jdGlvbihlKSB7XG4gIHEodCwgZSk7XG4gIGZ1bmN0aW9uIHQobikge1xuICAgIHZhciByID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgcmV0dXJuIHIuaXNTdG9wcGVkID0gITEsIG4gPyAoci5kZXN0aW5hdGlvbiA9IG4sIFh0KG4pICYmIG4uYWRkKHIpKSA6IHIuZGVzdGluYXRpb24gPSBrciwgcjtcbiAgfVxuICByZXR1cm4gdC5jcmVhdGUgPSBmdW5jdGlvbihuLCByLCBpKSB7XG4gICAgcmV0dXJuIG5ldyBYZShuLCByLCBpKTtcbiAgfSwgdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLl9uZXh0KG4pO1xuICB9LCB0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLmlzU3RvcHBlZCB8fCAodGhpcy5pc1N0b3BwZWQgPSAhMCwgdGhpcy5fZXJyb3IobikpO1xuICB9LCB0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNTdG9wcGVkIHx8ICh0aGlzLmlzU3RvcHBlZCA9ICEwLCB0aGlzLl9jb21wbGV0ZSgpKTtcbiAgfSwgdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNsb3NlZCB8fCAodGhpcy5pc1N0b3BwZWQgPSAhMCwgZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSwgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGwpO1xuICB9LCB0LnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQobik7XG4gIH0sIHQucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uKG4pIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihuKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfSwgdC5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfSwgdDtcbn0oVGUpLCBQciA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBlKHQpIHtcbiAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHQ7XG4gIH1cbiAgcmV0dXJuIGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICBpZiAobi5uZXh0KVxuICAgICAgdHJ5IHtcbiAgICAgICAgbi5uZXh0KHQpO1xuICAgICAgfSBjYXRjaCAocikge1xuICAgICAgICBDZShyKTtcbiAgICAgIH1cbiAgfSwgZS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICBpZiAobi5lcnJvcilcbiAgICAgIHRyeSB7XG4gICAgICAgIG4uZXJyb3IodCk7XG4gICAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgIENlKHIpO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIENlKHQpO1xuICB9LCBlLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgaWYgKHQuY29tcGxldGUpXG4gICAgICB0cnkge1xuICAgICAgICB0LmNvbXBsZXRlKCk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIENlKG4pO1xuICAgICAgfVxuICB9LCBlO1xufSgpLCBYZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdChuLCByLCBpKSB7XG4gICAgdmFyIG8gPSBlLmNhbGwodGhpcykgfHwgdGhpcywgcztcbiAgICByZXR1cm4gQShuKSB8fCAhbiA/IHMgPSB7XG4gICAgICBuZXh0OiBuID8/IHZvaWQgMCxcbiAgICAgIGVycm9yOiByID8/IHZvaWQgMCxcbiAgICAgIGNvbXBsZXRlOiBpID8/IHZvaWQgMFxuICAgIH0gOiBzID0gbiwgby5kZXN0aW5hdGlvbiA9IG5ldyBQcihzKSwgbztcbiAgfVxuICByZXR1cm4gdDtcbn0oc3QpO1xuZnVuY3Rpb24gQ2UoZSkge1xuICBlbihlKTtcbn1cbmZ1bmN0aW9uIEFyKGUpIHtcbiAgdGhyb3cgZTtcbn1cbnZhciBrciA9IHtcbiAgY2xvc2VkOiAhMCxcbiAgbmV4dDogSWUsXG4gIGVycm9yOiBBcixcbiAgY29tcGxldGU6IEllXG59LCBhdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgXCJAQG9ic2VydmFibGVcIjtcbn0oKTtcbmZ1bmN0aW9uIGN0KGUpIHtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBPcihlKSB7XG4gIHJldHVybiBlLmxlbmd0aCA9PT0gMCA/IGN0IDogZS5sZW5ndGggPT09IDEgPyBlWzBdIDogZnVuY3Rpb24obikge1xuICAgIHJldHVybiBlLnJlZHVjZShmdW5jdGlvbihyLCBpKSB7XG4gICAgICByZXR1cm4gaShyKTtcbiAgICB9LCBuKTtcbiAgfTtcbn1cbnZhciBPID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUodCkge1xuICAgIHQgJiYgKHRoaXMuX3N1YnNjcmliZSA9IHQpO1xuICB9XG4gIHJldHVybiBlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gbmV3IGUoKTtcbiAgICByZXR1cm4gbi5zb3VyY2UgPSB0aGlzLCBuLm9wZXJhdG9yID0gdCwgbjtcbiAgfSwgZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24odCwgbiwgcikge1xuICAgIHZhciBpID0gdGhpcywgbyA9IF9yKHQpID8gdCA6IG5ldyBYZSh0LCBuLCByKTtcbiAgICByZXR1cm4gQWUoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcyA9IGksIGEgPSBzLm9wZXJhdG9yLCBjID0gcy5zb3VyY2U7XG4gICAgICBvLmFkZChhID8gYS5jYWxsKG8sIGMpIDogYyA/IGkuX3N1YnNjcmliZShvKSA6IGkuX3RyeVN1YnNjcmliZShvKSk7XG4gICAgfSksIG87XG4gIH0sIGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbih0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUodCk7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgdC5lcnJvcihuKTtcbiAgICB9XG4gIH0sIGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbih0LCBuKSB7XG4gICAgdmFyIHIgPSB0aGlzO1xuICAgIHJldHVybiBuID0gU3QobiksIG5ldyBuKGZ1bmN0aW9uKGksIG8pIHtcbiAgICAgIHZhciBzID0gbmV3IFhlKHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0KGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgICAgIG8oYyksIHMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBvLFxuICAgICAgICBjb21wbGV0ZTogaVxuICAgICAgfSk7XG4gICAgICByLnN1YnNjcmliZShzKTtcbiAgICB9KTtcbiAgfSwgZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbjtcbiAgICByZXR1cm4gKG4gPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbi5zdWJzY3JpYmUodCk7XG4gIH0sIGUucHJvdG90eXBlW2F0XSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCBlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMDsgbiA8IGFyZ3VtZW50cy5sZW5ndGg7IG4rKylcbiAgICAgIHRbbl0gPSBhcmd1bWVudHNbbl07XG4gICAgcmV0dXJuIE9yKHQpKHRoaXMpO1xuICB9LCBlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSB0aGlzO1xuICAgIHJldHVybiB0ID0gU3QodCksIG5ldyB0KGZ1bmN0aW9uKHIsIGkpIHtcbiAgICAgIHZhciBvO1xuICAgICAgbi5zdWJzY3JpYmUoZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gbyA9IHM7XG4gICAgICB9LCBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiBpKHMpO1xuICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByKG8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIGUuY3JlYXRlID0gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBuZXcgZSh0KTtcbiAgfSwgZTtcbn0oKTtcbmZ1bmN0aW9uIFN0KGUpIHtcbiAgdmFyIHQ7XG4gIHJldHVybiAodCA9IGUgPz8gQ3IuUHJvbWlzZSkgIT09IG51bGwgJiYgdCAhPT0gdm9pZCAwID8gdCA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBMcihlKSB7XG4gIHJldHVybiBlICYmIEEoZS5uZXh0KSAmJiBBKGUuZXJyb3IpICYmIEEoZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBfcihlKSB7XG4gIHJldHVybiBlICYmIGUgaW5zdGFuY2VvZiBzdCB8fCBMcihlKSAmJiBYdChlKTtcbn1cbmZ1bmN0aW9uIElyKGUpIHtcbiAgcmV0dXJuIEEoZSA9PSBudWxsID8gdm9pZCAwIDogZS5saWZ0KTtcbn1cbmZ1bmN0aW9uIEIoZSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIGlmIChJcih0KSlcbiAgICAgIHJldHVybiB0LmxpZnQoZnVuY3Rpb24obikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBlKG4sIHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlXCIpO1xuICB9O1xufVxuZnVuY3Rpb24gaihlLCB0LCBuLCByLCBpKSB7XG4gIHJldHVybiBuZXcgTXIoZSwgdCwgbiwgciwgaSk7XG59XG52YXIgTXIgPSBmdW5jdGlvbihlKSB7XG4gIHEodCwgZSk7XG4gIGZ1bmN0aW9uIHQobiwgciwgaSwgbywgcywgYSkge1xuICAgIHZhciBjID0gZS5jYWxsKHRoaXMsIG4pIHx8IHRoaXM7XG4gICAgcmV0dXJuIGMub25GaW5hbGl6ZSA9IHMsIGMuc2hvdWxkVW5zdWJzY3JpYmUgPSBhLCBjLl9uZXh0ID0gciA/IGZ1bmN0aW9uKHUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHIodSk7XG4gICAgICB9IGNhdGNoIChsKSB7XG4gICAgICAgIG4uZXJyb3IobCk7XG4gICAgICB9XG4gICAgfSA6IGUucHJvdG90eXBlLl9uZXh0LCBjLl9lcnJvciA9IG8gPyBmdW5jdGlvbih1KSB7XG4gICAgICB0cnkge1xuICAgICAgICBvKHUpO1xuICAgICAgfSBjYXRjaCAobCkge1xuICAgICAgICBuLmVycm9yKGwpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0gOiBlLnByb3RvdHlwZS5fZXJyb3IsIGMuX2NvbXBsZXRlID0gaSA/IGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaSgpO1xuICAgICAgfSBjYXRjaCAodSkge1xuICAgICAgICBuLmVycm9yKHUpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0gOiBlLnByb3RvdHlwZS5fY29tcGxldGUsIGM7XG4gIH1cbiAgcmV0dXJuIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG47XG4gICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgdmFyIHIgPSB0aGlzLmNsb3NlZDtcbiAgICAgIGUucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyksICFyICYmICgobiA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwIHx8IG4uY2FsbCh0aGlzKSk7XG4gICAgfVxuICB9LCB0O1xufShzdCksIERyID0gb3QoZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZSh0aGlzKSwgdGhpcy5uYW1lID0gXCJPYmplY3RVbnN1YnNjcmliZWRFcnJvclwiLCB0aGlzLm1lc3NhZ2UgPSBcIm9iamVjdCB1bnN1YnNjcmliZWRcIjtcbiAgfTtcbn0pLCByZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdCgpIHtcbiAgICB2YXIgbiA9IGUuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIHJldHVybiBuLmNsb3NlZCA9ICExLCBuLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsLCBuLm9ic2VydmVycyA9IFtdLCBuLmlzU3RvcHBlZCA9ICExLCBuLmhhc0Vycm9yID0gITEsIG4udGhyb3duRXJyb3IgPSBudWxsLCBuO1xuICB9XG4gIHJldHVybiB0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gbmV3IHh0KHRoaXMsIHRoaXMpO1xuICAgIHJldHVybiByLm9wZXJhdG9yID0gbiwgcjtcbiAgfSwgdC5wcm90b3R5cGUuX3Rocm93SWZDbG9zZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpXG4gICAgICB0aHJvdyBuZXcgRHIoKTtcbiAgfSwgdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciA9IHRoaXM7XG4gICAgQWUoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgbztcbiAgICAgIGlmIChyLl90aHJvd0lmQ2xvc2VkKCksICFyLmlzU3RvcHBlZCkge1xuICAgICAgICByLmN1cnJlbnRPYnNlcnZlcnMgfHwgKHIuY3VycmVudE9ic2VydmVycyA9IEFycmF5LmZyb20oci5vYnNlcnZlcnMpKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBzID0gcGUoci5jdXJyZW50T2JzZXJ2ZXJzKSwgYSA9IHMubmV4dCgpOyAhYS5kb25lOyBhID0gcy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBjID0gYS52YWx1ZTtcbiAgICAgICAgICAgIGMubmV4dChuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHUpIHtcbiAgICAgICAgICBpID0geyBlcnJvcjogdSB9O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhICYmICFhLmRvbmUgJiYgKG8gPSBzLnJldHVybikgJiYgby5jYWxsKHMpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoaSkgdGhyb3cgaS5lcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSB0aGlzO1xuICAgIEFlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHIuX3Rocm93SWZDbG9zZWQoKSwgIXIuaXNTdG9wcGVkKSB7XG4gICAgICAgIHIuaGFzRXJyb3IgPSByLmlzU3RvcHBlZCA9ICEwLCByLnRocm93bkVycm9yID0gbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IHIub2JzZXJ2ZXJzOyBpLmxlbmd0aDsgKVxuICAgICAgICAgIGkuc2hpZnQoKS5lcnJvcihuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IHRoaXM7XG4gICAgQWUoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAobi5fdGhyb3dJZkNsb3NlZCgpLCAhbi5pc1N0b3BwZWQpIHtcbiAgICAgICAgbi5pc1N0b3BwZWQgPSAhMDtcbiAgICAgICAgZm9yICh2YXIgciA9IG4ub2JzZXJ2ZXJzOyByLmxlbmd0aDsgKVxuICAgICAgICAgIHIuc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCB0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSAhMCwgdGhpcy5vYnNlcnZlcnMgPSB0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsO1xuICB9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIFwib2JzZXJ2ZWRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbjtcbiAgICAgIHJldHVybiAoKG4gPSB0aGlzLm9ic2VydmVycykgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbi5sZW5ndGgpID4gMDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6ICExLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Rocm93SWZDbG9zZWQoKSwgZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIG4pO1xuICB9LCB0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMobiksIHRoaXMuX2lubmVyU3Vic2NyaWJlKG4pO1xuICB9LCB0LnByb3RvdHlwZS5faW5uZXJTdWJzY3JpYmUgPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSB0aGlzLCBpID0gdGhpcywgbyA9IGkuaGFzRXJyb3IsIHMgPSBpLmlzU3RvcHBlZCwgYSA9IGkub2JzZXJ2ZXJzO1xuICAgIHJldHVybiBvIHx8IHMgPyBxdCA6ICh0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsLCBhLnB1c2gobiksIG5ldyBUZShmdW5jdGlvbigpIHtcbiAgICAgIHIuY3VycmVudE9ic2VydmVycyA9IG51bGwsIF9lKGEsIG4pO1xuICAgIH0pKTtcbiAgfSwgdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSB0aGlzLCBpID0gci5oYXNFcnJvciwgbyA9IHIudGhyb3duRXJyb3IsIHMgPSByLmlzU3RvcHBlZDtcbiAgICBpID8gbi5lcnJvcihvKSA6IHMgJiYgbi5jb21wbGV0ZSgpO1xuICB9LCB0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IG5ldyBPKCk7XG4gICAgcmV0dXJuIG4uc291cmNlID0gdGhpcywgbjtcbiAgfSwgdC5jcmVhdGUgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgcmV0dXJuIG5ldyB4dChuLCByKTtcbiAgfSwgdDtcbn0oTyksIHh0ID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIpIHtcbiAgICB2YXIgaSA9IGUuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIHJldHVybiBpLmRlc3RpbmF0aW9uID0gbiwgaS5zb3VyY2UgPSByLCBpO1xuICB9XG4gIHJldHVybiB0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obikge1xuICAgIHZhciByLCBpO1xuICAgIChpID0gKHIgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLm5leHQpID09PSBudWxsIHx8IGkgPT09IHZvaWQgMCB8fCBpLmNhbGwociwgbik7XG4gIH0sIHQucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24obikge1xuICAgIHZhciByLCBpO1xuICAgIChpID0gKHIgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLmVycm9yKSA9PT0gbnVsbCB8fCBpID09PSB2b2lkIDAgfHwgaS5jYWxsKHIsIG4pO1xuICB9LCB0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuLCByO1xuICAgIChyID0gKG4gPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgfHwgci5jYWxsKG4pO1xuICB9LCB0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24obikge1xuICAgIHZhciByLCBpO1xuICAgIHJldHVybiAoaSA9IChyID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHIuc3Vic2NyaWJlKG4pKSAhPT0gbnVsbCAmJiBpICE9PSB2b2lkIDAgPyBpIDogcXQ7XG4gIH0sIHQ7XG59KHJlKSwgdG4gPSBmdW5jdGlvbihlKSB7XG4gIHEodCwgZSk7XG4gIGZ1bmN0aW9uIHQobikge1xuICAgIHZhciByID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgcmV0dXJuIHIuX3ZhbHVlID0gbiwgcjtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6ICExLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIHQucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSBlLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgbik7XG4gICAgcmV0dXJuICFyLmNsb3NlZCAmJiBuLm5leHQodGhpcy5fdmFsdWUpLCByO1xuICB9LCB0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gdGhpcywgciA9IG4uaGFzRXJyb3IsIGkgPSBuLnRocm93bkVycm9yLCBvID0gbi5fdmFsdWU7XG4gICAgaWYgKHIpXG4gICAgICB0aHJvdyBpO1xuICAgIHJldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksIG87XG4gIH0sIHQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihuKSB7XG4gICAgZS5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMuX3ZhbHVlID0gbik7XG4gIH0sIHQ7XG59KHJlKSwgUnIgPSB7XG4gIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH0sXG4gIGRlbGVnYXRlOiB2b2lkIDBcbn0sIE5yID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIpIHtcbiAgICByZXR1cm4gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gIH1cbiAgcmV0dXJuIHQucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24obiwgcikge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCB0O1xufShUZSksIEV0ID0ge1xuICBzZXRJbnRlcnZhbDogZnVuY3Rpb24oZSwgdCkge1xuICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDI7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspXG4gICAgICBuW3IgLSAyXSA9IGFyZ3VtZW50c1tyXTtcbiAgICByZXR1cm4gc2V0SW50ZXJ2YWwuYXBwbHkodm9pZCAwLCBTZShbZSwgdF0sIGhlKG4pKSk7XG4gIH0sXG4gIGNsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gY2xlYXJJbnRlcnZhbChlKTtcbiAgfSxcbiAgZGVsZWdhdGU6IHZvaWQgMFxufSwgJHIgPSBmdW5jdGlvbihlKSB7XG4gIHEodCwgZSk7XG4gIGZ1bmN0aW9uIHQobiwgcikge1xuICAgIHZhciBpID0gZS5jYWxsKHRoaXMsIG4sIHIpIHx8IHRoaXM7XG4gICAgcmV0dXJuIGkuc2NoZWR1bGVyID0gbiwgaS53b3JrID0gciwgaS5wZW5kaW5nID0gITEsIGk7XG4gIH1cbiAgcmV0dXJuIHQucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24obiwgcikge1xuICAgIHZhciBpO1xuICAgIGlmIChyID09PSB2b2lkIDAgJiYgKHIgPSAwKSwgdGhpcy5jbG9zZWQpXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB0aGlzLnN0YXRlID0gbjtcbiAgICB2YXIgbyA9IHRoaXMuaWQsIHMgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICByZXR1cm4gbyAhPSBudWxsICYmICh0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzLCBvLCByKSksIHRoaXMucGVuZGluZyA9ICEwLCB0aGlzLmRlbGF5ID0gciwgdGhpcy5pZCA9IChpID0gdGhpcy5pZCkgIT09IG51bGwgJiYgaSAhPT0gdm9pZCAwID8gaSA6IHRoaXMucmVxdWVzdEFzeW5jSWQocywgdGhpcy5pZCwgciksIHRoaXM7XG4gIH0sIHQucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24obiwgciwgaSkge1xuICAgIHJldHVybiBpID09PSB2b2lkIDAgJiYgKGkgPSAwKSwgRXQuc2V0SW50ZXJ2YWwobi5mbHVzaC5iaW5kKG4sIHRoaXMpLCBpKTtcbiAgfSwgdC5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbihuLCByLCBpKSB7XG4gICAgaWYgKGkgPT09IHZvaWQgMCAmJiAoaSA9IDApLCBpICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gaSAmJiB0aGlzLnBlbmRpbmcgPT09ICExKVxuICAgICAgcmV0dXJuIHI7XG4gICAgciAhPSBudWxsICYmIEV0LmNsZWFySW50ZXJ2YWwocik7XG4gIH0sIHQucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKVxuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcImV4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb25cIik7XG4gICAgdGhpcy5wZW5kaW5nID0gITE7XG4gICAgdmFyIGkgPSB0aGlzLl9leGVjdXRlKG4sIHIpO1xuICAgIGlmIChpKVxuICAgICAgcmV0dXJuIGk7XG4gICAgdGhpcy5wZW5kaW5nID09PSAhMSAmJiB0aGlzLmlkICE9IG51bGwgJiYgKHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKSk7XG4gIH0sIHQucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24obiwgcikge1xuICAgIHZhciBpID0gITEsIG87XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMud29yayhuKTtcbiAgICB9IGNhdGNoIChzKSB7XG4gICAgICBpID0gITAsIG8gPSBzIHx8IG5ldyBFcnJvcihcIlNjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3JcIik7XG4gICAgfVxuICAgIGlmIChpKVxuICAgICAgcmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoKSwgbztcbiAgfSwgdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB2YXIgbiA9IHRoaXMsIHIgPSBuLmlkLCBpID0gbi5zY2hlZHVsZXIsIG8gPSBpLmFjdGlvbnM7XG4gICAgICB0aGlzLndvcmsgPSB0aGlzLnN0YXRlID0gdGhpcy5zY2hlZHVsZXIgPSBudWxsLCB0aGlzLnBlbmRpbmcgPSAhMSwgX2UobywgdGhpcyksIHIgIT0gbnVsbCAmJiAodGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoaSwgciwgbnVsbCkpLCB0aGlzLmRlbGF5ID0gbnVsbCwgZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHQ7XG59KE5yKSwgVHQgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZSh0LCBuKSB7XG4gICAgbiA9PT0gdm9pZCAwICYmIChuID0gZS5ub3cpLCB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSB0LCB0aGlzLm5vdyA9IG47XG4gIH1cbiAgcmV0dXJuIGUucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24odCwgbiwgcikge1xuICAgIHJldHVybiBuID09PSB2b2lkIDAgJiYgKG4gPSAwKSwgbmV3IHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3Rvcih0aGlzLCB0KS5zY2hlZHVsZShyLCBuKTtcbiAgfSwgZS5ub3cgPSBSci5ub3csIGU7XG59KCksIFVyID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIpIHtcbiAgICByID09PSB2b2lkIDAgJiYgKHIgPSBUdC5ub3cpO1xuICAgIHZhciBpID0gZS5jYWxsKHRoaXMsIG4sIHIpIHx8IHRoaXM7XG4gICAgcmV0dXJuIGkuYWN0aW9ucyA9IFtdLCBpLl9hY3RpdmUgPSAhMSwgaTtcbiAgfVxuICByZXR1cm4gdC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSB0aGlzLmFjdGlvbnM7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgci5wdXNoKG4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaTtcbiAgICB0aGlzLl9hY3RpdmUgPSAhMDtcbiAgICBkb1xuICAgICAgaWYgKGkgPSBuLmV4ZWN1dGUobi5zdGF0ZSwgbi5kZWxheSkpXG4gICAgICAgIGJyZWFrO1xuICAgIHdoaWxlIChuID0gci5zaGlmdCgpKTtcbiAgICBpZiAodGhpcy5fYWN0aXZlID0gITEsIGkpIHtcbiAgICAgIGZvciAoOyBuID0gci5zaGlmdCgpOyApXG4gICAgICAgIG4udW5zdWJzY3JpYmUoKTtcbiAgICAgIHRocm93IGk7XG4gICAgfVxuICB9LCB0O1xufShUdCksIEZyID0gbmV3IFVyKCRyKSwganIgPSBuZXcgTyhmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlLmNvbXBsZXRlKCk7XG59KTtcbmZ1bmN0aW9uIFdyKGUpIHtcbiAgcmV0dXJuIGUgJiYgQShlLnNjaGVkdWxlKTtcbn1cbmZ1bmN0aW9uIG5uKGUpIHtcbiAgcmV0dXJuIGVbZS5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIEJlKGUpIHtcbiAgcmV0dXJuIFdyKG5uKGUpKSA/IGUucG9wKCkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBCcihlLCB0KSB7XG4gIHJldHVybiB0eXBlb2Ygbm4oZSkgPT0gXCJudW1iZXJcIiA/IGUucG9wKCkgOiB0O1xufVxudmFyIHV0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSAmJiB0eXBlb2YgZS5sZW5ndGggPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZSAhPSBcImZ1bmN0aW9uXCI7XG59O1xuZnVuY3Rpb24gcm4oZSkge1xuICByZXR1cm4gQShlID09IG51bGwgPyB2b2lkIDAgOiBlLnRoZW4pO1xufVxuZnVuY3Rpb24gb24oZSkge1xuICByZXR1cm4gQShlW2F0XSk7XG59XG5mdW5jdGlvbiBzbihlKSB7XG4gIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBBKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcbn1cbmZ1bmN0aW9uIGFuKGUpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoZSAhPT0gbnVsbCAmJiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiID8gXCJhbiBpbnZhbGlkIG9iamVjdFwiIDogXCInXCIgKyBlICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XG59XG5mdW5jdGlvbiBWcigpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgIT0gXCJmdW5jdGlvblwiIHx8ICFTeW1ib2wuaXRlcmF0b3IgPyBcIkBAaXRlcmF0b3JcIiA6IFN5bWJvbC5pdGVyYXRvcjtcbn1cbnZhciBjbiA9IFZyKCk7XG5mdW5jdGlvbiB1bihlKSB7XG4gIHJldHVybiBBKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGVbY25dKTtcbn1cbmZ1bmN0aW9uIGxuKGUpIHtcbiAgcmV0dXJuIEVyKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4sIHIsIGksIG87XG4gICAgcmV0dXJuIEp0KHRoaXMsIGZ1bmN0aW9uKHMpIHtcbiAgICAgIHN3aXRjaCAocy5sYWJlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgbiA9IGUuZ2V0UmVhZGVyKCksIHMubGFiZWwgPSAxO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcy50cnlzLnB1c2goWzEsICwgOSwgMTBdKSwgcy5sYWJlbCA9IDI7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gWzQsIGZlKG4ucmVhZCgpKV07XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gciA9IHMuc2VudCgpLCBpID0gci52YWx1ZSwgbyA9IHIuZG9uZSwgbyA/IFs0LCBmZSh2b2lkIDApXSA6IFszLCA1XTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBbMiwgcy5zZW50KCldO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIFs0LCBmZShpKV07XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gWzQsIHMuc2VudCgpXTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHJldHVybiBzLnNlbnQoKSwgWzMsIDJdO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIFszLCAxMF07XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICByZXR1cm4gbi5yZWxlYXNlTG9jaygpLCBbN107XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBmbihlKSB7XG4gIHJldHVybiBBKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZ2V0UmVhZGVyKTtcbn1cbmZ1bmN0aW9uIFkoZSkge1xuICBpZiAoZSBpbnN0YW5jZW9mIE8pXG4gICAgcmV0dXJuIGU7XG4gIGlmIChlICE9IG51bGwpIHtcbiAgICBpZiAob24oZSkpXG4gICAgICByZXR1cm4gSHIoZSk7XG4gICAgaWYgKHV0KGUpKVxuICAgICAgcmV0dXJuIHpyKGUpO1xuICAgIGlmIChybihlKSlcbiAgICAgIHJldHVybiBZcihlKTtcbiAgICBpZiAoc24oZSkpXG4gICAgICByZXR1cm4gZG4oZSk7XG4gICAgaWYgKHVuKGUpKVxuICAgICAgcmV0dXJuIEdyKGUpO1xuICAgIGlmIChmbihlKSlcbiAgICAgIHJldHVybiBLcihlKTtcbiAgfVxuICB0aHJvdyBhbihlKTtcbn1cbmZ1bmN0aW9uIEhyKGUpIHtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IGVbYXRdKCk7XG4gICAgaWYgKEEobi5zdWJzY3JpYmUpKVxuICAgICAgcmV0dXJuIG4uc3Vic2NyaWJlKHQpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZVwiKTtcbiAgfSk7XG59XG5mdW5jdGlvbiB6cihlKSB7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aCAmJiAhdC5jbG9zZWQ7IG4rKylcbiAgICAgIHQubmV4dChlW25dKTtcbiAgICB0LmNvbXBsZXRlKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gWXIoZSkge1xuICByZXR1cm4gbmV3IE8oZnVuY3Rpb24odCkge1xuICAgIGUudGhlbihmdW5jdGlvbihuKSB7XG4gICAgICB0LmNsb3NlZCB8fCAodC5uZXh0KG4pLCB0LmNvbXBsZXRlKCkpO1xuICAgIH0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiB0LmVycm9yKG4pO1xuICAgIH0pLnRoZW4obnVsbCwgZW4pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIEdyKGUpIHtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiwgcjtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaSA9IHBlKGUpLCBvID0gaS5uZXh0KCk7ICFvLmRvbmU7IG8gPSBpLm5leHQoKSkge1xuICAgICAgICB2YXIgcyA9IG8udmFsdWU7XG4gICAgICAgIGlmICh0Lm5leHQocyksIHQuY2xvc2VkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChhKSB7XG4gICAgICBuID0geyBlcnJvcjogYSB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBvICYmICFvLmRvbmUgJiYgKHIgPSBpLnJldHVybikgJiYgci5jYWxsKGkpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG4pIHRocm93IG4uZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHQuY29tcGxldGUoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBkbihlKSB7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbih0KSB7XG4gICAgUXIoZSwgdCkuY2F0Y2goZnVuY3Rpb24obikge1xuICAgICAgcmV0dXJuIHQuZXJyb3Iobik7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gS3IoZSkge1xuICByZXR1cm4gZG4obG4oZSkpO1xufVxuZnVuY3Rpb24gUXIoZSwgdCkge1xuICB2YXIgbiwgciwgaSwgbztcbiAgcmV0dXJuIHhyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgcywgYTtcbiAgICByZXR1cm4gSnQodGhpcywgZnVuY3Rpb24oYykge1xuICAgICAgc3dpdGNoIChjLmxhYmVsKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKSwgbiA9IFRyKGUpLCBjLmxhYmVsID0gMTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBbNCwgbi5uZXh0KCldO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHIgPSBjLnNlbnQoKSwgISFyLmRvbmUpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgaWYgKHMgPSByLnZhbHVlLCB0Lm5leHQocyksIHQuY2xvc2VkKVxuICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICBjLmxhYmVsID0gMztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiBbMywgMV07XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBhID0gYy5zZW50KCksIGkgPSB7IGVycm9yOiBhIH0sIFszLCAxMV07XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gYy50cnlzLnB1c2goWzYsICwgOSwgMTBdKSwgciAmJiAhci5kb25lICYmIChvID0gbi5yZXR1cm4pID8gWzQsIG8uY2FsbChuKV0gOiBbMywgOF07XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBjLnNlbnQoKSwgYy5sYWJlbCA9IDg7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmIChpKSB0aHJvdyBpLmVycm9yO1xuICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gdC5jb21wbGV0ZSgpLCBbMl07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZWUoZSwgdCwgbiwgciwgaSkge1xuICByID09PSB2b2lkIDAgJiYgKHIgPSAwKSwgaSA9PT0gdm9pZCAwICYmIChpID0gITEpO1xuICB2YXIgbyA9IHQuc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgbigpLCBpID8gZS5hZGQodGhpcy5zY2hlZHVsZShudWxsLCByKSkgOiB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH0sIHIpO1xuICBpZiAoZS5hZGQobyksICFpKVxuICAgIHJldHVybiBvO1xufVxuZnVuY3Rpb24gcG4oZSwgdCkge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gMCksIEIoZnVuY3Rpb24obiwgcikge1xuICAgIG4uc3Vic2NyaWJlKGoociwgZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGVlKHIsIGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gci5uZXh0KGkpO1xuICAgICAgfSwgdCk7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZWUociwgZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByLmNvbXBsZXRlKCk7XG4gICAgICB9LCB0KTtcbiAgICB9LCBmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gZWUociwgZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByLmVycm9yKGkpO1xuICAgICAgfSwgdCk7XG4gICAgfSkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGhuKGUsIHQpIHtcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBCKGZ1bmN0aW9uKG4sIHIpIHtcbiAgICByLmFkZChlLnNjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG4uc3Vic2NyaWJlKHIpO1xuICAgIH0sIHQpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBKcihlLCB0KSB7XG4gIHJldHVybiBZKGUpLnBpcGUoaG4odCksIHBuKHQpKTtcbn1cbmZ1bmN0aW9uIHFyKGUsIHQpIHtcbiAgcmV0dXJuIFkoZSkucGlwZShobih0KSwgcG4odCkpO1xufVxuZnVuY3Rpb24gWHIoZSwgdCkge1xuICByZXR1cm4gbmV3IE8oZnVuY3Rpb24obikge1xuICAgIHZhciByID0gMDtcbiAgICByZXR1cm4gdC5zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgIHIgPT09IGUubGVuZ3RoID8gbi5jb21wbGV0ZSgpIDogKG4ubmV4dChlW3IrK10pLCBuLmNsb3NlZCB8fCB0aGlzLnNjaGVkdWxlKCkpO1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIFpyKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgcjtcbiAgICByZXR1cm4gZWUobiwgdCwgZnVuY3Rpb24oKSB7XG4gICAgICByID0gZVtjbl0oKSwgZWUobiwgdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpLCBvLCBzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGkgPSByLm5leHQoKSwgbyA9IGkudmFsdWUsIHMgPSBpLmRvbmU7XG4gICAgICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgICAgICBuLmVycm9yKGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzID8gbi5jb21wbGV0ZSgpIDogbi5uZXh0KG8pO1xuICAgICAgfSwgMCwgITApO1xuICAgIH0pLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBBKHIgPT0gbnVsbCA/IHZvaWQgMCA6IHIucmV0dXJuKSAmJiByLnJldHVybigpO1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gdm4oZSwgdCkge1xuICBpZiAoIWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXRlcmFibGUgY2Fubm90IGJlIG51bGxcIik7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbihuKSB7XG4gICAgZWUobiwgdCwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgciA9IGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICBlZShuLCB0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgci5uZXh0KCkudGhlbihmdW5jdGlvbihpKSB7XG4gICAgICAgICAgaS5kb25lID8gbi5jb21wbGV0ZSgpIDogbi5uZXh0KGkudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDAsICEwKTtcbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBlaShlLCB0KSB7XG4gIHJldHVybiB2bihsbihlKSwgdCk7XG59XG5mdW5jdGlvbiB0aShlLCB0KSB7XG4gIGlmIChlICE9IG51bGwpIHtcbiAgICBpZiAob24oZSkpXG4gICAgICByZXR1cm4gSnIoZSwgdCk7XG4gICAgaWYgKHV0KGUpKVxuICAgICAgcmV0dXJuIFhyKGUsIHQpO1xuICAgIGlmIChybihlKSlcbiAgICAgIHJldHVybiBxcihlLCB0KTtcbiAgICBpZiAoc24oZSkpXG4gICAgICByZXR1cm4gdm4oZSwgdCk7XG4gICAgaWYgKHVuKGUpKVxuICAgICAgcmV0dXJuIFpyKGUsIHQpO1xuICAgIGlmIChmbihlKSlcbiAgICAgIHJldHVybiBlaShlLCB0KTtcbiAgfVxuICB0aHJvdyBhbihlKTtcbn1cbmZ1bmN0aW9uIGx0KGUsIHQpIHtcbiAgcmV0dXJuIHQgPyB0aShlLCB0KSA6IFkoZSk7XG59XG5mdW5jdGlvbiBDdCgpIHtcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcbiAgICBlW3RdID0gYXJndW1lbnRzW3RdO1xuICB2YXIgbiA9IEJlKGUpO1xuICByZXR1cm4gbHQoZSwgbik7XG59XG5mdW5jdGlvbiBuaShlKSB7XG4gIHJldHVybiBlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oZSk7XG59XG52YXIgcmkgPSBvdChmdW5jdGlvbihlKSB7XG4gIHJldHVybiBmdW5jdGlvbihuKSB7XG4gICAgbiA9PT0gdm9pZCAwICYmIChuID0gbnVsbCksIGUodGhpcyksIHRoaXMubWVzc2FnZSA9IFwiVGltZW91dCBoYXMgb2NjdXJyZWRcIiwgdGhpcy5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIiwgdGhpcy5pbmZvID0gbjtcbiAgfTtcbn0pO1xuZnVuY3Rpb24gaWkoZSwgdCkge1xuICB2YXIgbiA9IG5pKGUpID8geyBmaXJzdDogZSB9IDogdHlwZW9mIGUgPT0gXCJudW1iZXJcIiA/IHsgZWFjaDogZSB9IDogZSwgciA9IG4uZmlyc3QsIGkgPSBuLmVhY2gsIG8gPSBuLndpdGgsIHMgPSBvID09PSB2b2lkIDAgPyBvaSA6IG8sIGEgPSBuLnNjaGVkdWxlciwgYyA9IGEgPT09IHZvaWQgMCA/IEZyIDogYSwgdSA9IG4ubWV0YSwgbCA9IHUgPT09IHZvaWQgMCA/IG51bGwgOiB1O1xuICBpZiAociA9PSBudWxsICYmIGkgPT0gbnVsbClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gdGltZW91dCBwcm92aWRlZC5cIik7XG4gIHJldHVybiBCKGZ1bmN0aW9uKGYsIGgpIHtcbiAgICB2YXIgZCwgbSwgcCA9IG51bGwsIGcgPSAwLCB2ID0gZnVuY3Rpb24oRSkge1xuICAgICAgbSA9IGVlKGgsIGMsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGQudW5zdWJzY3JpYmUoKSwgWShzKHtcbiAgICAgICAgICAgIG1ldGE6IGwsXG4gICAgICAgICAgICBsYXN0VmFsdWU6IHAsXG4gICAgICAgICAgICBzZWVuOiBnXG4gICAgICAgICAgfSkpLnN1YnNjcmliZShoKTtcbiAgICAgICAgfSBjYXRjaCAoUCkge1xuICAgICAgICAgIGguZXJyb3IoUCk7XG4gICAgICAgIH1cbiAgICAgIH0sIEUpO1xuICAgIH07XG4gICAgZCA9IGYuc3Vic2NyaWJlKGooaCwgZnVuY3Rpb24oRSkge1xuICAgICAgbSA9PSBudWxsIHx8IG0udW5zdWJzY3JpYmUoKSwgZysrLCBoLm5leHQocCA9IEUpLCBpID4gMCAmJiB2KGkpO1xuICAgIH0sIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgIG0gIT0gbnVsbCAmJiBtLmNsb3NlZCB8fCBtID09IG51bGwgfHwgbS51bnN1YnNjcmliZSgpLCBwID0gbnVsbDtcbiAgICB9KSksICFnICYmIHYociAhPSBudWxsID8gdHlwZW9mIHIgPT0gXCJudW1iZXJcIiA/IHIgOiArciAtIGMubm93KCkgOiBpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBvaShlKSB7XG4gIHRocm93IG5ldyByaShlKTtcbn1cbmZ1bmN0aW9uIGsoZSwgdCkge1xuICByZXR1cm4gQihmdW5jdGlvbihuLCByKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIG4uc3Vic2NyaWJlKGoociwgZnVuY3Rpb24obykge1xuICAgICAgci5uZXh0KGUuY2FsbCh0LCBvLCBpKyspKTtcbiAgICB9KSk7XG4gIH0pO1xufVxudmFyIHNpID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGFpKGUsIHQpIHtcbiAgcmV0dXJuIHNpKHQpID8gZS5hcHBseSh2b2lkIDAsIFNlKFtdLCBoZSh0KSkpIDogZSh0KTtcbn1cbmZ1bmN0aW9uIGNpKGUpIHtcbiAgcmV0dXJuIGsoZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBhaShlLCB0KTtcbiAgfSk7XG59XG5mdW5jdGlvbiB1aShlLCB0LCBuLCByLCBpLCBvLCBzLCBhKSB7XG4gIHZhciBjID0gW10sIHUgPSAwLCBsID0gMCwgZiA9ICExLCBoID0gZnVuY3Rpb24oKSB7XG4gICAgZiAmJiAhYy5sZW5ndGggJiYgIXUgJiYgdC5jb21wbGV0ZSgpO1xuICB9LCBkID0gZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiB1IDwgciA/IG0ocCkgOiBjLnB1c2gocCk7XG4gIH0sIG0gPSBmdW5jdGlvbihwKSB7XG4gICAgdSsrO1xuICAgIHZhciBnID0gITE7XG4gICAgWShuKHAsIGwrKykpLnN1YnNjcmliZShqKHQsIGZ1bmN0aW9uKHYpIHtcbiAgICAgIHQubmV4dCh2KTtcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIGcgPSAhMDtcbiAgICB9LCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGcpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdS0tO1xuICAgICAgICAgIGZvciAodmFyIHYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBFID0gYy5zaGlmdCgpO1xuICAgICAgICAgICAgcyB8fCBtKEUpO1xuICAgICAgICAgIH07IGMubGVuZ3RoICYmIHUgPCByOyApXG4gICAgICAgICAgICB2KCk7XG4gICAgICAgICAgaCgpO1xuICAgICAgICB9IGNhdGNoIChFKSB7XG4gICAgICAgICAgdC5lcnJvcihFKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIGUuc3Vic2NyaWJlKGoodCwgZCwgZnVuY3Rpb24oKSB7XG4gICAgZiA9ICEwLCBoKCk7XG4gIH0pKSwgZnVuY3Rpb24oKSB7XG4gIH07XG59XG5mdW5jdGlvbiBmdChlLCB0LCBuKSB7XG4gIHJldHVybiBuID09PSB2b2lkIDAgJiYgKG4gPSAxIC8gMCksIEEodCkgPyBmdChmdW5jdGlvbihyLCBpKSB7XG4gICAgcmV0dXJuIGsoZnVuY3Rpb24obywgcykge1xuICAgICAgcmV0dXJuIHQociwgbywgaSwgcyk7XG4gICAgfSkoWShlKHIsIGkpKSk7XG4gIH0sIG4pIDogKHR5cGVvZiB0ID09IFwibnVtYmVyXCIgJiYgKG4gPSB0KSwgQihmdW5jdGlvbihyLCBpKSB7XG4gICAgcmV0dXJuIHVpKHIsIGksIGUsIG4pO1xuICB9KSk7XG59XG5mdW5jdGlvbiBtbihlKSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSAxIC8gMCksIGZ0KGN0LCBlKTtcbn1cbmZ1bmN0aW9uIGxpKCkge1xuICByZXR1cm4gbW4oMSk7XG59XG5mdW5jdGlvbiBNZSgpIHtcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcbiAgICBlW3RdID0gYXJndW1lbnRzW3RdO1xuICByZXR1cm4gbGkoKShsdChlLCBCZShlKSkpO1xufVxudmFyIGZpID0gW1wiYWRkTGlzdGVuZXJcIiwgXCJyZW1vdmVMaXN0ZW5lclwiXSwgZGkgPSBbXCJhZGRFdmVudExpc3RlbmVyXCIsIFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiXSwgcGkgPSBbXCJvblwiLCBcIm9mZlwiXTtcbmZ1bmN0aW9uIFplKGUsIHQsIG4sIHIpIHtcbiAgaWYgKEEobikgJiYgKHIgPSBuLCBuID0gdm9pZCAwKSwgcilcbiAgICByZXR1cm4gWmUoZSwgdCwgbikucGlwZShjaShyKSk7XG4gIHZhciBpID0gaGUobWkoZSkgPyBkaS5tYXAoZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBmdW5jdGlvbihjKSB7XG4gICAgICByZXR1cm4gZVthXSh0LCBjLCBuKTtcbiAgICB9O1xuICB9KSA6IGhpKGUpID8gZmkubWFwKFB0KGUsIHQpKSA6IHZpKGUpID8gcGkubWFwKFB0KGUsIHQpKSA6IFtdLCAyKSwgbyA9IGlbMF0sIHMgPSBpWzFdO1xuICBpZiAoIW8gJiYgdXQoZSkpXG4gICAgcmV0dXJuIGZ0KGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBaZShhLCB0LCBuKTtcbiAgICB9KShZKGUpKTtcbiAgaWYgKCFvKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHRhcmdldFwiKTtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGEpIHtcbiAgICB2YXIgYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgdSA9IFtdLCBsID0gMDsgbCA8IGFyZ3VtZW50cy5sZW5ndGg7IGwrKylcbiAgICAgICAgdVtsXSA9IGFyZ3VtZW50c1tsXTtcbiAgICAgIHJldHVybiBhLm5leHQoMSA8IHUubGVuZ3RoID8gdSA6IHVbMF0pO1xuICAgIH07XG4gICAgcmV0dXJuIG8oYyksIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHMoYyk7XG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBQdChlLCB0KSB7XG4gIHJldHVybiBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHIpIHtcbiAgICAgIHJldHVybiBlW25dKHQsIHIpO1xuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBoaShlKSB7XG4gIHJldHVybiBBKGUuYWRkTGlzdGVuZXIpICYmIEEoZS5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiB2aShlKSB7XG4gIHJldHVybiBBKGUub24pICYmIEEoZS5vZmYpO1xufVxuZnVuY3Rpb24gbWkoZSkge1xuICByZXR1cm4gQShlLmFkZEV2ZW50TGlzdGVuZXIpICYmIEEoZS5yZW1vdmVFdmVudExpc3RlbmVyKTtcbn1cbmZ1bmN0aW9uIGdpKCkge1xuICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKVxuICAgIGVbdF0gPSBhcmd1bWVudHNbdF07XG4gIHZhciBuID0gQmUoZSksIHIgPSBCcihlLCAxIC8gMCksIGkgPSBlO1xuICByZXR1cm4gaS5sZW5ndGggPyBpLmxlbmd0aCA9PT0gMSA/IFkoaVswXSkgOiBtbihyKShsdChpLCBuKSkgOiBqcjtcbn1cbmZ1bmN0aW9uIGR0KGUsIHQpIHtcbiAgcmV0dXJuIEIoZnVuY3Rpb24obiwgcikge1xuICAgIHZhciBpID0gMDtcbiAgICBuLnN1YnNjcmliZShqKHIsIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiBlLmNhbGwodCwgbywgaSsrKSAmJiByLm5leHQobyk7XG4gICAgfSkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGJpKGUsIHQsIG4sIHIsIGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG8sIHMpIHtcbiAgICB2YXIgYSA9IG4sIGMgPSB0LCB1ID0gMDtcbiAgICBvLnN1YnNjcmliZShqKHMsIGZ1bmN0aW9uKGwpIHtcbiAgICAgIHZhciBmID0gdSsrO1xuICAgICAgYyA9IGEgPyBlKGMsIGwsIGYpIDogKGEgPSAhMCwgbCksIHMubmV4dChjKTtcbiAgICB9LCBpKSk7XG4gIH07XG59XG5mdW5jdGlvbiB5aShlLCB0KSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSBjdCksIGUgPSBlID8/IHdpLCBCKGZ1bmN0aW9uKG4sIHIpIHtcbiAgICB2YXIgaSwgbyA9ICEwO1xuICAgIG4uc3Vic2NyaWJlKGoociwgZnVuY3Rpb24ocykge1xuICAgICAgdmFyIGEgPSB0KHMpO1xuICAgICAgKG8gfHwgIWUoaSwgYSkpICYmIChvID0gITEsIGkgPSBhLCByLm5leHQocykpO1xuICAgIH0pKTtcbiAgfSk7XG59XG5mdW5jdGlvbiB3aShlLCB0KSB7XG4gIHJldHVybiBlID09PSB0O1xufVxuZnVuY3Rpb24gU2koZSkge1xuICByZXR1cm4gQihmdW5jdGlvbih0LCBuKSB7XG4gICAgdHJ5IHtcbiAgICAgIHQuc3Vic2NyaWJlKG4pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBuLmFkZChlKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24geGkoZSwgdCkge1xuICByZXR1cm4gQihiaShlLCB0LCBhcmd1bWVudHMubGVuZ3RoID49IDIsICEwKSk7XG59XG5mdW5jdGlvbiBFaShlKSB7XG4gIHJldHVybiBCKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICB2YXIgciA9ICExLCBpID0gaihuLCBmdW5jdGlvbigpIHtcbiAgICAgIGkgPT0gbnVsbCB8fCBpLnVuc3Vic2NyaWJlKCksIHIgPSAhMDtcbiAgICB9LCBJZSk7XG4gICAgWShlKS5zdWJzY3JpYmUoaSksIHQuc3Vic2NyaWJlKGoobiwgZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIHIgJiYgbi5uZXh0KG8pO1xuICAgIH0pKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBSKCkge1xuICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKVxuICAgIGVbdF0gPSBhcmd1bWVudHNbdF07XG4gIHZhciBuID0gQmUoZSk7XG4gIHJldHVybiBCKGZ1bmN0aW9uKHIsIGkpIHtcbiAgICAobiA/IE1lKGUsIHIsIG4pIDogTWUoZSwgcikpLnN1YnNjcmliZShpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnbihlLCB0KSB7XG4gIHJldHVybiBCKGZ1bmN0aW9uKG4sIHIpIHtcbiAgICB2YXIgaSA9IG51bGwsIG8gPSAwLCBzID0gITEsIGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzICYmICFpICYmIHIuY29tcGxldGUoKTtcbiAgICB9O1xuICAgIG4uc3Vic2NyaWJlKGoociwgZnVuY3Rpb24oYykge1xuICAgICAgaSA9PSBudWxsIHx8IGkudW5zdWJzY3JpYmUoKTtcbiAgICAgIHZhciB1ID0gMCwgbCA9IG8rKztcbiAgICAgIFkoZShjLCBsKSkuc3Vic2NyaWJlKGkgPSBqKHIsIGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIHIubmV4dCh0ID8gdChjLCBmLCBsLCB1KyspIDogZik7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaSA9IG51bGwsIGEoKTtcbiAgICAgIH0pKTtcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHMgPSAhMCwgYSgpO1xuICAgIH0pKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBBdChlKSB7XG4gIHJldHVybiBCKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICBZKGUpLnN1YnNjcmliZShqKG4sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG4uY29tcGxldGUoKTtcbiAgICB9LCBJZSkpLCAhbi5jbG9zZWQgJiYgdC5zdWJzY3JpYmUobik7XG4gIH0pO1xufVxudmFyIFRpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBDaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLCBQaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBrdCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIEFpID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwga2kgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBPdCA9IChlLCB0LCBuKSA9PiB0IGluIGUgPyBUaShlLCB0LCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiBuIH0pIDogZVt0XSA9IG4sIFEgPSAoZSwgdCkgPT4ge1xuICBmb3IgKHZhciBuIGluIHQgfHwgKHQgPSB7fSkpXG4gICAgQWkuY2FsbCh0LCBuKSAmJiBPdChlLCBuLCB0W25dKTtcbiAgaWYgKGt0KVxuICAgIGZvciAodmFyIG4gb2Yga3QodCkpXG4gICAgICBraS5jYWxsKHQsIG4pICYmIE90KGUsIG4sIHRbbl0pO1xuICByZXR1cm4gZTtcbn0sIHllID0gKGUsIHQpID0+IENpKGUsIFBpKHQpKSwgVyA9IChlLCB0LCBuKSA9PiBuZXcgUHJvbWlzZSgociwgaSkgPT4ge1xuICB2YXIgbyA9IChjKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGEobi5uZXh0KGMpKTtcbiAgICB9IGNhdGNoICh1KSB7XG4gICAgICBpKHUpO1xuICAgIH1cbiAgfSwgcyA9IChjKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGEobi50aHJvdyhjKSk7XG4gICAgfSBjYXRjaCAodSkge1xuICAgICAgaSh1KTtcbiAgICB9XG4gIH0sIGEgPSAoYykgPT4gYy5kb25lID8gcihjLnZhbHVlKSA6IFByb21pc2UucmVzb2x2ZShjLnZhbHVlKS50aGVuKG8sIHMpO1xuICBhKChuID0gbi5hcHBseShlLCB0KSkubmV4dCgpKTtcbn0pLCBibiA9IFwibGtcIjtcbmZ1bmN0aW9uIEYoZSkge1xuICByZXR1cm4gdHlwZW9mIGUgPiBcInVcIiA/ICExIDogT2koZSkgfHwgTGkoZSk7XG59XG5mdW5jdGlvbiBPaShlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gZSA/IGUuaGFzT3duUHJvcGVydHkoXCJwYXJ0aWNpcGFudFwiKSAmJiBlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpICYmIGUuaGFzT3duUHJvcGVydHkoXCJ0cmFja1wiKSAmJiB0eXBlb2YgKCh0ID0gZS5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHQudHJhY2spIDwgXCJ1XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIExpKGUpIHtcbiAgcmV0dXJuIGUgPyBlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSAmJiBlLmhhc093blByb3BlcnR5KFwicHVibGljYXRpb25cIikgJiYgdHlwZW9mIGUucHVibGljYXRpb24gPCBcInVcIiA6ICExO1xufVxuZnVuY3Rpb24geGUoZSkge1xuICByZXR1cm4gZSA/IGUuaGFzT3duUHJvcGVydHkoXCJwYXJ0aWNpcGFudFwiKSAmJiBlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpICYmIHR5cGVvZiBlLnB1YmxpY2F0aW9uID4gXCJ1XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIE4oZSkge1xuICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZSA9PSBcIm51bWJlclwiKVxuICAgIHJldHVybiBgJHtlfWA7XG4gIGlmICh4ZShlKSlcbiAgICByZXR1cm4gYCR7ZS5wYXJ0aWNpcGFudC5pZGVudGl0eX1fJHtlLnNvdXJjZX1fcGxhY2Vob2xkZXJgO1xuICBpZiAoRihlKSlcbiAgICByZXR1cm4gYCR7ZS5wYXJ0aWNpcGFudC5pZGVudGl0eX1fJHtlLnB1YmxpY2F0aW9uLnNvdXJjZX1fJHtlLnB1YmxpY2F0aW9uLnRyYWNrU2lkfWA7XG4gIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZ2VuZXJhdGUgYSBpZCBmb3IgdGhlIGdpdmVuIHRyYWNrIHJlZmVyZW5jZTogJHtlfWApO1xufVxuZnVuY3Rpb24gVG8oZSwgdCkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwIHx8IHQgPT09IHZvaWQgMCA/ICExIDogRihlKSAmJiBGKHQpID8gZS5wdWJsaWNhdGlvbi50cmFja1NpZCA9PT0gdC5wdWJsaWNhdGlvbi50cmFja1NpZCA6IE4oZSkgPT09IE4odCk7XG59XG5mdW5jdGlvbiBDbyhlLCB0KSB7XG4gIHJldHVybiB0eXBlb2YgdCA+IFwidVwiID8gITEgOiBGKGUpID8gdC5zb21lKFxuICAgIChuKSA9PiBuLnBhcnRpY2lwYW50LmlkZW50aXR5ID09PSBlLnBhcnRpY2lwYW50LmlkZW50aXR5ICYmIEYobikgJiYgbi5wdWJsaWNhdGlvbi50cmFja1NpZCA9PT0gZS5wdWJsaWNhdGlvbi50cmFja1NpZFxuICApIDogeGUoZSkgPyB0LnNvbWUoXG4gICAgKG4pID0+IG4ucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IGUucGFydGljaXBhbnQuaWRlbnRpdHkgJiYgeGUobikgJiYgbi5zb3VyY2UgPT09IGUuc291cmNlXG4gICkgOiAhMTtcbn1cbmZ1bmN0aW9uIF9pKGUsIHQpIHtcbiAgcmV0dXJuIHhlKGUpICYmIEYodCkgJiYgdC5wYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gZS5wYXJ0aWNpcGFudC5pZGVudGl0eSAmJiB0LnNvdXJjZSA9PT0gZS5zb3VyY2U7XG59XG5mdW5jdGlvbiBQbygpIHtcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBlLnN0eWxlLndpZHRoID0gXCIxMDAlXCIsIGUuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgdC5zdHlsZS50b3AgPSBcIjBweFwiLCB0LnN0eWxlLmxlZnQgPSBcIjBweFwiLCB0LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiLCB0LnN0eWxlLndpZHRoID0gXCIyMDBweFwiLCB0LnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIiwgdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCIsIHQuYXBwZW5kQ2hpbGQoZSksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7XG4gIGNvbnN0IG4gPSBlLm9mZnNldFdpZHRoO1xuICB0LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcbiAgbGV0IHIgPSBlLm9mZnNldFdpZHRoO1xuICByZXR1cm4gbiA9PT0gciAmJiAociA9IHQuY2xpZW50V2lkdGgpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpLCBuIC0gcjtcbn1cbmZ1bmN0aW9uIEFvKCkge1xuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50IDwgXCJ1XCI7XG59XG5mdW5jdGlvbiBJaShlKSB7XG4gIGUgPSBRKHt9LCBlKTtcbiAgY29uc3QgdCA9IFwiKD86KD86W2Etel0rOik/Ly8pP1wiLCBuID0gXCIoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT9cIiwgciA9IG5ldyBSZWdFeHAoXG4gICAgXCIoPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKD86XFxcXC4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKXszfVwiLFxuICAgIFwiZ1wiXG4gICkuc291cmNlLCB1ID0gYCg/OiR7dH18d3d3XFxcXC4pJHtufSg/OmxvY2FsaG9zdHwke3J9fCg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XVstX10qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKig/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpXFxcXC4/KSg/OjpcXFxcZHsyLDV9KT8oPzpbLz8jXVteXFxcXHNcIl0qKT9gO1xuICByZXR1cm4gZS5leGFjdCA/IG5ldyBSZWdFeHAoYCg/Ol4ke3V9JClgLCBcImlcIikgOiBuZXcgUmVnRXhwKHUsIFwiaWdcIik7XG59XG52YXIgTHQgPSBcIlteXFxcXC5cXFxcc0A6XSg/OlteXFxcXHNAOl0qW15cXFxcc0A6XFxcXC5dKT9AW15cXFxcLlxcXFxzQF0rKD86XFxcXC5bXlxcXFwuXFxcXHNAXSspKlwiO1xuZnVuY3Rpb24gTWkoeyBleGFjdDogZSB9ID0ge30pIHtcbiAgcmV0dXJuIGUgPyBuZXcgUmVnRXhwKGBeJHtMdH0kYCkgOiBuZXcgUmVnRXhwKEx0LCBcImdcIik7XG59XG5mdW5jdGlvbiBrbyhlLCB0KSB7XG4gIHJldHVybiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgeyB4OiBuLCB5OiByIH0gPSB5aWVsZCBncihlLCB0LCB7XG4gICAgICBwbGFjZW1lbnQ6IFwidG9wXCIsXG4gICAgICBtaWRkbGV3YXJlOiBbaHIoNiksIG1yKCksIHZyKHsgcGFkZGluZzogNSB9KV1cbiAgICB9KTtcbiAgICByZXR1cm4geyB4OiBuLCB5OiByIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gT28oZSwgdCkge1xuICByZXR1cm4gIWUuY29udGFpbnModC50YXJnZXQpO1xufVxudmFyIExvID0gKCkgPT4gKHtcbiAgZW1haWw6IE1pKCksXG4gIHVybDogSWkoe30pXG59KTtcbmZ1bmN0aW9uIF9vKGUsIHQpIHtcbiAgY29uc3QgbiA9IE9iamVjdC5lbnRyaWVzKHQpLm1hcChcbiAgICAoW28sIHNdLCBhKSA9PiBBcnJheS5mcm9tKGUubWF0Y2hBbGwocykpLm1hcCgoeyBpbmRleDogYywgMDogdSB9KSA9PiAoe1xuICAgICAgdHlwZTogbyxcbiAgICAgIHdlaWdodDogYSxcbiAgICAgIGNvbnRlbnQ6IHUsXG4gICAgICBpbmRleDogYyA/PyAwXG4gICAgfSkpXG4gICkuZmxhdCgpLnNvcnQoKG8sIHMpID0+IHtcbiAgICBjb25zdCBhID0gby5pbmRleCAtIHMuaW5kZXg7XG4gICAgcmV0dXJuIGEgIT09IDAgPyBhIDogby53ZWlnaHQgLSBzLndlaWdodDtcbiAgfSkuZmlsdGVyKCh7IGluZGV4OiBvIH0sIHMsIGEpID0+IHtcbiAgICBpZiAocyA9PT0gMCkgcmV0dXJuICEwO1xuICAgIGNvbnN0IGMgPSBhW3MgLSAxXTtcbiAgICByZXR1cm4gYy5pbmRleCArIGMuY29udGVudC5sZW5ndGggPD0gbztcbiAgfSksIHIgPSBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGNvbnN0IHsgdHlwZTogbywgY29udGVudDogcywgaW5kZXg6IGEgfSBvZiBuKVxuICAgIGEgPiBpICYmIHIucHVzaChlLnN1YnN0cmluZyhpLCBhKSksIHIucHVzaCh7IHR5cGU6IG8sIGNvbnRlbnQ6IHMgfSksIGkgPSBhICsgcy5sZW5ndGg7XG4gIHJldHVybiBlLmxlbmd0aCA+IGkgJiYgci5wdXNoKGUuc3Vic3RyaW5nKGkpKSwgcjtcbn1cbnZhciBEaSA9IFtcbiAgYi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLFxuICBiLlJvb21NZXRhZGF0YUNoYW5nZWQsXG4gIGIuQWN0aXZlU3BlYWtlcnNDaGFuZ2VkLFxuICBiLkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgYi5QYXJ0aWNpcGFudENvbm5lY3RlZCxcbiAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgYi5QYXJ0aWNpcGFudFBlcm1pc3Npb25zQ2hhbmdlZCxcbiAgYi5QYXJ0aWNpcGFudE1ldGFkYXRhQ2hhbmdlZCxcbiAgYi5QYXJ0aWNpcGFudE5hbWVDaGFuZ2VkLFxuICBiLlBhcnRpY2lwYW50QXR0cmlidXRlc0NoYW5nZWQsXG4gIGIuVHJhY2tNdXRlZCxcbiAgYi5UcmFja1VubXV0ZWQsXG4gIGIuVHJhY2tQdWJsaXNoZWQsXG4gIGIuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgYi5UcmFja1N0cmVhbVN0YXRlQ2hhbmdlZCxcbiAgYi5UcmFja1N1YnNjcmlwdGlvbkZhaWxlZCxcbiAgYi5UcmFja1N1YnNjcmlwdGlvblBlcm1pc3Npb25DaGFuZ2VkLFxuICBiLlRyYWNrU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZFxuXSwgeW4gPSBbXG4gIC4uLkRpLFxuICBiLkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gIGIuTG9jYWxUcmFja1VucHVibGlzaGVkXG5dLCBSaSA9IFtcbiAgeS5UcmFja1B1Ymxpc2hlZCxcbiAgeS5UcmFja1VucHVibGlzaGVkLFxuICB5LlRyYWNrTXV0ZWQsXG4gIHkuVHJhY2tVbm11dGVkLFxuICB5LlRyYWNrU3RyZWFtU3RhdGVDaGFuZ2VkLFxuICB5LlRyYWNrU3Vic2NyaWJlZCxcbiAgeS5UcmFja1Vuc3Vic2NyaWJlZCxcbiAgeS5UcmFja1N1YnNjcmlwdGlvblBlcm1pc3Npb25DaGFuZ2VkLFxuICB5LlRyYWNrU3Vic2NyaXB0aW9uRmFpbGVkLFxuICB5LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gIHkuTG9jYWxUcmFja1VucHVibGlzaGVkXG5dLCBOaSA9IFtcbiAgeS5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIHkuSXNTcGVha2luZ0NoYW5nZWQsXG4gIHkuUGFydGljaXBhbnRNZXRhZGF0YUNoYW5nZWQsXG4gIHkuUGFydGljaXBhbnRQZXJtaXNzaW9uc0NoYW5nZWQsXG4gIHkuVHJhY2tNdXRlZCxcbiAgeS5UcmFja1VubXV0ZWQsXG4gIHkuVHJhY2tQdWJsaXNoZWQsXG4gIHkuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgeS5UcmFja1N0cmVhbVN0YXRlQ2hhbmdlZCxcbiAgeS5UcmFja1N1YnNjcmlwdGlvbkZhaWxlZCxcbiAgeS5UcmFja1N1YnNjcmlwdGlvblBlcm1pc3Npb25DaGFuZ2VkLFxuICB5LlRyYWNrU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZFxuXSwgd24gPSBbXG4gIC4uLk5pLFxuICB5LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gIHkuTG9jYWxUcmFja1VucHVibGlzaGVkXG5dLCBfID0gU3IuZ2V0TG9nZ2VyKFwibGstY29tcG9uZW50cy1qc1wiKTtcbl8uc2V0RGVmYXVsdExldmVsKFwiV0FSTlwiKTtcbmZ1bmN0aW9uIElvKGUsIHQgPSB7fSkge1xuICB2YXIgbjtcbiAgXy5zZXRMZXZlbChlKSwgTm4oKG4gPSB0LmxpdmVLaXRDbGllbnRMb2dMZXZlbCkgIT0gbnVsbCA/IG4gOiBlKTtcbn1cbmZ1bmN0aW9uIE1vKGUsIHQgPSB7fSkge1xuICB2YXIgbjtcbiAgY29uc3QgciA9IF8ubWV0aG9kRmFjdG9yeTtcbiAgXy5tZXRob2RGYWN0b3J5ID0gKGksIG8sIHMpID0+IHtcbiAgICBjb25zdCBhID0gcihpLCBvLCBzKSwgYyA9IHB0W2ldLCB1ID0gYyA+PSBvICYmIGMgPCBwdC5zaWxlbnQ7XG4gICAgcmV0dXJuIChsLCBmKSA9PiB7XG4gICAgICBmID8gYShsLCBmKSA6IGEobCksIHUgJiYgZShjLCBsLCBmKTtcbiAgICB9O1xuICB9LCBfLnNldExldmVsKF8uZ2V0TGV2ZWwoKSksICRuKChuID0gdC5saXZlS2l0Q2xpZW50TG9nRXh0ZW5zaW9uKSAhPSBudWxsID8gbiA6IGUpO1xufVxudmFyIERvID0gW1xuICB7XG4gICAgY29sdW1uczogMSxcbiAgICByb3dzOiAxXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiAxLFxuICAgIHJvd3M6IDIsXG4gICAgb3JpZW50YXRpb246IFwicG9ydHJhaXRcIlxuICB9LFxuICB7XG4gICAgY29sdW1uczogMixcbiAgICByb3dzOiAxLFxuICAgIG9yaWVudGF0aW9uOiBcImxhbmRzY2FwZVwiXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiAyLFxuICAgIHJvd3M6IDIsXG4gICAgbWluV2lkdGg6IDU2MFxuICB9LFxuICB7XG4gICAgY29sdW1uczogMyxcbiAgICByb3dzOiAzLFxuICAgIG1pbldpZHRoOiA3MDBcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDQsXG4gICAgcm93czogNCxcbiAgICBtaW5XaWR0aDogOTYwXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiA1LFxuICAgIHJvd3M6IDUsXG4gICAgbWluV2lkdGg6IDExMDBcbiAgfVxuXTtcbmZ1bmN0aW9uICRpKGUsIHQsIG4sIHIpIHtcbiAgaWYgKGUubGVuZ3RoIDwgMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgZ3JpZCBsYXlvdXQgZGVmaW5pdGlvbiBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgY29uc3QgaSA9IFVpKGUpO1xuICBpZiAobiA8PSAwIHx8IHIgPD0gMClcbiAgICByZXR1cm4gaVswXTtcbiAgbGV0IG8gPSAwO1xuICBjb25zdCBzID0gbiAvIHIgPiAxID8gXCJsYW5kc2NhcGVcIiA6IFwicG9ydHJhaXRcIjtcbiAgbGV0IGEgPSBpLmZpbmQoKGMsIHUsIGwpID0+IHtcbiAgICBvID0gdTtcbiAgICBjb25zdCBmID0gbC5maW5kSW5kZXgoKGgsIGQpID0+IHtcbiAgICAgIGNvbnN0IG0gPSAhaC5vcmllbnRhdGlvbiB8fCBoLm9yaWVudGF0aW9uID09PSBzLCBwID0gZCA+IHUsIGcgPSBoLm1heFRpbGVzID09PSBjLm1heFRpbGVzO1xuICAgICAgcmV0dXJuIHAgJiYgZyAmJiBtO1xuICAgIH0pICE9PSAtMTtcbiAgICByZXR1cm4gYy5tYXhUaWxlcyA+PSB0ICYmICFmO1xuICB9KTtcbiAgaWYgKGEgPT09IHZvaWQgMClcbiAgICBpZiAoYSA9IGlbaS5sZW5ndGggLSAxXSwgYSlcbiAgICAgIF8ud2FybihcbiAgICAgICAgYE5vIGxheW91dCBmb3VuZCBmb3I6IHBhcnRpY2lwYW50Q291bnQ6ICR7dH0sIHdpZHRoL2hlaWdodDogJHtufS8ke3J9IGZhbGxiYWNrIHRvIGJpZ2dlc3QgYXZhaWxhYmxlIGxheW91dCAoJHthfSkuYFxuICAgICAgKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBsYXlvdXQgb3IgZmFsbGJhY2sgbGF5b3V0IGZvdW5kLlwiKTtcbiAgaWYgKChuIDwgYS5taW5XaWR0aCB8fCByIDwgYS5taW5IZWlnaHQpICYmIG8gPiAwKSB7XG4gICAgY29uc3QgYyA9IGlbbyAtIDFdO1xuICAgIGEgPSAkaShcbiAgICAgIGkuc2xpY2UoMCwgbyksXG4gICAgICBjLm1heFRpbGVzLFxuICAgICAgbixcbiAgICAgIHJcbiAgICApO1xuICB9XG4gIHJldHVybiBhO1xufVxuZnVuY3Rpb24gVWkoZSkge1xuICByZXR1cm4gWy4uLmVdLm1hcCgodCkgPT4ge1xuICAgIHZhciBuLCByO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBgJHt0LmNvbHVtbnN9eCR7dC5yb3dzfWAsXG4gICAgICBjb2x1bW5zOiB0LmNvbHVtbnMsXG4gICAgICByb3dzOiB0LnJvd3MsXG4gICAgICBtYXhUaWxlczogdC5jb2x1bW5zICogdC5yb3dzLFxuICAgICAgbWluV2lkdGg6IChuID0gdC5taW5XaWR0aCkgIT0gbnVsbCA/IG4gOiAwLFxuICAgICAgbWluSGVpZ2h0OiAociA9IHQubWluSGVpZ2h0KSAhPSBudWxsID8gciA6IDAsXG4gICAgICBvcmllbnRhdGlvbjogdC5vcmllbnRhdGlvblxuICAgIH07XG4gIH0pLnNvcnQoKHQsIG4pID0+IHQubWF4VGlsZXMgIT09IG4ubWF4VGlsZXMgPyB0Lm1heFRpbGVzIC0gbi5tYXhUaWxlcyA6IHQubWluV2lkdGggIT09IDAgfHwgbi5taW5XaWR0aCAhPT0gMCA/IHQubWluV2lkdGggLSBuLm1pbldpZHRoIDogdC5taW5IZWlnaHQgIT09IDAgfHwgbi5taW5IZWlnaHQgIT09IDAgPyB0Lm1pbkhlaWdodCAtIG4ubWluSGVpZ2h0IDogMCk7XG59XG5mdW5jdGlvbiBSbygpIHtcbiAgcmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3IgPCBcInVcIiAmJiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmICEhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE7XG59XG5mdW5jdGlvbiBObyhlLCB0KSB7XG4gIHZhciBuO1xuICByZXR1cm4geWUoUSh7fSwgZSksIHtcbiAgICByZWNlaXZlZEF0TWVkaWFUaW1lc3RhbXA6IChuID0gdC5ydHBUaW1lc3RhbXApICE9IG51bGwgPyBuIDogMCxcbiAgICByZWNlaXZlZEF0OiB0LnRpbWVzdGFtcFxuICB9KTtcbn1cbmZ1bmN0aW9uICRvKGUsIHQsIG4pIHtcbiAgcmV0dXJuIFsuLi5lLCAuLi50XS5yZWR1Y2VSaWdodCgociwgaSkgPT4gKHIuZmluZCgobykgPT4gby5pZCA9PT0gaS5pZCkgfHwgci51bnNoaWZ0KGkpLCByKSwgW10pLnNsaWNlKDAgLSBuKTtcbn1cbnZhciBTbiA9IFtdLCB4biA9IHtcbiAgc2hvd0NoYXQ6ICExLFxuICB1bnJlYWRNZXNzYWdlczogMCxcbiAgc2hvd1NldHRpbmdzOiAhMVxufTtcbmZ1bmN0aW9uIEZpKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBVbyhlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGUpICYmIGUuZmlsdGVyKEZpKS5sZW5ndGggPiAwO1xufVxuZnVuY3Rpb24gRW4oZSwgdCkge1xuICByZXR1cm4gdC5hdWRpb0xldmVsIC0gZS5hdWRpb0xldmVsO1xufVxuZnVuY3Rpb24gVG4oZSwgdCkge1xuICByZXR1cm4gZS5pc1NwZWFraW5nID09PSB0LmlzU3BlYWtpbmcgPyAwIDogZS5pc1NwZWFraW5nID8gLTEgOiAxO1xufVxuZnVuY3Rpb24gQ24oZSwgdCkge1xuICB2YXIgbiwgciwgaSwgbztcbiAgcmV0dXJuIGUubGFzdFNwb2tlQXQgIT09IHZvaWQgMCB8fCB0Lmxhc3RTcG9rZUF0ICE9PSB2b2lkIDAgPyAoKHIgPSAobiA9IHQubGFzdFNwb2tlQXQpID09IG51bGwgPyB2b2lkIDAgOiBuLmdldFRpbWUoKSkgIT0gbnVsbCA/IHIgOiAwKSAtICgobyA9IChpID0gZS5sYXN0U3Bva2VBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuZ2V0VGltZSgpKSAhPSBudWxsID8gbyA6IDApIDogMDtcbn1cbmZ1bmN0aW9uIERlKGUsIHQpIHtcbiAgdmFyIG4sIHIsIGksIG87XG4gIHJldHVybiAoKHIgPSAobiA9IGUuam9pbmVkQXQpID09IG51bGwgPyB2b2lkIDAgOiBuLmdldFRpbWUoKSkgIT0gbnVsbCA/IHIgOiAwKSAtICgobyA9IChpID0gdC5qb2luZWRBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuZ2V0VGltZSgpKSAhPSBudWxsID8gbyA6IDApO1xufVxuZnVuY3Rpb24gamkoZSwgdCkge1xuICByZXR1cm4gRihlKSA/IEYodCkgPyAwIDogLTEgOiBGKHQpID8gMSA6IDA7XG59XG5mdW5jdGlvbiBXaShlLCB0KSB7XG4gIGNvbnN0IG4gPSBlLnBhcnRpY2lwYW50LmlzQ2FtZXJhRW5hYmxlZCwgciA9IHQucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkO1xuICByZXR1cm4gbiAhPT0gciA/IG4gPyAtMSA6IDEgOiAwO1xufVxuZnVuY3Rpb24gRm8oZSkge1xuICBjb25zdCB0ID0gW10sIG4gPSBbXSwgciA9IFtdLCBpID0gW107XG4gIGUuZm9yRWFjaCgoYSkgPT4ge1xuICAgIGEucGFydGljaXBhbnQuaXNMb2NhbCAmJiBhLnNvdXJjZSA9PT0gRC5Tb3VyY2UuQ2FtZXJhID8gdC5wdXNoKGEpIDogYS5zb3VyY2UgPT09IEQuU291cmNlLlNjcmVlblNoYXJlID8gbi5wdXNoKGEpIDogYS5zb3VyY2UgPT09IEQuU291cmNlLkNhbWVyYSA/IHIucHVzaChhKSA6IGkucHVzaChhKTtcbiAgfSk7XG4gIGNvbnN0IG8gPSBCaShuKSwgcyA9IFZpKHIpO1xuICByZXR1cm4gWy4uLnQsIC4uLm8sIC4uLnMsIC4uLmldO1xufVxuZnVuY3Rpb24gQmkoZSkge1xuICBjb25zdCB0ID0gW10sIG4gPSBbXTtcbiAgcmV0dXJuIGUuZm9yRWFjaCgoaSkgPT4ge1xuICAgIGkucGFydGljaXBhbnQuaXNMb2NhbCA/IHQucHVzaChpKSA6IG4ucHVzaChpKTtcbiAgfSksIHQuc29ydCgoaSwgbykgPT4gRGUoaS5wYXJ0aWNpcGFudCwgby5wYXJ0aWNpcGFudCkpLCBuLnNvcnQoKGksIG8pID0+IERlKGkucGFydGljaXBhbnQsIG8ucGFydGljaXBhbnQpKSwgWy4uLm4sIC4uLnRdO1xufVxuZnVuY3Rpb24gVmkoZSkge1xuICBjb25zdCB0ID0gW10sIG4gPSBbXTtcbiAgcmV0dXJuIGUuZm9yRWFjaCgocikgPT4ge1xuICAgIHIucGFydGljaXBhbnQuaXNMb2NhbCA/IHQucHVzaChyKSA6IG4ucHVzaChyKTtcbiAgfSksIG4uc29ydCgociwgaSkgPT4gci5wYXJ0aWNpcGFudC5pc1NwZWFraW5nICYmIGkucGFydGljaXBhbnQuaXNTcGVha2luZyA/IEVuKHIucGFydGljaXBhbnQsIGkucGFydGljaXBhbnQpIDogci5wYXJ0aWNpcGFudC5pc1NwZWFraW5nICE9PSBpLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcgPyBUbihyLnBhcnRpY2lwYW50LCBpLnBhcnRpY2lwYW50KSA6IHIucGFydGljaXBhbnQubGFzdFNwb2tlQXQgIT09IGkucGFydGljaXBhbnQubGFzdFNwb2tlQXQgPyBDbihyLnBhcnRpY2lwYW50LCBpLnBhcnRpY2lwYW50KSA6IEYocikgIT09IEYoaSkgPyBqaShyLCBpKSA6IHIucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkICE9PSBpLnBhcnRpY2lwYW50LmlzQ2FtZXJhRW5hYmxlZCA/IFdpKHIsIGkpIDogRGUoci5wYXJ0aWNpcGFudCwgaS5wYXJ0aWNpcGFudCkpLCBbLi4udCwgLi4ubl07XG59XG5mdW5jdGlvbiBqbyhlKSB7XG4gIGNvbnN0IHQgPSBbLi4uZV07XG4gIHQuc29ydCgociwgaSkgPT4ge1xuICAgIGlmIChyLmlzU3BlYWtpbmcgJiYgaS5pc1NwZWFraW5nKVxuICAgICAgcmV0dXJuIEVuKHIsIGkpO1xuICAgIGlmIChyLmlzU3BlYWtpbmcgIT09IGkuaXNTcGVha2luZylcbiAgICAgIHJldHVybiBUbihyLCBpKTtcbiAgICBpZiAoci5sYXN0U3Bva2VBdCAhPT0gaS5sYXN0U3Bva2VBdClcbiAgICAgIHJldHVybiBDbihyLCBpKTtcbiAgICBjb25zdCBvID0gci52aWRlb1RyYWNrUHVibGljYXRpb25zLnNpemUgPiAwLCBzID0gaS52aWRlb1RyYWNrUHVibGljYXRpb25zLnNpemUgPiAwO1xuICAgIHJldHVybiBvICE9PSBzID8gbyA/IC0xIDogMSA6IERlKHIsIGkpO1xuICB9KTtcbiAgY29uc3QgbiA9IHQuZmluZCgocikgPT4gci5pc0xvY2FsKTtcbiAgaWYgKG4pIHtcbiAgICBjb25zdCByID0gdC5pbmRleE9mKG4pO1xuICAgIHIgPj0gMCAmJiAodC5zcGxpY2UociwgMSksIHQubGVuZ3RoID4gMCA/IHQuc3BsaWNlKDAsIDAsIG4pIDogdC5wdXNoKG4pKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIEhpKGUsIHQpIHtcbiAgcmV0dXJuIGUucmVkdWNlKFxuICAgIChuLCByLCBpKSA9PiBpICUgdCA9PT0gMCA/IFsuLi5uLCBbcl1dIDogWy4uLm4uc2xpY2UoMCwgLTEpLCBbLi4ubi5zbGljZSgtMSlbMF0sIHJdXSxcbiAgICBbXVxuICApO1xufVxuZnVuY3Rpb24gX3QoZSwgdCkge1xuICBjb25zdCBuID0gTWF0aC5tYXgoZS5sZW5ndGgsIHQubGVuZ3RoKTtcbiAgcmV0dXJuIG5ldyBBcnJheShuKS5maWxsKFtdKS5tYXAoKHIsIGkpID0+IFtlW2ldLCB0W2ldXSk7XG59XG5mdW5jdGlvbiBSZShlLCB0LCBuKSB7XG4gIHJldHVybiBlLmZpbHRlcigocikgPT4gIXQubWFwKChpKSA9PiBuKGkpKS5pbmNsdWRlcyhuKHIpKSk7XG59XG5mdW5jdGlvbiBldChlKSB7XG4gIHJldHVybiBlLm1hcCgodCkgPT4gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdCA9PSBcIm51bWJlclwiID8gYCR7dH1gIDogTih0KSk7XG59XG5mdW5jdGlvbiB6aShlLCB0KSB7XG4gIHJldHVybiB7XG4gICAgZHJvcHBlZDogUmUoZSwgdCwgTiksXG4gICAgYWRkZWQ6IFJlKHQsIGUsIE4pXG4gIH07XG59XG5mdW5jdGlvbiBZaShlKSB7XG4gIHJldHVybiBlLmFkZGVkLmxlbmd0aCAhPT0gMCB8fCBlLmRyb3BwZWQubGVuZ3RoICE9PSAwO1xufVxuZnVuY3Rpb24gdHQoZSwgdCkge1xuICBjb25zdCBuID0gdC5maW5kSW5kZXgoXG4gICAgKHIpID0+IE4ocikgPT09IE4oZSlcbiAgKTtcbiAgaWYgKG4gPT09IC0xKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBFbGVtZW50IG5vdCBwYXJ0IG9mIHRoZSBhcnJheTogJHtOKFxuICAgICAgICBlXG4gICAgICApfSBub3QgaW4gJHtldCh0KX1gXG4gICAgKTtcbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBHaShlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSB0dChlLCBuKSwgaSA9IHR0KHQsIG4pO1xuICByZXR1cm4gbi5zcGxpY2UociwgMSwgdCksIG4uc3BsaWNlKGksIDEsIGUpLCBuO1xufVxuZnVuY3Rpb24gS2koZSwgdCkge1xuICBjb25zdCBuID0gdHQoZSwgdCk7XG4gIHJldHVybiB0LnNwbGljZShuLCAxKSwgdDtcbn1cbmZ1bmN0aW9uIFFpKGUsIHQpIHtcbiAgcmV0dXJuIFsuLi50LCBlXTtcbn1cbmZ1bmN0aW9uIFllKGUsIHQpIHtcbiAgcmV0dXJuIEhpKGUsIHQpO1xufVxuZnVuY3Rpb24gV28oZSwgdCwgbikge1xuICBsZXQgciA9IEppKGUsIHQpO1xuICBpZiAoci5sZW5ndGggPCB0Lmxlbmd0aCkge1xuICAgIGNvbnN0IHMgPSBSZSh0LCByLCBOKTtcbiAgICByID0gWy4uLnIsIC4uLnNdO1xuICB9XG4gIGNvbnN0IGkgPSBZZShyLCBuKSwgbyA9IFllKHQsIG4pO1xuICBpZiAoX3QoaSwgbykuZm9yRWFjaCgoW3MsIGFdLCBjKSA9PiB7XG4gICAgaWYgKHMgJiYgYSkge1xuICAgICAgY29uc3QgdSA9IFllKHIsIG4pW2NdLCBsID0gemkodSwgYSk7XG4gICAgICBZaShsKSAmJiAoXy5kZWJ1ZyhcbiAgICAgICAgYERldGVjdGVkIHZpc3VhbCBjaGFuZ2VzIG9uIHBhZ2U6ICR7Y30sIGN1cnJlbnQ6ICR7ZXQoXG4gICAgICAgICAgc1xuICAgICAgICApfSwgbmV4dDogJHtldChhKX1gLFxuICAgICAgICB7IGNoYW5nZXM6IGwgfVxuICAgICAgKSwgbC5hZGRlZC5sZW5ndGggPT09IGwuZHJvcHBlZC5sZW5ndGggJiYgX3QobC5hZGRlZCwgbC5kcm9wcGVkKS5mb3JFYWNoKChbZiwgaF0pID0+IHtcbiAgICAgICAgaWYgKGYgJiYgaClcbiAgICAgICAgICByID0gR2koZiwgaCwgcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgRm9yIGEgc3dhcCBhY3Rpb24gd2UgbmVlZCBhIGFkZGl0aW9uIGFuZCBhIHJlbW92YWwgb25lIGlzIG1pc3Npbmc6ICR7Zn0sICR7aH1gXG4gICAgICAgICAgKTtcbiAgICAgIH0pLCBsLmFkZGVkLmxlbmd0aCA9PT0gMCAmJiBsLmRyb3BwZWQubGVuZ3RoID4gMCAmJiBsLmRyb3BwZWQuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICByID0gS2koZiwgcik7XG4gICAgICB9KSwgbC5hZGRlZC5sZW5ndGggPiAwICYmIGwuZHJvcHBlZC5sZW5ndGggPT09IDAgJiYgbC5hZGRlZC5mb3JFYWNoKChmKSA9PiB7XG4gICAgICAgIHIgPSBRaShmLCByKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pLCByLmxlbmd0aCA+IHQubGVuZ3RoKSB7XG4gICAgY29uc3QgcyA9IFJlKHIsIHQsIE4pO1xuICAgIHIgPSByLmZpbHRlcihcbiAgICAgIChhKSA9PiAhcy5tYXAoTikuaW5jbHVkZXMoTihhKSlcbiAgICApO1xuICB9XG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gSmkoZSwgdCkge1xuICByZXR1cm4gZS5tYXAoKG4pID0+IHtcbiAgICBjb25zdCByID0gdC5maW5kKFxuICAgICAgKGkpID0+IChcbiAgICAgICAgLy8gSWYgdGhlIElEcyBtYXRjaCBvciAuLlxuICAgICAgICBOKG4pID09PSBOKGkpIHx8IC8vIC4uLiBpZiB0aGUgY3VycmVudCBpdGVtIGlzIGEgcGxhY2Vob2xkZXIgYW5kIHRoZSBuZXcgaXRlbSBpcyB0aGUgdHJhY2sgcmVmZXJlbmNlIGNhbiByZXBsYWNlIGl0LlxuICAgICAgICB0eXBlb2YgbiAhPSBcIm51bWJlclwiICYmIHhlKG4pICYmIEYoaSkgJiYgX2kobiwgaSlcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiByID8/IG47XG4gIH0pO1xufVxuZnVuY3Rpb24gJChlKSB7XG4gIHJldHVybiBgJHtibn0tJHtlfWA7XG59XG5mdW5jdGlvbiBCbyhlKSB7XG4gIGNvbnN0IHQgPSBJdChlKSwgbiA9IFBuKGUucGFydGljaXBhbnQpLnBpcGUoXG4gICAgaygoKSA9PiBJdChlKSksXG4gICAgUih0KVxuICApO1xuICByZXR1cm4geyBjbGFzc05hbWU6ICQoXG4gICAgZS5zb3VyY2UgPT09IEQuU291cmNlLkNhbWVyYSB8fCBlLnNvdXJjZSA9PT0gRC5Tb3VyY2UuU2NyZWVuU2hhcmUgPyBcInBhcnRpY2lwYW50LW1lZGlhLXZpZGVvXCIgOiBcInBhcnRpY2lwYW50LW1lZGlhLWF1ZGlvXCJcbiAgKSwgdHJhY2tPYnNlcnZlcjogbiB9O1xufVxuZnVuY3Rpb24gSXQoZSkge1xuICBpZiAoRihlKSlcbiAgICByZXR1cm4gZS5wdWJsaWNhdGlvbjtcbiAge1xuICAgIGNvbnN0IHsgc291cmNlOiB0LCBuYW1lOiBuLCBwYXJ0aWNpcGFudDogciB9ID0gZTtcbiAgICBpZiAodCAmJiBuKVxuICAgICAgcmV0dXJuIHIuZ2V0VHJhY2tQdWJsaWNhdGlvbnMoKS5maW5kKChpKSA9PiBpLnNvdXJjZSA9PT0gdCAmJiBpLnRyYWNrTmFtZSA9PT0gbik7XG4gICAgaWYgKG4pXG4gICAgICByZXR1cm4gci5nZXRUcmFja1B1YmxpY2F0aW9uQnlOYW1lKG4pO1xuICAgIGlmICh0KVxuICAgICAgcmV0dXJuIHIuZ2V0VHJhY2tQdWJsaWNhdGlvbih0KTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgb2Ygc291cmNlIGFuZCBuYW1lIG5lZWRzIHRvIGJlIGRlZmluZWRcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNlKGUsIC4uLnQpIHtcbiAgcmV0dXJuIG5ldyBPKChyKSA9PiB7XG4gICAgY29uc3QgaSA9ICgpID0+IHtcbiAgICAgIHIubmV4dChlKTtcbiAgICB9O1xuICAgIHJldHVybiB0LmZvckVhY2goKHMpID0+IHtcbiAgICAgIGUub24ocywgaSk7XG4gICAgfSksICgpID0+IHtcbiAgICAgIHQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICBlLm9mZihzLCBpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pLnBpcGUoUihlKSk7XG59XG5mdW5jdGlvbiBhZShlLCB0KSB7XG4gIHJldHVybiBuZXcgTygocikgPT4ge1xuICAgIGNvbnN0IGkgPSAoLi4ucykgPT4ge1xuICAgICAgci5uZXh0KHMpO1xuICAgIH07XG4gICAgcmV0dXJuIGUub24odCwgaSksICgpID0+IHtcbiAgICAgIGUub2ZmKHQsIGkpO1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gVm8oZSkge1xuICByZXR1cm4gYWUoZSwgYi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkKS5waXBlKFxuICAgIGsoKFt0XSkgPT4gdCksXG4gICAgUihlLnN0YXRlKVxuICApO1xufVxuZnVuY3Rpb24gSG8oZSkge1xuICByZXR1cm4gc2UoXG4gICAgZSxcbiAgICBiLlJvb21NZXRhZGF0YUNoYW5nZWQsXG4gICAgYi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gICkucGlwZShcbiAgICBrKChuKSA9PiAoeyBuYW1lOiBuLm5hbWUsIG1ldGFkYXRhOiBuLm1ldGFkYXRhIH0pKVxuICApO1xufVxuZnVuY3Rpb24gem8oZSkge1xuICByZXR1cm4gYWUoZSwgYi5BY3RpdmVTcGVha2Vyc0NoYW5nZWQpLnBpcGUoXG4gICAgaygoW3RdKSA9PiB0KVxuICApO1xufVxuZnVuY3Rpb24gWW8oZSwgdCwgbiA9ICEwKSB7XG4gIHZhciByO1xuICBjb25zdCBpID0gKCkgPT4gVyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhID0geWllbGQgaHQuZ2V0TG9jYWxEZXZpY2VzKGUsIG4pO1xuICAgICAgby5uZXh0KGEpO1xuICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgIHQgPT0gbnVsbCB8fCB0KGEpO1xuICAgIH1cbiAgfSksIG8gPSBuZXcgcmUoKSwgcyA9IG8ucGlwZShcbiAgICBTaSgoKSA9PiB7XG4gICAgICB2YXIgYTtcbiAgICAgIChhID0gbmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSA9PSBudWxsIHx8IGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLCBpKTtcbiAgICB9KVxuICApO1xuICBpZiAodHlwZW9mIHdpbmRvdyA8IFwidVwiKSB7XG4gICAgaWYgKCF3aW5kb3cuaXNTZWN1cmVDb250ZXh0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkFjY2Vzc2luZyBtZWRpYSBkZXZpY2VzIGlzIGF2YWlsYWJsZSBvbmx5IGluIHNlY3VyZSBjb250ZXh0cyAoSFRUUFMgYW5kIGxvY2FsaG9zdCksIGluIHNvbWUgb3IgYWxsIHN1cHBvcnRpbmcgYnJvd3NlcnMuIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9tZWRpYURldmljZXNcIlxuICAgICAgKTtcbiAgICAociA9IG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgPT0gbnVsbCB8fCByLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIiwgaSk7XG4gIH1cbiAgcmV0dXJuIE1lKFxuICAgIGh0LmdldExvY2FsRGV2aWNlcyhlLCBuKS5jYXRjaCgoYSkgPT4gKHQgPT0gbnVsbCB8fCB0KGEpLCBbXSkpLFxuICAgIHNcbiAgKTtcbn1cbmZ1bmN0aW9uIHFpKGUpIHtcbiAgcmV0dXJuIGFlKGUsIGIuRGF0YVJlY2VpdmVkKTtcbn1cbmZ1bmN0aW9uIFhpKGUpIHtcbiAgcmV0dXJuIGFlKGUsIGIuQ2hhdE1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gWmkoZSkge1xuICByZXR1cm4gc2UoZSwgYi5BdWRpb1BsYXliYWNrU3RhdHVzQ2hhbmdlZCkucGlwZShcbiAgICBrKChuKSA9PiAoeyBjYW5QbGF5QXVkaW86IG4uY2FuUGxheWJhY2tBdWRpbyB9KSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGVvKGUpIHtcbiAgcmV0dXJuIHNlKGUsIGIuVmlkZW9QbGF5YmFja1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgaygobikgPT4gKHsgY2FuUGxheVZpZGVvOiBuLmNhblBsYXliYWNrVmlkZW8gfSkpXG4gICk7XG59XG5mdW5jdGlvbiB0byhlLCB0KSB7XG4gIHJldHVybiBhZShlLCBiLkFjdGl2ZURldmljZUNoYW5nZWQpLnBpcGUoXG4gICAgZHQoKFtuXSkgPT4gbiA9PT0gdCksXG4gICAgaygoW24sIHJdKSA9PiAoXy5kZWJ1ZyhcImFjdGl2ZURldmljZU9ic2VydmFibGUgfCBSb29tRXZlbnQuQWN0aXZlRGV2aWNlQ2hhbmdlZFwiLCB7IGtpbmQ6IG4sIGRldmljZUlkOiByIH0pLCByKSlcbiAgKTtcbn1cbmZ1bmN0aW9uIEdvKGUsIHQpIHtcbiAgcmV0dXJuIGFlKGUsIGIuUGFydGljaXBhbnRFbmNyeXB0aW9uU3RhdHVzQ2hhbmdlZCkucGlwZShcbiAgICBkdChcbiAgICAgIChbLCBuXSkgPT4gKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaWRlbnRpdHkpID09PSAobiA9PSBudWxsID8gdm9pZCAwIDogbi5pZGVudGl0eSkgfHwgIW4gJiYgKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaWRlbnRpdHkpID09PSBlLmxvY2FsUGFydGljaXBhbnQuaWRlbnRpdHlcbiAgICApLFxuICAgIGsoKFtuXSkgPT4gbiksXG4gICAgUihcbiAgICAgIHQgIT0gbnVsbCAmJiB0LmlzTG9jYWwgPyB0LmlzRTJFRUVuYWJsZWQgOiAhISh0ICE9IG51bGwgJiYgdC5pc0VuY3J5cHRlZClcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBLbyhlKSB7XG4gIHJldHVybiBhZShlLCBiLlJlY29yZGluZ1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgaygoW3RdKSA9PiB0KSxcbiAgICBSKGUuaXNSZWNvcmRpbmcpXG4gICk7XG59XG5mdW5jdGlvbiBtZShlLCAuLi50KSB7XG4gIHJldHVybiBuZXcgTygocikgPT4ge1xuICAgIGNvbnN0IGkgPSAoKSA9PiB7XG4gICAgICByLm5leHQoZSk7XG4gICAgfTtcbiAgICByZXR1cm4gdC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBlLm9uKHMsIGkpO1xuICAgIH0pLCAoKSA9PiB7XG4gICAgICB0LmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgZS5vZmYocywgaSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KS5waXBlKFIoZSkpO1xufVxuZnVuY3Rpb24gUG4oZSkge1xuICByZXR1cm4gbWUoXG4gICAgZSxcbiAgICB5LlRyYWNrTXV0ZWQsXG4gICAgeS5UcmFja1VubXV0ZWQsXG4gICAgeS5QYXJ0aWNpcGFudFBlcm1pc3Npb25zQ2hhbmdlZCxcbiAgICAvLyBQYXJ0aWNpcGFudEV2ZW50LklzU3BlYWtpbmdDaGFuZ2VkLFxuICAgIHkuVHJhY2tQdWJsaXNoZWQsXG4gICAgeS5UcmFja1VucHVibGlzaGVkLFxuICAgIHkuTG9jYWxUcmFja1B1Ymxpc2hlZCxcbiAgICB5LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICB5Lk1lZGlhRGV2aWNlc0Vycm9yLFxuICAgIHkuVHJhY2tTdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkXG4gICAgLy8gUGFydGljaXBhbnRFdmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gICkucGlwZShcbiAgICBrKChuKSA9PiB7XG4gICAgICBjb25zdCB7IGlzTWljcm9waG9uZUVuYWJsZWQ6IHIsIGlzQ2FtZXJhRW5hYmxlZDogaSwgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IG8gfSA9IG4sIHMgPSBuLmdldFRyYWNrUHVibGljYXRpb24oRC5Tb3VyY2UuTWljcm9waG9uZSksIGEgPSBuLmdldFRyYWNrUHVibGljYXRpb24oRC5Tb3VyY2UuQ2FtZXJhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQ2FtZXJhRW5hYmxlZDogaSxcbiAgICAgICAgaXNNaWNyb3Bob25lRW5hYmxlZDogcixcbiAgICAgICAgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IG8sXG4gICAgICAgIGNhbWVyYVRyYWNrOiBhLFxuICAgICAgICBtaWNyb3Bob25lVHJhY2s6IHMsXG4gICAgICAgIHBhcnRpY2lwYW50OiBuXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBubyhlKSB7XG4gIHJldHVybiBlID8gbWUoXG4gICAgZSxcbiAgICB5LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxuICAgIHkuUGFydGljaXBhbnROYW1lQ2hhbmdlZFxuICApLnBpcGUoXG4gICAgaygoeyBuYW1lOiBuLCBpZGVudGl0eTogciwgbWV0YWRhdGE6IGkgfSkgPT4gKHtcbiAgICAgIG5hbWU6IG4sXG4gICAgICBpZGVudGl0eTogcixcbiAgICAgIG1ldGFkYXRhOiBpXG4gICAgfSkpLFxuICAgIFIoe1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgaWRlbnRpdHk6IGUuaWRlbnRpdHksXG4gICAgICBtZXRhZGF0YTogZS5tZXRhZGF0YVxuICAgIH0pXG4gICkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBybyhlKSB7XG4gIHJldHVybiBWZShcbiAgICBlLFxuICAgIHkuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkXG4gICkucGlwZShcbiAgICBrKChbbl0pID0+IG4pLFxuICAgIFIoZS5jb25uZWN0aW9uUXVhbGl0eSlcbiAgKTtcbn1cbmZ1bmN0aW9uIFZlKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyBPKChyKSA9PiB7XG4gICAgY29uc3QgaSA9ICguLi5zKSA9PiB7XG4gICAgICByLm5leHQocyk7XG4gICAgfTtcbiAgICByZXR1cm4gZS5vbih0LCBpKSwgKCkgPT4ge1xuICAgICAgZS5vZmYodCwgaSk7XG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpbyhlKSB7XG4gIHZhciB0LCBuLCByLCBpO1xuICByZXR1cm4gbWUoXG4gICAgZS5wYXJ0aWNpcGFudCxcbiAgICB5LlRyYWNrTXV0ZWQsXG4gICAgeS5UcmFja1VubXV0ZWQsXG4gICAgeS5UcmFja1N1YnNjcmliZWQsXG4gICAgeS5UcmFja1Vuc3Vic2NyaWJlZCxcbiAgICB5LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gICAgeS5Mb2NhbFRyYWNrVW5wdWJsaXNoZWRcbiAgKS5waXBlKFxuICAgIGsoKG8pID0+IHtcbiAgICAgIHZhciBzLCBhO1xuICAgICAgY29uc3QgYyA9IChzID0gZS5wdWJsaWNhdGlvbikgIT0gbnVsbCA/IHMgOiBvLmdldFRyYWNrUHVibGljYXRpb24oZS5zb3VyY2UpO1xuICAgICAgcmV0dXJuIChhID0gYyA9PSBudWxsID8gdm9pZCAwIDogYy5pc011dGVkKSAhPSBudWxsID8gYSA6ICEwO1xuICAgIH0pLFxuICAgIFIoXG4gICAgICAoaSA9IChyID0gKHQgPSBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogdC5pc011dGVkKSAhPSBudWxsID8gciA6IChuID0gZS5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKGUuc291cmNlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uaXNNdXRlZCkgIT0gbnVsbCA/IGkgOiAhMFxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIFFvKGUpIHtcbiAgcmV0dXJuIFZlKGUsIHkuSXNTcGVha2luZ0NoYW5nZWQpLnBpcGUoXG4gICAgaygoW3RdKSA9PiB0KVxuICApO1xufVxuZnVuY3Rpb24gSm8oZSwgdCA9IHt9KSB7XG4gIHZhciBuO1xuICBsZXQgcjtcbiAgY29uc3QgaSA9IG5ldyBPKChjKSA9PiAociA9IGMsICgpID0+IGEudW5zdWJzY3JpYmUoKSkpLnBpcGUoUihBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKSkpLCBvID0gKG4gPSB0LmFkZGl0aW9uYWxSb29tRXZlbnRzKSAhPSBudWxsID8gbiA6IHluLCBzID0gQXJyYXkuZnJvbShcbiAgICAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgICBiLlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgICAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICAgIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgICAgIC4uLm9cbiAgICBdKVxuICApLCBhID0gc2UoZSwgLi4ucykuc3Vic2NyaWJlKFxuICAgIChjKSA9PiByID09IG51bGwgPyB2b2lkIDAgOiByLm5leHQoQXJyYXkuZnJvbShjLnJlbW90ZVBhcnRpY2lwYW50cy52YWx1ZXMoKSkpXG4gICk7XG4gIHJldHVybiBlLnJlbW90ZVBhcnRpY2lwYW50cy5zaXplID4gMCAmJiAociA9PSBudWxsIHx8IHIubmV4dChBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKSkpLCBpO1xufVxuZnVuY3Rpb24gcW8oZSwgdCwgbiA9IHt9KSB7XG4gIHZhciByO1xuICBjb25zdCBpID0gKHIgPSBuLmFkZGl0aW9uYWxFdmVudHMpICE9IG51bGwgPyByIDogd247XG4gIHJldHVybiBzZShcbiAgICBlLFxuICAgIGIuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gICAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICBiLkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAgKS5waXBlKFxuICAgIGduKChzKSA9PiB7XG4gICAgICBjb25zdCBhID0gcy5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkodCk7XG4gICAgICByZXR1cm4gYSA/IG1lKGEsIC4uLmkpIDogbmV3IE8oKGMpID0+IGMubmV4dCh2b2lkIDApKTtcbiAgICB9KSxcbiAgICBSKGUuZ2V0UGFydGljaXBhbnRCeUlkZW50aXR5KHQpKVxuICApO1xufVxuZnVuY3Rpb24gWG8oZSkge1xuICByZXR1cm4gVmUoXG4gICAgZSxcbiAgICB5LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkXG4gICkucGlwZShcbiAgICBrKCgpID0+IGUucGVybWlzc2lvbnMpLFxuICAgIFIoZS5wZXJtaXNzaW9ucylcbiAgKTtcbn1cbmZ1bmN0aW9uIFpvKGUsIHsga2luZDogdCwgaWRlbnRpdHk6IG4gfSwgciA9IHt9KSB7XG4gIHZhciBpO1xuICBjb25zdCBvID0gKGkgPSByLmFkZGl0aW9uYWxFdmVudHMpICE9IG51bGwgPyBpIDogd24sIHMgPSAoYykgPT4ge1xuICAgIGxldCB1ID0gITA7XG4gICAgcmV0dXJuIHQgJiYgKHUgPSB1ICYmIGMua2luZCA9PT0gdCksIG4gJiYgKHUgPSB1ICYmIGMuaWRlbnRpdHkgPT09IG4pLCB1O1xuICB9O1xuICByZXR1cm4gc2UoXG4gICAgZSxcbiAgICBiLlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgIGIuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsXG4gICAgYi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gICkucGlwZShcbiAgICBnbigoYykgPT4ge1xuICAgICAgY29uc3QgdSA9IEFycmF5LmZyb20oYy5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpLmZpbmQoXG4gICAgICAgIChsKSA9PiBzKGwpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHUgPyBtZSh1LCAuLi5vKSA6IG5ldyBPKChsKSA9PiBsLm5leHQodm9pZCAwKSk7XG4gICAgfSksXG4gICAgUihBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKS5maW5kKChjKSA9PiBzKGMpKSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGVzKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID4gXCJ1XCIgPyBuZXcgTygpIDogVmUoZSwgeS5BdHRyaWJ1dGVzQ2hhbmdlZCkucGlwZShcbiAgICBrKChbdF0pID0+ICh7XG4gICAgICBjaGFuZ2VkOiB0LFxuICAgICAgYXR0cmlidXRlczogZS5hdHRyaWJ1dGVzXG4gICAgfSkpLFxuICAgIFIoeyBjaGFuZ2VkOiBlLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXM6IGUuYXR0cmlidXRlcyB9KVxuICApO1xufVxuZnVuY3Rpb24gdHMoZSwgdCwgbiwgciwgaSkge1xuICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQ6IG8gfSA9IHQsIHMgPSAoZiwgaCkgPT4ge1xuICAgIGxldCBkID0gITE7XG4gICAgc3dpdGNoIChmKSB7XG4gICAgICBjYXNlIEQuU291cmNlLkNhbWVyYTpcbiAgICAgICAgZCA9IGguaXNDYW1lcmFFbmFibGVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRC5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgICAgZCA9IGguaXNNaWNyb3Bob25lRW5hYmxlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEQuU291cmNlLlNjcmVlblNoYXJlOlxuICAgICAgICBkID0gaC5pc1NjcmVlblNoYXJlRW5hYmxlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9LCBhID0gUG4obykucGlwZShcbiAgICBrKChmKSA9PiBzKGUsIGYucGFydGljaXBhbnQpKSxcbiAgICBSKHMoZSwgbykpXG4gICksIGMgPSBuZXcgcmUoKSwgdSA9IChmLCBoKSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoaCA/PyAoaCA9IG4pLCBjLm5leHQoITApLCBlKSB7XG4gICAgICAgIGNhc2UgRC5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldENhbWVyYUVuYWJsZWQoXG4gICAgICAgICAgICBmID8/ICFvLmlzQ2FtZXJhRW5hYmxlZCxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICByXG4gICAgICAgICAgKSwgby5pc0NhbWVyYUVuYWJsZWQ7XG4gICAgICAgIGNhc2UgRC5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgICAgICByZXR1cm4geWllbGQgby5zZXRNaWNyb3Bob25lRW5hYmxlZChcbiAgICAgICAgICAgIGYgPz8gIW8uaXNNaWNyb3Bob25lRW5hYmxlZCxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICByXG4gICAgICAgICAgKSwgby5pc01pY3JvcGhvbmVFbmFibGVkO1xuICAgICAgICBjYXNlIEQuU291cmNlLlNjcmVlblNoYXJlOlxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldFNjcmVlblNoYXJlRW5hYmxlZChcbiAgICAgICAgICAgIGYgPz8gIW8uaXNTY3JlZW5TaGFyZUVuYWJsZWQsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgclxuICAgICAgICAgICksIG8uaXNTY3JlZW5TaGFyZUVuYWJsZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRyaWVkIHRvIHRvZ2dsZSB1bnN1cHBvcnRlZCBzb3VyY2VcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZCkge1xuICAgICAgaWYgKGkgJiYgZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGkgPT0gbnVsbCB8fCBpKGQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhyb3cgZDtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYy5uZXh0KCExKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGNsYXNzTmFtZTogJChcImJ1dHRvblwiKSxcbiAgICB0b2dnbGU6IHUsXG4gICAgZW5hYmxlZE9ic2VydmVyOiBhLFxuICAgIHBlbmRpbmdPYnNlcnZlcjogYy5hc09ic2VydmFibGUoKVxuICB9O1xufVxuZnVuY3Rpb24gbnMoKSB7XG4gIGxldCBlID0gITE7XG4gIGNvbnN0IHQgPSBuZXcgcmUoKSwgbiA9IG5ldyByZSgpLCByID0gKG8pID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBuLm5leHQoITApLCBlID0gbyA/PyAhZSwgdC5uZXh0KGUpLCBuLm5leHQoITEpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjbGFzc05hbWU6ICQoXCJidXR0b25cIiksXG4gICAgdG9nZ2xlOiByLFxuICAgIGVuYWJsZWRPYnNlcnZlcjogdC5hc09ic2VydmFibGUoKSxcbiAgICBwZW5kaW5nT2JzZXJ2ZXI6IG4uYXNPYnNlcnZhYmxlKClcbiAgfTtcbn1cbmZ1bmN0aW9uIHJzKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IG5ldyB0bih2b2lkIDApLCBpID0gdG8odCwgZSksIG8gPSAoYSwgLi4uYykgPT4gVyh0aGlzLCBbYSwgLi4uY10sIGZ1bmN0aW9uKiAodSwgbCA9IHt9KSB7XG4gICAgdmFyIGYsIGgsIGQ7XG4gICAgaWYgKHQpIHtcbiAgICAgIF8uZGVidWcoYFN3aXRjaGluZyBhY3RpdmUgZGV2aWNlIG9mIGtpbmQgXCIke2V9XCIgd2l0aCBpZCAke3V9LmApLCB5aWVsZCB0LnN3aXRjaEFjdGl2ZURldmljZShlLCB1LCBsLmV4YWN0KTtcbiAgICAgIGNvbnN0IG0gPSAoZiA9IHQuZ2V0QWN0aXZlRGV2aWNlKGUpKSAhPSBudWxsID8gZiA6IHU7XG4gICAgICBtICE9PSB1ICYmIHUgIT09IFwiZGVmYXVsdFwiICYmIF8uaW5mbyhcbiAgICAgICAgYFdlIHRyaWVkIHRvIHNlbGVjdCB0aGUgZGV2aWNlIHdpdGggaWQgKCR7dX0pLCBidXQgdGhlIGJyb3dzZXIgZGVjaWRlZCB0byBzZWxlY3QgdGhlIGRldmljZSB3aXRoIGlkICgke219KSBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgICBsZXQgcDtcbiAgICAgIGUgPT09IFwiYXVkaW9pbnB1dFwiID8gcCA9IChoID0gdC5sb2NhbFBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24oRC5Tb3VyY2UuTWljcm9waG9uZSkpID09IG51bGwgPyB2b2lkIDAgOiBoLnRyYWNrIDogZSA9PT0gXCJ2aWRlb2lucHV0XCIgJiYgKHAgPSAoZCA9IHQubG9jYWxQYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKEQuU291cmNlLkNhbWVyYSkpID09IG51bGwgPyB2b2lkIDAgOiBkLnRyYWNrKTtcbiAgICAgIGNvbnN0IGcgPSB1ID09PSBcImRlZmF1bHRcIiAmJiAhcCB8fCB1ID09PSBcImRlZmF1bHRcIiAmJiAocCA9PSBudWxsID8gdm9pZCAwIDogcC5tZWRpYVN0cmVhbVRyYWNrLmxhYmVsLnN0YXJ0c1dpdGgoXCJEZWZhdWx0XCIpKTtcbiAgICAgIHIubmV4dChnID8gdSA6IG0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2xhc3NOYW1lOiAkKFwibWVkaWEtZGV2aWNlLXNlbGVjdFwiKSxcbiAgICBhY3RpdmVEZXZpY2VPYnNlcnZhYmxlOiBpLFxuICAgIHNldEFjdGl2ZU1lZGlhRGV2aWNlOiBvXG4gIH07XG59XG5mdW5jdGlvbiBpcyhlKSB7XG4gIGNvbnN0IHQgPSAocikgPT4ge1xuICAgIGUuZGlzY29ubmVjdChyKTtcbiAgfTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiAkKFwiZGlzY29ubmVjdC1idXR0b25cIiksIGRpc2Nvbm5lY3Q6IHQgfTtcbn1cbmZ1bmN0aW9uIG9zKGUpIHtcbiAgY29uc3QgdCA9ICQoXCJjb25uZWN0aW9uLXF1YWxpdHlcIiksIG4gPSBybyhlKTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiB0LCBjb25uZWN0aW9uUXVhbGl0eU9ic2VydmVyOiBuIH07XG59XG5mdW5jdGlvbiBzcyhlKSB7XG4gIGxldCB0ID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItY2FtZXJhXCI7XG4gIHN3aXRjaCAoZS5zb3VyY2UpIHtcbiAgICBjYXNlIEQuU291cmNlLkNhbWVyYTpcbiAgICAgIHQgPSBcInRyYWNrLW11dGVkLWluZGljYXRvci1jYW1lcmFcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRC5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgIHQgPSBcInRyYWNrLW11dGVkLWluZGljYXRvci1taWNyb3Bob25lXCI7XG4gICAgICBicmVhaztcbiAgfVxuICBjb25zdCBuID0gJCh0KSwgciA9IGlvKGUpO1xuICByZXR1cm4geyBjbGFzc05hbWU6IG4sIG1lZGlhTXV0ZWRPYnNlcnZlcjogciB9O1xufVxuZnVuY3Rpb24gYXMoZSkge1xuICByZXR1cm4geyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbmFtZVwiLCBpbmZvT2JzZXJ2ZXI6IG5vKGUpIH07XG59XG5mdW5jdGlvbiBjcygpIHtcbiAgcmV0dXJuIHtcbiAgICBjbGFzc05hbWU6ICQoXCJwYXJ0aWNpcGFudC10aWxlXCIpXG4gIH07XG59XG52YXIgTXQgPSB7XG4gIENIQVQ6IFwibGstY2hhdC10b3BpY1wiLFxuICBDSEFUX1VQREFURTogXCJsay1jaGF0LXVwZGF0ZS10b3BpY1wiXG59O1xuZnVuY3Rpb24gbnQoZSwgdCkge1xuICByZXR1cm4gVyh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAobiwgciwgaSA9IHt9KSB7XG4gICAgY29uc3QgeyByZWxpYWJsZTogbywgZGVzdGluYXRpb25JZGVudGl0aWVzOiBzLCB0b3BpYzogYSB9ID0gaTtcbiAgICB5aWVsZCBuLnB1Ymxpc2hEYXRhKHIsIHtcbiAgICAgIGRlc3RpbmF0aW9uSWRlbnRpdGllczogcyxcbiAgICAgIHRvcGljOiBhLFxuICAgICAgcmVsaWFibGU6IG9cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBvbyhlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBBcnJheS5pc0FycmF5KHQpID8gdCA6IFt0XSwgaSA9IHFpKGUpLnBpcGUoXG4gICAgZHQoXG4gICAgICAoWywgLCAsIGNdKSA9PiB0ID09PSB2b2lkIDAgfHwgYyAhPT0gdm9pZCAwICYmIHIuaW5jbHVkZXMoYylcbiAgICApLFxuICAgIGsoKFtjLCB1LCAsIGxdKSA9PiB7XG4gICAgICBjb25zdCBmID0ge1xuICAgICAgICBwYXlsb2FkOiBjLFxuICAgICAgICB0b3BpYzogbCxcbiAgICAgICAgZnJvbTogdVxuICAgICAgfTtcbiAgICAgIHJldHVybiBuID09IG51bGwgfHwgbihmKSwgZjtcbiAgICB9KVxuICApO1xuICBsZXQgbztcbiAgY29uc3QgcyA9IG5ldyBPKChjKSA9PiB7XG4gICAgbyA9IGM7XG4gIH0pO1xuICByZXR1cm4geyBtZXNzYWdlT2JzZXJ2YWJsZTogaSwgaXNTZW5kaW5nT2JzZXJ2YWJsZTogcywgc2VuZDogKGMsIC4uLnUpID0+IFcodGhpcywgW2MsIC4uLnVdLCBmdW5jdGlvbiogKGwsIGYgPSB7fSkge1xuICAgIG8ubmV4dCghMCk7XG4gICAgdHJ5IHtcbiAgICAgIHlpZWxkIG50KGUubG9jYWxQYXJ0aWNpcGFudCwgbCwgUSh7IHRvcGljOiByWzBdIH0sIGYpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgby5uZXh0KCExKTtcbiAgICB9XG4gIH0pIH07XG59XG5mdW5jdGlvbiBzbyhlKSB7XG4gIHJldHVybiB7IGNoYXRPYnNlcnZhYmxlOiBYaShlKSwgc2VuZDogKGkpID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICByZXR1cm4geWllbGQgZS5sb2NhbFBhcnRpY2lwYW50LnNlbmRDaGF0TWVzc2FnZShpKTtcbiAgfSksIGVkaXQ6IChpLCBvKSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgcmV0dXJuIHlpZWxkIGUubG9jYWxQYXJ0aWNpcGFudC5lZGl0Q2hhdE1lc3NhZ2UoaSwgbyk7XG4gIH0pIH07XG59XG52YXIgYW8gPSBuZXcgVGV4dEVuY29kZXIoKSwgY28gPSBuZXcgVGV4dERlY29kZXIoKSwgUGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB1byA9IChlKSA9PiBhby5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoZSkpLCBsbyA9IChlKSA9PiBKU09OLnBhcnNlKGNvLmRlY29kZShlKSk7XG5mdW5jdGlvbiB1cyhlLCB0KSB7XG4gIHZhciBuLCByO1xuICBjb25zdCBpID0gbmV3IHJlKCksIG8gPSAoKSA9PiB7XG4gICAgdmFyIFQsIHgsIEk7XG4gICAgcmV0dXJuICgoVCA9IGUuc2VydmVySW5mbykgPT0gbnVsbCA/IHZvaWQgMCA6IFQuZWRpdGlvbikgPT09IDEgfHwgISEoKHggPSBlLnNlcnZlckluZm8pICE9IG51bGwgJiYgeC52ZXJzaW9uKSAmJiBVbigoSSA9IGUuc2VydmVySW5mbykgPT0gbnVsbCA/IHZvaWQgMCA6IEkudmVyc2lvbiwgXCIxLjE3LjJcIikgPiAwO1xuICB9LCB7IG1lc3NhZ2VEZWNvZGVyOiBzLCBtZXNzYWdlRW5jb2RlcjogYSwgY2hhbm5lbFRvcGljOiBjLCB1cGRhdGVDaGFubmVsVG9waWM6IHUgfSA9IHQgPz8ge30sIGwgPSBjID8/IE10LkNIQVQsIGYgPSB1ID8/IE10LkNIQVRfVVBEQVRFO1xuICBsZXQgaCA9ICExO1xuICBQZS5oYXMoZSkgfHwgKGggPSAhMCk7XG4gIGNvbnN0IGQgPSAobiA9IFBlLmdldChlKSkgIT0gbnVsbCA/IG4gOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBtID0gKHIgPSBkLmdldChsKSkgIT0gbnVsbCA/IHIgOiBuZXcgcmUoKTtcbiAgaWYgKGQuc2V0KGwsIG0pLCBQZS5zZXQoZSwgZCksIGgpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VPYnNlcnZhYmxlOiBUIH0gPSBvbyhlLCBbbCwgZl0pO1xuICAgIFQucGlwZShBdChpKSkuc3Vic2NyaWJlKG0pO1xuICB9XG4gIGNvbnN0IHsgY2hhdE9ic2VydmFibGU6IHAsIHNlbmQ6IGcgfSA9IHNvKGUpLCB2ID0gcyA/PyBsbywgRSA9IGdpKFxuICAgIG0ucGlwZShcbiAgICAgIGsoKFQpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IHYoVC5wYXlsb2FkKSwgSSA9IHllKFEoe30sIHgpLCB7IGZyb206IFQuZnJvbSB9KTtcbiAgICAgICAgaWYgKCFmbyhJKSlcbiAgICAgICAgICByZXR1cm4gSTtcbiAgICAgIH0pXG4gICAgKSxcbiAgICBwLnBpcGUoXG4gICAgICBrKChbVCwgeF0pID0+IHllKFEoe30sIFQpLCB7IGZyb206IHggfSkpXG4gICAgKVxuICApLnBpcGUoXG4gICAgeGkoKFQsIHgpID0+IHtcbiAgICAgIHZhciBJO1xuICAgICAgaWYgKCF4KVxuICAgICAgICByZXR1cm4gVDtcbiAgICAgIGlmIChcImlkXCIgaW4geCAmJiBULmZpbmQoKHcpID0+IHtcbiAgICAgICAgdmFyIFMsIFY7XG4gICAgICAgIHJldHVybiAoKFMgPSB3LmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBTLmlkZW50aXR5KSA9PT0gKChWID0geC5mcm9tKSA9PSBudWxsID8gdm9pZCAwIDogVi5pZGVudGl0eSkgJiYgdy5pZCA9PT0geC5pZDtcbiAgICAgIH0pKSB7XG4gICAgICAgIGNvbnN0IHcgPSBULmZpbmRJbmRleCgoUykgPT4gUy5pZCA9PT0geC5pZCk7XG4gICAgICAgIGlmICh3ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBTID0gVFt3XTtcbiAgICAgICAgICBUW3ddID0geWUoUSh7fSwgeCksIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogUy50aW1lc3RhbXAsXG4gICAgICAgICAgICBlZGl0VGltZXN0YW1wOiAoSSA9IHguZWRpdFRpbWVzdGFtcCkgIT0gbnVsbCA/IEkgOiB4LnRpbWVzdGFtcFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4uVF07XG4gICAgICB9XG4gICAgICByZXR1cm4gWy4uLlQsIHhdO1xuICAgIH0sIFtdKSxcbiAgICBBdChpKVxuICApLCBQID0gbmV3IHRuKCExKSwgTCA9IGEgPz8gdW8sIEMgPSAoVCkgPT4gVyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIFAubmV4dCghMCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHggPSB5aWVsZCBnKFQpLCBJID0gTCh5ZShRKHt9LCB4KSwge1xuICAgICAgICBpZ25vcmU6IG8oKVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIHlpZWxkIG50KGUubG9jYWxQYXJ0aWNpcGFudCwgSSwge1xuICAgICAgICByZWxpYWJsZTogITAsXG4gICAgICAgIHRvcGljOiBsXG4gICAgICB9KSwgeDtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgUC5uZXh0KCExKTtcbiAgICB9XG4gIH0pLCBpZSA9IChULCB4KSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgSSA9IERhdGUubm93KCksIHcgPSB0eXBlb2YgeCA9PSBcInN0cmluZ1wiID8geyBpZDogeCwgbWVzc2FnZTogXCJcIiwgdGltZXN0YW1wOiBJIH0gOiB4O1xuICAgIFAubmV4dCghMCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFMgPSB5aWVsZCBlLmxvY2FsUGFydGljaXBhbnQuZWRpdENoYXRNZXNzYWdlKFQsIHcpLCBWID0gTChTKTtcbiAgICAgIHJldHVybiB5aWVsZCBudChlLmxvY2FsUGFydGljaXBhbnQsIFYsIHtcbiAgICAgICAgdG9waWM6IGYsXG4gICAgICAgIHJlbGlhYmxlOiAhMFxuICAgICAgfSksIFM7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIFAubmV4dCghMSk7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gSygpIHtcbiAgICBpLm5leHQoKSwgaS5jb21wbGV0ZSgpLCBQZS5kZWxldGUoZSk7XG4gIH1cbiAgcmV0dXJuIGUub25jZShiLkRpc2Nvbm5lY3RlZCwgSyksIHtcbiAgICBtZXNzYWdlT2JzZXJ2YWJsZTogRSxcbiAgICBpc1NlbmRpbmdPYnNlcnZhYmxlOiBQLFxuICAgIHNlbmQ6IEMsXG4gICAgdXBkYXRlOiBpZVxuICB9O1xufVxuZnVuY3Rpb24gZm8oZSkge1xuICByZXR1cm4gZS5pZ25vcmUgPT0gITA7XG59XG5mdW5jdGlvbiBscygpIHtcbiAgY29uc3QgZSA9IChuKSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgXy5pbmZvKFwiU3RhcnQgQXVkaW8gZm9yIHJvb206IFwiLCBuKSwgeWllbGQgbi5zdGFydEF1ZGlvKCk7XG4gIH0pO1xuICByZXR1cm4geyBjbGFzc05hbWU6ICQoXCJzdGFydC1hdWRpby1idXR0b25cIiksIHJvb21BdWRpb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGU6IFppLCBoYW5kbGVTdGFydEF1ZGlvUGxheWJhY2s6IGUgfTtcbn1cbmZ1bmN0aW9uIGZzKCkge1xuICBjb25zdCBlID0gKG4pID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBfLmluZm8oXCJTdGFydCBWaWRlbyBmb3Igcm9vbTogXCIsIG4pLCB5aWVsZCBuLnN0YXJ0VmlkZW8oKTtcbiAgfSk7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogJChcInN0YXJ0LWF1ZGlvLWJ1dHRvblwiKSwgcm9vbVZpZGVvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZTogZW8sIGhhbmRsZVN0YXJ0VmlkZW9QbGF5YmFjazogZSB9O1xufVxuZnVuY3Rpb24gZHMoKSB7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogWyQoXCJidXR0b25cIiksICQoXCJjaGF0LXRvZ2dsZVwiKV0uam9pbihcIiBcIikgfTtcbn1cbmZ1bmN0aW9uIHBzKCkge1xuICByZXR1cm4geyBjbGFzc05hbWU6IFskKFwiYnV0dG9uXCIpLCAkKFwiZm9jdXMtdG9nZ2xlLWJ1dHRvblwiKV0uam9pbihcIiBcIikgfTtcbn1cbmZ1bmN0aW9uIGhzKCkge1xuICByZXR1cm4geyBjbGFzc05hbWU6IFwibGstY2xlYXItcGluLWJ1dHRvbiBsay1idXR0b25cIiB9O1xufVxuZnVuY3Rpb24gdnMoKSB7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogXCJsay1yb29tLWNvbnRhaW5lclwiIH07XG59XG5mdW5jdGlvbiBEdChlLCB0LCBuID0gITApIHtcbiAgY29uc3QgaSA9IFtlLmxvY2FsUGFydGljaXBhbnQsIC4uLkFycmF5LmZyb20oZS5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpXSwgbyA9IFtdO1xuICByZXR1cm4gaS5mb3JFYWNoKChzKSA9PiB7XG4gICAgdC5mb3JFYWNoKChhKSA9PiB7XG4gICAgICBjb25zdCBjID0gQXJyYXkuZnJvbShcbiAgICAgICAgcy50cmFja1B1YmxpY2F0aW9ucy52YWx1ZXMoKVxuICAgICAgKS5maWx0ZXIoXG4gICAgICAgICh1KSA9PiB1LnNvdXJjZSA9PT0gYSAmJiAvLyBlaXRoZXIgcmV0dXJuIGFsbCBvciBvbmx5IHRoZSBvbmVzIHRoYXQgYXJlIHN1YnNjcmliZWRcbiAgICAgICAgKCFuIHx8IHUudHJhY2spXG4gICAgICApLm1hcCgodSkgPT4gKHtcbiAgICAgICAgcGFydGljaXBhbnQ6IHMsXG4gICAgICAgIHB1YmxpY2F0aW9uOiB1LFxuICAgICAgICBzb3VyY2U6IHUuc291cmNlXG4gICAgICB9KSk7XG4gICAgICBvLnB1c2goLi4uYyk7XG4gICAgfSk7XG4gIH0pLCB7IHRyYWNrUmVmZXJlbmNlczogbywgcGFydGljaXBhbnRzOiBpIH07XG59XG5mdW5jdGlvbiBSdChlLCB0LCBuID0gITEpIHtcbiAgY29uc3QgeyBzb3VyY2VzOiByLCBraW5kOiBpLCBuYW1lOiBvIH0gPSB0O1xuICByZXR1cm4gQXJyYXkuZnJvbShlLnRyYWNrUHVibGljYXRpb25zLnZhbHVlcygpKS5maWx0ZXIoXG4gICAgKGEpID0+ICghciB8fCByLmluY2x1ZGVzKGEuc291cmNlKSkgJiYgKCFpIHx8IGEua2luZCA9PT0gaSkgJiYgKCFvIHx8IGEudHJhY2tOYW1lID09PSBvKSAmJiAvLyBlaXRoZXIgcmV0dXJuIGFsbCBvciBvbmx5IHRoZSBvbmVzIHRoYXQgYXJlIHN1YnNjcmliZWRcbiAgICAoIW4gfHwgYS50cmFjaylcbiAgKS5tYXAoKGEpID0+ICh7XG4gICAgcGFydGljaXBhbnQ6IGUsXG4gICAgcHVibGljYXRpb246IGEsXG4gICAgc291cmNlOiBhLnNvdXJjZVxuICB9KSk7XG59XG5mdW5jdGlvbiBtcyhlLCB0LCBuKSB7XG4gIHZhciByLCBpO1xuICBjb25zdCBvID0gKHIgPSBuLmFkZGl0aW9uYWxSb29tRXZlbnRzKSAhPSBudWxsID8gciA6IHluLCBzID0gKGkgPSBuLm9ubHlTdWJzY3JpYmVkKSAhPSBudWxsID8gaSA6ICEwLCBhID0gQXJyYXkuZnJvbShcbiAgICAoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICAgICAgYi5QYXJ0aWNpcGFudENvbm5lY3RlZCxcbiAgICAgIGIuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsXG4gICAgICBiLkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWQsXG4gICAgICBiLkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gICAgICBiLkxvY2FsVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICAgIGIuVHJhY2tQdWJsaXNoZWQsXG4gICAgICBiLlRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICBiLlRyYWNrU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZCxcbiAgICAgIC4uLm9cbiAgICBdKSkudmFsdWVzKClcbiAgKTtcbiAgcmV0dXJuIHNlKGUsIC4uLmEpLnBpcGUoXG4gICAgaygodSkgPT4ge1xuICAgICAgY29uc3QgbCA9IER0KHUsIHQsIHMpO1xuICAgICAgcmV0dXJuIF8uZGVidWcoYFRyYWNrUmVmZXJlbmNlW10gd2FzIHVwZGF0ZWQuIChsZW5ndGggJHtsLnRyYWNrUmVmZXJlbmNlcy5sZW5ndGh9KWAsIGwpLCBsO1xuICAgIH0pLFxuICAgIFIoRHQoZSwgdCwgcykpXG4gICk7XG59XG5mdW5jdGlvbiBncyhlLCB0KSB7XG4gIHJldHVybiBtZShlLCAuLi5SaSkucGlwZShcbiAgICBrKChyKSA9PiB7XG4gICAgICBjb25zdCBpID0gUnQociwgdCk7XG4gICAgICByZXR1cm4gXy5kZWJ1ZyhgVHJhY2tSZWZlcmVuY2VbXSB3YXMgdXBkYXRlZC4gKGxlbmd0aCAke2kubGVuZ3RofSlgLCBpKSwgaTtcbiAgICB9KSxcbiAgICBSKFJ0KGUsIHQpKVxuICApO1xufVxuZnVuY3Rpb24gQW4oZSwgdCkge1xuICByZXR1cm4gbmV3IE8oKHIpID0+IHtcbiAgICBjb25zdCBpID0gKC4uLnMpID0+IHtcbiAgICAgIHIubmV4dChzKTtcbiAgICB9O1xuICAgIHJldHVybiBlLm9uKHQsIGkpLCAoKSA9PiB7XG4gICAgICBlLm9mZih0LCBpKTtcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGJzKGUpIHtcbiAgcmV0dXJuIEFuKGUsIE50LlRyYW5zY3JpcHRpb25SZWNlaXZlZCk7XG59XG5mdW5jdGlvbiB5cyhlKSB7XG4gIHJldHVybiBBbihlLCBOdC5UaW1lU3luY1VwZGF0ZSkucGlwZShcbiAgICBrKChbdF0pID0+IHQpXG4gICk7XG59XG5mdW5jdGlvbiB3cyhlLCB0ID0gMWUzKSB7XG4gIGlmIChlID09PSBudWxsKSByZXR1cm4gQ3QoITEpO1xuICBjb25zdCBuID0gWmUoZSwgXCJtb3VzZW1vdmVcIiwgeyBwYXNzaXZlOiAhMCB9KS5waXBlKGsoKCkgPT4gITApKSwgciA9IG4ucGlwZShcbiAgICBpaSh7XG4gICAgICBlYWNoOiB0LFxuICAgICAgd2l0aDogKCkgPT4gTWUoQ3QoITEpLCByLnBpcGUoRWkobikpKVxuICAgIH0pLFxuICAgIHlpKClcbiAgKTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBwbyhlLCB0KSB7XG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID4gXCJ1XCIpIHtcbiAgICBfLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAodCkge1xuICAgICAgY29uc3QgbiA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbLCByXSkgPT4gciAhPT0gXCJcIilcbiAgICAgICk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLCBKU09OLnN0cmluZ2lmeShuKSk7XG4gICAgfVxuICB9IGNhdGNoIChuKSB7XG4gICAgXy5lcnJvcihgRXJyb3Igc2V0dGluZyBpdGVtIHRvIGxvY2FsIHN0b3JhZ2U6ICR7bn1gKTtcbiAgfVxufVxuZnVuY3Rpb24gaG8oZSkge1xuICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA+IFwidVwiKSB7XG4gICAgXy5lcnJvcihcIkxvY2FsIHN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZS5cIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpO1xuICAgIGlmICghdCkge1xuICAgICAgXy53YXJuKGBJdGVtIHdpdGgga2V5ICR7ZX0gZG9lcyBub3QgZXhpc3QgaW4gbG9jYWwgc3RvcmFnZS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodCk7XG4gIH0gY2F0Y2ggKHQpIHtcbiAgICBfLmVycm9yKGBFcnJvciBnZXR0aW5nIGl0ZW0gZnJvbSBsb2NhbCBzdG9yYWdlOiAke3R9YCk7XG4gICAgcmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiB2byhlKSB7XG4gIHJldHVybiB7XG4gICAgbG9hZDogKCkgPT4gaG8oZSksXG4gICAgc2F2ZTogKHQpID0+IHBvKGUsIHQpXG4gIH07XG59XG52YXIgbW8gPSBgJHtibn0tdXNlci1jaG9pY2VzYCwgYmUgPSB7XG4gIHZpZGVvRW5hYmxlZDogITAsXG4gIGF1ZGlvRW5hYmxlZDogITAsXG4gIHZpZGVvRGV2aWNlSWQ6IFwiZGVmYXVsdFwiLFxuICBhdWRpb0RldmljZUlkOiBcImRlZmF1bHRcIixcbiAgdXNlcm5hbWU6IFwiXCJcbn0sIHsgbG9hZDogZ28sIHNhdmU6IGJvIH0gPSB2byhtbyk7XG5mdW5jdGlvbiBTcyhlLCB0ID0gITEpIHtcbiAgdCAhPT0gITAgJiYgYm8oZSk7XG59XG5mdW5jdGlvbiB4cyhlLCB0ID0gITEpIHtcbiAgdmFyIG4sIHIsIGksIG8sIHM7XG4gIGNvbnN0IGEgPSB7XG4gICAgdmlkZW9FbmFibGVkOiAobiA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUudmlkZW9FbmFibGVkKSAhPSBudWxsID8gbiA6IGJlLnZpZGVvRW5hYmxlZCxcbiAgICBhdWRpb0VuYWJsZWQ6IChyID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5hdWRpb0VuYWJsZWQpICE9IG51bGwgPyByIDogYmUuYXVkaW9FbmFibGVkLFxuICAgIHZpZGVvRGV2aWNlSWQ6IChpID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS52aWRlb0RldmljZUlkKSAhPSBudWxsID8gaSA6IGJlLnZpZGVvRGV2aWNlSWQsXG4gICAgYXVkaW9EZXZpY2VJZDogKG8gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLmF1ZGlvRGV2aWNlSWQpICE9IG51bGwgPyBvIDogYmUuYXVkaW9EZXZpY2VJZCxcbiAgICB1c2VybmFtZTogKHMgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnVzZXJuYW1lKSAhPSBudWxsID8gcyA6IGJlLnVzZXJuYW1lXG4gIH07XG4gIGlmICh0KVxuICAgIHJldHVybiBhO1xuICB7XG4gICAgY29uc3QgYyA9IGdvKCk7XG4gICAgcmV0dXJuIFEoUSh7fSwgYSksIGMgPz8ge30pO1xuICB9XG59XG5mdW5jdGlvbiBrbihlLCB0KSB7XG4gIGlmICh0Lm1zZyA9PT0gXCJzaG93X2NoYXRcIilcbiAgICByZXR1cm4geyAuLi5lLCBzaG93Q2hhdDogITAsIHVucmVhZE1lc3NhZ2VzOiAwIH07XG4gIGlmICh0Lm1zZyA9PT0gXCJoaWRlX2NoYXRcIilcbiAgICByZXR1cm4geyAuLi5lLCBzaG93Q2hhdDogITEgfTtcbiAgaWYgKHQubXNnID09PSBcInRvZ2dsZV9jaGF0XCIpIHtcbiAgICBjb25zdCBuID0geyAuLi5lLCBzaG93Q2hhdDogIWUuc2hvd0NoYXQgfTtcbiAgICByZXR1cm4gbi5zaG93Q2hhdCA9PT0gITAgJiYgKG4udW5yZWFkTWVzc2FnZXMgPSAwKSwgbjtcbiAgfSBlbHNlIHJldHVybiB0Lm1zZyA9PT0gXCJ1bnJlYWRfbXNnXCIgPyB7IC4uLmUsIHVucmVhZE1lc3NhZ2VzOiB0LmNvdW50IH0gOiB0Lm1zZyA9PT0gXCJ0b2dnbGVfc2V0dGluZ3NcIiA/IHsgLi4uZSwgc2hvd1NldHRpbmdzOiAhZS5zaG93U2V0dGluZ3MgfSA6IHsgLi4uZSB9O1xufVxuZnVuY3Rpb24gT24oZSwgdCkge1xuICByZXR1cm4gdC5tc2cgPT09IFwic2V0X3BpblwiID8gW3QudHJhY2tSZWZlcmVuY2VdIDogdC5tc2cgPT09IFwiY2xlYXJfcGluXCIgPyBbXSA6IHsgLi4uZSB9O1xufVxuY29uc3QgTG4gPSBNLmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIEVzKCkge1xuICBjb25zdCBlID0gTS51c2VDb250ZXh0KExuKTtcbiAgaWYgKCFlKVxuICAgIHRocm93IEVycm9yKFwiVHJpZWQgdG8gYWNjZXNzIExheW91dENvbnRleHQgY29udGV4dCBvdXRzaWRlIGEgTGF5b3V0Q29udGV4dFByb3ZpZGVyIHByb3ZpZGVyLlwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBUcyhlKSB7XG4gIGNvbnN0IHQgPSB5bygpO1xuICBpZiAoZSA/PyAoZSA9IHQpLCAhZSlcbiAgICB0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGFjY2VzcyBMYXlvdXRDb250ZXh0IGNvbnRleHQgb3V0c2lkZSBhIExheW91dENvbnRleHRQcm92aWRlciBwcm92aWRlci5cIik7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gQ3MoKSB7XG4gIGNvbnN0IFtlLCB0XSA9IE0udXNlUmVkdWNlcihPbiwgU24pLCBbbiwgcl0gPSBNLnVzZVJlZHVjZXIoa24sIHhuKTtcbiAgcmV0dXJuIHtcbiAgICBwaW46IHsgZGlzcGF0Y2g6IHQsIHN0YXRlOiBlIH0sXG4gICAgd2lkZ2V0OiB7IGRpc3BhdGNoOiByLCBzdGF0ZTogbiB9XG4gIH07XG59XG5mdW5jdGlvbiBQcyhlKSB7XG4gIGNvbnN0IFt0LCBuXSA9IE0udXNlUmVkdWNlcihPbiwgU24pLCBbciwgaV0gPSBNLnVzZVJlZHVjZXIoa24sIHhuKTtcbiAgcmV0dXJuIGUgPz8ge1xuICAgIHBpbjogeyBkaXNwYXRjaDogbiwgc3RhdGU6IHQgfSxcbiAgICB3aWRnZXQ6IHsgZGlzcGF0Y2g6IGksIHN0YXRlOiByIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHlvKCkge1xuICByZXR1cm4gTS51c2VDb250ZXh0KExuKTtcbn1cbmNvbnN0IF9uID0gTS5jcmVhdGVDb250ZXh0KFxuICB2b2lkIDBcbik7XG5mdW5jdGlvbiBBcygpIHtcbiAgY29uc3QgZSA9IE0udXNlQ29udGV4dChfbik7XG4gIGlmICghZSlcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyB0cmFjayBjb250ZXh0IG91dHNpZGUgb2YgdHJhY2sgY29udGV4dCBwcm92aWRlclwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBJbigpIHtcbiAgcmV0dXJuIE0udXNlQ29udGV4dChfbik7XG59XG5mdW5jdGlvbiBrcyhlKSB7XG4gIGNvbnN0IHQgPSBJbigpLCBuID0gZSA/PyB0O1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyBUcmFja1JlZiwgbWFrZSBzdXJlIHlvdSBhcmUgaW5zaWRlIGEgVHJhY2tSZWZDb250ZXh0IG9yIHBhc3MgdGhlIFRyYWNrUmVmIGV4cGxpY2l0bHlcIlxuICAgICk7XG4gIHJldHVybiBuO1xufVxuY29uc3QgTW4gPSBNLmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIE9zKCkge1xuICBjb25zdCBlID0gTS51c2VDb250ZXh0KE1uKTtcbiAgaWYgKCFlKVxuICAgIHRocm93IEVycm9yKFwidHJpZWQgdG8gYWNjZXNzIHBhcnRpY2lwYW50IGNvbnRleHQgb3V0c2lkZSBvZiBwYXJ0aWNpcGFudCBjb250ZXh0IHByb3ZpZGVyXCIpO1xuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHdvKCkge1xuICByZXR1cm4gTS51c2VDb250ZXh0KE1uKTtcbn1cbmZ1bmN0aW9uIExzKGUpIHtcbiAgY29uc3QgdCA9IHdvKCksIG4gPSBJbigpLCByID0gZSA/PyB0ID8/IChuID09IG51bGwgPyB2b2lkIDAgOiBuLnBhcnRpY2lwYW50KTtcbiAgaWYgKCFyKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTm8gcGFydGljaXBhbnQgcHJvdmlkZWQsIG1ha2Ugc3VyZSB5b3UgYXJlIGluc2lkZSBhIHBhcnRpY2lwYW50IGNvbnRleHQgb3IgcGFzcyB0aGUgcGFydGljaXBhbnQgZXhwbGljaXRseVwiXG4gICAgKTtcbiAgcmV0dXJuIHI7XG59XG5jb25zdCBEbiA9IE0uY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gX3MoKSB7XG4gIGNvbnN0IGUgPSBNLnVzZUNvbnRleHQoRG4pO1xuICBpZiAoIWUpXG4gICAgdGhyb3cgRXJyb3IoXCJ0cmllZCB0byBhY2Nlc3Mgcm9vbSBjb250ZXh0IG91dHNpZGUgb2YgbGl2ZWtpdCByb29tIGNvbXBvbmVudFwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBTbygpIHtcbiAgcmV0dXJuIE0udXNlQ29udGV4dChEbik7XG59XG5mdW5jdGlvbiBJcyhlKSB7XG4gIGNvbnN0IHQgPSBTbygpLCBuID0gZSA/PyB0O1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyByb29tIHByb3ZpZGVkLCBtYWtlIHN1cmUgeW91IGFyZSBpbnNpZGUgYSBSb29tIGNvbnRleHQgb3IgcGFzcyB0aGUgcm9vbSBleHBsaWNpdGx5XCJcbiAgICApO1xuICByZXR1cm4gbjtcbn1cbmNvbnN0IHhvID0gTS5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5mdW5jdGlvbiBNcyhlKSB7XG4gIGNvbnN0IHQgPSBNLnVzZUNvbnRleHQoeG8pO1xuICBpZiAoZSA9PT0gITApIHtcbiAgICBpZiAodClcbiAgICAgIHJldHVybiB0O1xuICAgIHRocm93IEVycm9yKFwidHJpZWQgdG8gYWNjZXNzIGZlYXR1cmUgY29udGV4dCwgYnV0IG5vbmUgaXMgcHJlc2VudFwiKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmV4cG9ydCB7XG4gIFNzIGFzICQsXG4gIFdvIGFzIEEsXG4gIHdvIGFzIEIsXG4gIG5vIGFzIEMsXG4gIGNzIGFzIEQsXG4gIEpvIGFzIEUsXG4gIFRzIGFzIEYsXG4gIERvIGFzIEcsXG4gIHFvIGFzIEgsXG4gIFpvIGFzIEksXG4gIEhvIGFzIEosXG4gIHpvIGFzIEssXG4gIHhvIGFzIEwsXG4gIGpvIGFzIE0sXG4gIGxzIGFzIE4sXG4gIGZzIGFzIE8sXG4gIGRzIGFzIFAsXG4gIHNzIGFzIFEsXG4gIERuIGFzIFIsXG4gIHRzIGFzIFMsXG4gIG5zIGFzIFQsXG4gIEZpIGFzIFUsXG4gIG1zIGFzIFYsXG4gIFVvIGFzIFcsXG4gIEl0IGFzIFgsXG4gIEJvIGFzIFksXG4gIHVzIGFzIFosXG4gIHhzIGFzIF8sXG4gIEVzIGFzIGEsXG4gIEdvIGFzIGEwLFxuICBGIGFzIGExLFxuICBncyBhcyBhMixcbiAgeXMgYXMgYTMsXG4gIGJzIGFzIGE0LFxuICAkbyBhcyBhNSxcbiAgTm8gYXMgYTYsXG4gIGVzIGFzIGE3LFxuICBLbyBhcyBhOCxcbiAgSW4gYXMgYTksXG4gIExuIGFzIGFhLFxuICBhcyBhcyBhYixcbiAgYnIgYXMgYWMsXG4gIHlyIGFzIGFkLFxuICBNbiBhcyBhZSxcbiAgX24gYXMgYWYsXG4gIE1zIGFzIGFnLFxuICB3cyBhcyBhaCxcbiAgUG8gYXMgYWksXG4gIFBzIGFzIGFqLFxuICBfbyBhcyBhayxcbiAgTG8gYXMgYWwsXG4gIGtvIGFzIGFtLFxuICBPbyBhcyBhbixcbiAgUm8gYXMgYW8sXG4gIENzIGFzIGFwLFxuICBUbyBhcyBhcSxcbiAgQW8gYXMgYXIsXG4gIElvIGFzIGFzLFxuICBNbyBhcyBhdCxcbiAgT3MgYXMgYXUsXG4gIEFzIGFzIGF2LFxuICBocyBhcyBiLFxuICBMcyBhcyBjLFxuICBvcyBhcyBkLFxuICBWbyBhcyBlLFxuICBfcyBhcyBmLFxuICBvbyBhcyBnLFxuICBpcyBhcyBoLFxuICBrcyBhcyBpLFxuICB5byBhcyBqLFxuICBwcyBhcyBrLFxuICBfIGFzIGwsXG4gIENvIGFzIG0sXG4gICRpIGFzIG4sXG4gIGlvIGFzIG8sXG4gIE4gYXMgcCxcbiAgUW8gYXMgcSxcbiAgWmkgYXMgcixcbiAgdnMgYXMgcyxcbiAgUG4gYXMgdCxcbiAgSXMgYXMgdSxcbiAgWG8gYXMgdixcbiAgU28gYXMgdyxcbiAgWW8gYXMgeCxcbiAgcnMgYXMgeSxcbiAgRm8gYXMgelxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRzLUI3WWdDN2ppLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ Et),\n/* harmony export */   B: () => (/* binding */ Lt),\n/* harmony export */   C: () => (/* binding */ Ye),\n/* harmony export */   D: () => (/* binding */ St),\n/* harmony export */   E: () => (/* binding */ Mt),\n/* harmony export */   F: () => (/* binding */ je),\n/* harmony export */   G: () => (/* binding */ z),\n/* harmony export */   H: () => (/* binding */ Xe),\n/* harmony export */   I: () => (/* binding */ Ct),\n/* harmony export */   J: () => (/* binding */ It),\n/* harmony export */   K: () => (/* binding */ Dt),\n/* harmony export */   L: () => (/* binding */ Rt),\n/* harmony export */   M: () => (/* binding */ G),\n/* harmony export */   N: () => (/* binding */ Nt),\n/* harmony export */   O: () => (/* binding */ Ze),\n/* harmony export */   P: () => (/* binding */ qt),\n/* harmony export */   Q: () => (/* binding */ Qt),\n/* harmony export */   R: () => (/* binding */ Ht),\n/* harmony export */   S: () => (/* binding */ Xt),\n/* harmony export */   T: () => (/* binding */ it),\n/* harmony export */   U: () => (/* binding */ lt),\n/* harmony export */   V: () => (/* binding */ Kt),\n/* harmony export */   W: () => (/* binding */ ft),\n/* harmony export */   X: () => (/* binding */ Yt),\n/* harmony export */   Y: () => (/* binding */ Zt),\n/* harmony export */   a: () => (/* binding */ O),\n/* harmony export */   b: () => (/* binding */ Ut),\n/* harmony export */   c: () => (/* binding */ yt),\n/* harmony export */   d: () => (/* binding */ Pt),\n/* harmony export */   e: () => (/* binding */ Tt),\n/* harmony export */   f: () => (/* binding */ Vt),\n/* harmony export */   g: () => (/* binding */ Bt),\n/* harmony export */   h: () => (/* binding */ _t),\n/* harmony export */   i: () => (/* binding */ ht),\n/* harmony export */   j: () => (/* binding */ b),\n/* harmony export */   k: () => (/* binding */ Jt),\n/* harmony export */   l: () => (/* binding */ Ot),\n/* harmony export */   m: () => (/* binding */ xt),\n/* harmony export */   n: () => (/* binding */ kt),\n/* harmony export */   o: () => (/* binding */ At),\n/* harmony export */   p: () => (/* binding */ zt),\n/* harmony export */   q: () => (/* binding */ He),\n/* harmony export */   r: () => (/* binding */ Ke),\n/* harmony export */   s: () => (/* binding */ jt),\n/* harmony export */   t: () => (/* binding */ Wt),\n/* harmony export */   u: () => (/* binding */ vt),\n/* harmony export */   v: () => (/* binding */ Ft),\n/* harmony export */   w: () => (/* binding */ $t),\n/* harmony export */   x: () => (/* binding */ wt),\n/* harmony export */   y: () => (/* binding */ Gt),\n/* harmony export */   z: () => (/* binding */ gt)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-B7YgC7ji.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\");\n/* harmony import */ var _room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./room-BBI9Ul2f.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\n\n\nconst Qe = (e) => {\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useRef(e);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    n.current = e;\n  }), n;\n};\nfunction $e(e, n) {\n  const t = xe(), a = Qe(n);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    let s = !1;\n    const c = e.current;\n    if (!c) return;\n    function o(u, i) {\n      s || a.current(u, i);\n    }\n    return t == null || t.subscribe(c, o), () => {\n      s = !0, t == null || t.unsubscribe(c, o);\n    };\n  }, [e.current, t, a]), t == null ? void 0 : t.observer;\n}\nfunction Ge() {\n  let e = !1, n = [];\n  const t = /* @__PURE__ */ new Map();\n  if (typeof window > \"u\")\n    return;\n  const a = new ResizeObserver((s, c) => {\n    n = n.concat(s), e || window.requestAnimationFrame(() => {\n      const o = /* @__PURE__ */ new Set();\n      for (let u = 0; u < n.length; u++) {\n        if (o.has(n[u].target)) continue;\n        o.add(n[u].target);\n        const i = t.get(n[u].target);\n        i == null || i.forEach((d) => d(n[u], c));\n      }\n      n = [], e = !1;\n    }), e = !0;\n  });\n  return {\n    observer: a,\n    subscribe(s, c) {\n      a.observe(s);\n      const o = t.get(s) ?? [];\n      o.push(c), t.set(s, o);\n    },\n    unsubscribe(s, c) {\n      const o = t.get(s) ?? [];\n      if (o.length === 1) {\n        a.unobserve(s), t.delete(s);\n        return;\n      }\n      const u = o.indexOf(c);\n      u !== -1 && o.splice(u, 1), t.set(s, o);\n    }\n  };\n}\nlet D;\nconst xe = () => D || (D = Ge()), He = (e) => {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState({ width: 0, height: 0 });\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    if (e.current) {\n      const { width: s, height: c } = e.current.getBoundingClientRect();\n      t({ width: s, height: c });\n    }\n  }, [e.current]);\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (s) => t(s.contentRect),\n    []\n  );\n  return $e(e, a), n;\n};\nfunction b(e, n, t = !0) {\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (t && s(n), typeof window > \"u\" || !e) return;\n    const c = e.subscribe(s);\n    return () => c.unsubscribe();\n  }, [e, t]), a;\n}\nfunction gt(e) {\n  const n = (c) => typeof window < \"u\" ? window.matchMedia(c).matches : !1, [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n(e));\n  function s() {\n    a(n(e));\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const c = window.matchMedia(e);\n    return s(), c.addListener ? c.addListener(s) : c.addEventListener(\"change\", s), () => {\n      c.removeListener ? c.removeListener(s) : c.removeEventListener(\"change\", s);\n    };\n  }, [e]), t;\n}\nfunction St(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(async () => {\n    await n.startAudio();\n  }, [n]), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(n),\n    [n]\n  ), { canPlayAudio: s } = b(a, {\n    canPlayAudio: n.canPlaybackAudio\n  });\n  return { canPlayAudio: s, startAudio: t };\n}\nfunction vt(e) {\n  const { state: n, dispatch: t } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().pin;\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: s } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.b)();\n    return (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n      className: s,\n      disabled: !(n != null && n.length),\n      onClick: () => {\n        t && t({ msg: \"clear_pin\" });\n      }\n    });\n  }, [e, t, n]) };\n}\nfunction ht(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), { className: t, connectionQualityObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.d)(n),\n    [n]\n  ), s = b(a, livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Unknown);\n  return { className: t, quality: s };\n}\nfunction O(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.e)(n), [n]);\n  return b(t, n.state);\n}\nfunction Mt(e, n) {\n  const t = typeof e == \"function\" ? e : n, a = typeof e == \"string\" ? e : void 0, s = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), { send: c, messageObservable: o, isSendingObservable: u } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.g)(s, a, t),\n    [s, a, t]\n  ), i = b(o, void 0), d = b(u, !1);\n  return {\n    message: i,\n    send: c,\n    isSending: d\n  };\n}\nfunction yt(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = O(n);\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: s, disconnect: c } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(n);\n    return (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n      className: s,\n      onClick: () => c(e.stopTracks ?? !0),\n      disabled: t === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected\n    });\n  }, [n, e, t]) };\n}\nfunction je(e) {\n  if (e.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalTrackPublication) {\n    const n = e.publication.track;\n    if (n) {\n      const { facingMode: t } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.facingModeFromLocalTrack)(n);\n      return t;\n    }\n  }\n  return \"undefined\";\n}\nfunction Pt({ trackRef: e, props: n }) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), a = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(), { className: s } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(), []), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(t, a == null ? void 0 : a.pin.state), [t, a == null ? void 0 : a.pin.state]);\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: s,\n      onClick: (u) => {\n        var i, d, l, f, p;\n        (i = n.onClick) == null || i.call(n, u), c ? (l = a == null ? void 0 : (d = a.pin).dispatch) == null || l.call(d, {\n          msg: \"clear_pin\"\n        }) : (p = a == null ? void 0 : (f = a.pin).dispatch) == null || p.call(f, {\n          msg: \"set_pin\",\n          trackReference: t\n        });\n      }\n    }),\n    [n, s, t, c, a == null ? void 0 : a.pin]\n  ), inFocus: c };\n}\nfunction kt(e, n, t = {}) {\n  const a = t.gridLayouts ?? _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.G, { width: s, height: c } = He(e), o = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(a, n, s, c);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    e.current && o && (e.current.style.setProperty(\"--lk-col-count\", o == null ? void 0 : o.columns.toString()), e.current.style.setProperty(\"--lk-row-count\", o == null ? void 0 : o.rows.toString()));\n  }, [e, o]), {\n    layout: o,\n    containerWidth: s,\n    containerHeight: c\n  };\n}\nfunction z(e, n = {}) {\n  var u, i;\n  const t = typeof e == \"string\" ? n.participant : e.participant, a = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(t), s = typeof e == \"string\" ? { participant: a, source: e } : e, [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    !!((u = s.publication) != null && u.isMuted || (i = a.getTrackPublication(s.source)) != null && i.isMuted)\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const d = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(s).subscribe(o);\n    return () => d.unsubscribe();\n  }, [(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(s)]), c;\n}\nfunction Xe(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(n), [n]);\n  return b(t, n.isSpeaking);\n}\nfunction Ye(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.localParticipant), [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [o, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [i, d] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.lastMicrophoneError\n  ), [l, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.lastCameraError), [p, g] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [S, m] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    void 0\n  ), [M, v] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), P = (h) => {\n    u(h.isCameraEnabled), c(h.isMicrophoneEnabled), g(h.isScreenShareEnabled), v(h.cameraTrack), m(h.microphoneTrack), d(h.participant.lastMicrophoneError), f(h.participant.lastCameraError), a(h.participant);\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const h = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(n.localParticipant).subscribe(P);\n    return () => h.unsubscribe();\n  }, [n]), {\n    isMicrophoneEnabled: s,\n    isScreenShareEnabled: p,\n    isCameraEnabled: o,\n    microphoneTrack: S,\n    cameraTrack: M,\n    lastMicrophoneError: i,\n    lastCameraError: l,\n    localParticipant: t\n  };\n}\nfunction Et() {\n  const e = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(e.localParticipant),\n    [e]\n  );\n  return b(n, e.localParticipant.permissions);\n}\nfunction Tt({\n  kind: e,\n  room: n,\n  track: t,\n  requestPermissions: a,\n  onError: s\n}) {\n  const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => n ?? c ?? new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room(), [n, c]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, s, a),\n    [e, a, s]\n  ), i = b(u, []), [d, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (o == null ? void 0 : o.getActiveDevice(e)) ?? \"default\"\n  ), { className: f, activeDeviceObservable: p, setActiveMediaDevice: g } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.y)(e, o),\n    [e, o, t]\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const S = p.subscribe((m) => {\n      m && (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"setCurrentDeviceId\", m), l(m));\n    });\n    return () => {\n      S == null || S.unsubscribe();\n    };\n  }, [p]), { devices: i, className: f, activeDeviceId: d, setActiveMediaDevice: g };\n}\nfunction wt({\n  kind: e,\n  onError: n\n}) {\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, n),\n    [e, n]\n  );\n  return b(t, []);\n}\nfunction Ke(e, n, t = {}) {\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]), s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(-1), c = n !== s.current, o = typeof t.customSortFunction == \"function\" ? t.customSortFunction(e) : (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.z)(e);\n  let u = [...o];\n  if (c === !1)\n    try {\n      u = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.A)(a.current, o, n);\n    } catch (i) {\n      _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\"Error while running updatePages(): \", i);\n    }\n  return c ? a.current = o : a.current = u, s.current = n, u;\n}\nfunction At(e, n) {\n  const [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1), s = Math.max(Math.ceil(n.length / e), 1);\n  t > s && a(s);\n  const c = t * e, o = c - e, u = (f) => {\n    a((p) => f === \"next\" ? p === s ? p : p + 1 : p === 1 ? p : p - 1);\n  }, i = (f) => {\n    f > s ? a(s) : f < 1 ? a(1) : a(f);\n  }, l = Ke(n, e).slice(o, c);\n  return {\n    totalPageCount: s,\n    nextPage: () => u(\"next\"),\n    prevPage: () => u(\"previous\"),\n    setPage: i,\n    firstItemIndex: o,\n    lastItemIndex: c,\n    tracks: l,\n    currentPage: t\n  };\n}\nfunction Ct(e = {}) {\n  let n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.B)();\n  e.participant && (n = e.participant);\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.C)(n), [n]), { identity: a, name: s, metadata: c } = b(t, {\n    name: n == null ? void 0 : n.name,\n    identity: n == null ? void 0 : n.identity,\n    metadata: n == null ? void 0 : n.metadata\n  });\n  return { identity: a, name: s, metadata: c };\n}\nfunction It(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(n), [n]);\n  return b(t, n.permissions);\n}\nfunction Ot({\n  trackRef: e,\n  onParticipantClick: n,\n  disableSpeakingIndicator: t,\n  htmlProps: a\n}) {\n  const s = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: p } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.D)();\n    return (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(a, {\n      className: p,\n      onClick: (g) => {\n        var S;\n        if ((S = a.onClick) == null || S.call(a, g), typeof n == \"function\") {\n          const m = s.publication ?? s.participant.getTrackPublication(s.source);\n          n({ participant: s.participant, track: m });\n        }\n      }\n    });\n  }, [\n    a,\n    n,\n    s.publication,\n    s.source,\n    s.participant\n  ]), o = s.participant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    participant: s.participant,\n    source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n    publication: o\n  }), [o, s.participant]), i = z(s), d = z(u), l = Xe(s.participant), f = je(s);\n  return {\n    elementProps: {\n      \"data-lk-audio-muted\": d,\n      \"data-lk-video-muted\": i,\n      \"data-lk-speaking\": t === !0 ? !1 : l,\n      \"data-lk-local-participant\": s.participant.isLocal,\n      \"data-lk-source\": s.source,\n      \"data-lk-facing-mode\": f,\n      ...c\n    }\n  };\n}\nfunction G(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const s = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.E)(n, {\n      additionalRoomEvents: e.updateOnlyOn\n    }).subscribe(a);\n    return () => s.unsubscribe();\n  }, [n, JSON.stringify(e.updateOnlyOn)]), t;\n}\nfunction Dt(e = {}) {\n  const n = G(e), { localParticipant: t } = Ye(e);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => [t, ...n],\n    [t, n]\n  );\n}\nfunction Lt(e) {\n  return e = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.F)(e), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (e == null ? void 0 : e.pin.state) !== void 0 && e.pin.state.length >= 1 ? e.pin.state : [], [e.pin.state]);\n}\nfunction Rt(e, n = {}) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), [a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.updateOnlyOn), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => typeof e == \"string\" ? (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.H)(t, e, {\n    additionalEvents: a\n  }) : (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.I)(t, e, {\n    additionalEvents: a\n  }), [t, JSON.stringify(e), a]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    p: void 0\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const u = s.subscribe((i) => o({ p: i }));\n    return () => u.unsubscribe();\n  }, [s]), c.p;\n}\nfunction Ft(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.J)(n), [n]), { name: a, metadata: s } = b(t, {\n    name: n.name,\n    metadata: n.metadata\n  });\n  return { name: a, metadata: s };\n}\nfunction Ze() {\n  const e = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.K)(e), [e]);\n  return b(n, e.activeSpeakers);\n}\nfunction Nt(e) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e)\n  ), a = Ze();\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    t((0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e));\n  }, [a, e]), n;\n}\nfunction Vt({ room: e, props: n }) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomAudioPlaybackAllowedObservable: s, handleStartAudioPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.N)(),\n    []\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s(t),\n    [t, s]\n  ), { canPlayAudio: u } = b(o, {\n    canPlayAudio: t.canPlaybackAudio\n  });\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: a,\n      onClick: () => {\n        c(t);\n      },\n      style: { display: u ? \"none\" : \"block\" }\n    }),\n    [n, a, u, c, t]\n  ), canPlayAudio: u };\n}\nfunction Bt({ room: e, props: n }) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomVideoPlaybackAllowedObservable: s, handleStartVideoPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.O)(),\n    []\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s(t),\n    [t, s]\n  ), { canPlayVideo: u } = b(o, {\n    canPlayVideo: t.canPlaybackVideo\n  });\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: a,\n      onClick: () => {\n        c(t);\n      },\n      style: { display: u ? \"none\" : \"block\" }\n    }),\n    [n, a, u, c, t]\n  ), canPlayVideo: u };\n}\nfunction zt(e, n = {}) {\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), a = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), s = n.minSwipeDistance ?? 50, c = (i) => {\n    a.current = null, t.current = i.targetTouches[0].clientX;\n  }, o = (i) => {\n    a.current = i.targetTouches[0].clientX;\n  }, u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (!t.current || !a.current)\n      return;\n    const i = t.current - a.current, d = i > s, l = i < -s;\n    d && n.onLeftSwipe && n.onLeftSwipe(), l && n.onRightSwipe && n.onRightSwipe();\n  }, [s, n]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const i = e.current;\n    return i && (i.addEventListener(\"touchstart\", c, { passive: !0 }), i.addEventListener(\"touchmove\", o, { passive: !0 }), i.addEventListener(\"touchend\", u, { passive: !0 })), () => {\n      i && (i.removeEventListener(\"touchstart\", c), i.removeEventListener(\"touchmove\", o), i.removeEventListener(\"touchend\", u));\n    };\n  }, [e, u]);\n}\nfunction Ut({ props: e }) {\n  const { dispatch: n, state: t } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().widget, { className: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.P)(), []);\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n    className: a,\n    onClick: () => {\n      n && n({ msg: \"toggle_chat\" });\n    },\n    \"aria-pressed\": t != null && t.showChat ? \"true\" : \"false\",\n    \"data-lk-unread-msgs\": t ? t.unreadMessages < 10 ? t.unreadMessages.toFixed(0) : \"9+\" : \"0\"\n  }), [e, a, n, t]) };\n}\nfunction qt(e, n, t = {}) {\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var o;\n    if (e === void 0)\n      throw Error(\"token endpoint needs to be defined\");\n    if (((o = t.userInfo) == null ? void 0 : o.identity) === void 0)\n      return;\n    (async () => {\n      _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"fetching token\");\n      const u = new URLSearchParams({ ...t.userInfo, roomName: n }), i = await fetch(`${e}?${u.toString()}`);\n      if (!i.ok) {\n        _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\n          `Could not fetch token. Server responded with status ${i.status}: ${i.statusText}`\n        );\n        return;\n      }\n      const { accessToken: d } = await i.json();\n      s(d);\n    })();\n  }, [e, n, JSON.stringify(t)]), a;\n}\nfunction Jt(e) {\n  var c, o;\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), { className: t, mediaMutedObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.Q)(n),\n    [(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(n)]\n  );\n  return { isMuted: b(\n    a,\n    !!((c = n.publication) != null && c.isMuted || (o = n.participant.getTrackPublication(n.source)) != null && o.isMuted)\n  ), className: t };\n}\nfunction _t({\n  source: e,\n  onChange: n,\n  initialState: t,\n  captureOptions: a,\n  publishOptions: s,\n  onDeviceError: c,\n  ...o\n}) {\n  var P;\n  const u = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), i = (P = u == null ? void 0 : u.localParticipant) == null ? void 0 : P.getTrackPublication(e), d = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1), { toggle: l, className: f, pendingObserver: p, enabledObserver: g } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => u ? (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.S)(e, u, a, s, c) : (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.T)(),\n    [u, e, JSON.stringify(a), s]\n  ), S = b(p, !1), m = b(g, t ?? !!(i != null && i.isEnabled));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    n == null || n(m, d.current), d.current = !1;\n  }, [m, n]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    t !== void 0 && (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"forcing initial toggle state\", e, t), l(t));\n  }, []);\n  const M = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(o, { className: f }), [o, f]), v = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (h) => {\n      var C;\n      d.current = !0, l().catch(() => d.current = !1), (C = o.onClick) == null || C.call(o, h);\n    },\n    [o, l]\n  );\n  return {\n    toggle: l,\n    enabled: m,\n    pending: S,\n    track: i,\n    buttonProps: {\n      ...M,\n      \"aria-pressed\": m,\n      \"data-lk-source\": e,\n      \"data-lk-enabled\": m,\n      disabled: S,\n      onClick: v\n    }\n  };\n}\nfunction Wt(e = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown\n], n = {}) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(n.room), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => e.map((d) => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.U)(d) ? d.source : d), [JSON.stringify(e)]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const d = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.V)(t, u, {\n      additionalRoomEvents: n.updateOnlyOn,\n      onlySubscribed: n.onlySubscribed\n    }).subscribe(({ trackReferences: l, participants: f }) => {\n      _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"setting track bundles\", l, f), s(l), o(f);\n    });\n    return () => d.unsubscribe();\n  }, [\n    t,\n    JSON.stringify(n.onlySubscribed),\n    JSON.stringify(n.updateOnlyOn),\n    JSON.stringify(e)\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if ((0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\n      const d = tt(e, c), l = Array.from(a);\n      return c.forEach((f) => {\n        d.has(f.identity) && (d.get(f.identity) ?? []).forEach((g) => {\n          if (a.find(\n            ({ participant: m, publication: M }) => f.identity === m.identity && M.source === g\n          ))\n            return;\n          _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\n            `Add ${g} placeholder for participant ${f.identity}.`\n          );\n          const S = {\n            participant: f,\n            source: g\n          };\n          l.push(S);\n        });\n      }), l;\n    } else\n      return a;\n  }, [a, c, e]);\n}\nfunction et(e, n) {\n  const t = new Set(e);\n  for (const a of n)\n    t.delete(a);\n  return t;\n}\nfunction tt(e, n) {\n  const t = /* @__PURE__ */ new Map();\n  if ((0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\n    const a = e.filter((s) => s.withPlaceholder).map((s) => s.source);\n    n.forEach((s) => {\n      const c = s.getTrackPublications().map((u) => {\n        var i;\n        return (i = u.track) == null ? void 0 : i.source;\n      }).filter((u) => u !== void 0), o = Array.from(\n        et(new Set(a), new Set(c))\n      );\n      o.length > 0 && t.set(s.identity, o);\n    });\n  }\n  return t;\n}\nfunction nt(e) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.X)(e)), { trackObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.Y)(e), [e.participant.sid ?? e.participant.identity, e.source]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const s = a.subscribe((c) => {\n      t(c);\n    });\n    return () => s == null ? void 0 : s.unsubscribe();\n  }, [a]), {\n    participant: e.participant,\n    source: e.source ?? livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown,\n    publication: n\n  };\n}\nfunction Qt(e, n) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n);\n  return nt({ name: e, participant: t });\n}\nfunction $t(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = O(n), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => t === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected,\n    [t]\n  ), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.Z)(n, e),\n    [n, e, a]\n  ), c = b(s.isSendingObservable, !1), o = b(s.messageObservable, []);\n  return { send: s.send, update: s.update, chatMessages: o, isSending: c };\n}\nfunction Gt(e = {}) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__._)(e.defaults, e.preventLoad ?? !1)\n  ), a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((d) => ({ ...d, audioEnabled: i }));\n  }, []), s = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((d) => ({ ...d, videoEnabled: i }));\n  }, []), c = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((d) => ({ ...d, audioDeviceId: i }));\n  }, []), o = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((d) => ({ ...d, videoDeviceId: i }));\n  }, []), u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((d) => ({ ...d, username: i }));\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.$)(n, e.preventSave ?? !1);\n  }, [n, e.preventSave]), {\n    userChoices: n,\n    saveAudioInputEnabled: a,\n    saveVideoInputEnabled: s,\n    saveAudioInputDeviceId: c,\n    saveVideoInputDeviceId: o,\n    saveUsername: u\n  };\n}\nfunction xt(e, n = {}) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), a = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(n.room), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a0)(a, t), [a, t]);\n  return b(\n    s,\n    t.isLocal ? t.isE2EEEnabled : !!(t != null && t.isEncrypted)\n  );\n}\nfunction Ht(e, n = { fftSize: 32, smoothingTimeConstant: 0 }) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a1)(e) ? e.publication.track : e, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !t.mediaStream)\n      return;\n    const { cleanup: c, analyser: o } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, n), u = o.frequencyBinCount, i = new Uint8Array(u), l = setInterval(() => {\n      o.getByteFrequencyData(i);\n      let f = 0;\n      for (let p = 0; p < i.length; p++) {\n        const g = i[p];\n        f += g * g;\n      }\n      s(Math.sqrt(f / i.length) / 255);\n    }, 1e3 / 30);\n    return () => {\n      c(), clearInterval(l);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n)]), a;\n}\nconst st = (e) => {\n  const n = (t) => {\n    let c = 1 - Math.max(-100, Math.min(-10, t)) * -1 / 100;\n    return c = Math.sqrt(c), c;\n  };\n  return e.map((t) => t === -1 / 0 ? 0 : n(t));\n}, at = {\n  bands: 5,\n  loPass: 100,\n  hiPass: 600,\n  updateInterval: 32,\n  analyserOptions: { fftSize: 2048 }\n};\nfunction jt(e, n = {}) {\n  var o;\n  const t = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (o = e == null ? void 0 : e.publication) == null ? void 0 : o.track, a = { ...at, ...n }, [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    new Array(a.bands).fill(0)\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !(t != null && t.mediaStream))\n      return;\n    const { analyser: u, cleanup: i } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, a.analyserOptions), d = u.frequencyBinCount, l = new Float32Array(d), p = setInterval(() => {\n      u.getFloatFrequencyData(l);\n      let g = new Float32Array(l.length);\n      for (let v = 0; v < l.length; v++)\n        g[v] = l[v];\n      g = g.slice(n.loPass, n.hiPass);\n      const S = st(g), m = Math.ceil(S.length / a.bands), M = [];\n      for (let v = 0; v < a.bands; v++) {\n        const P = S.slice(v * m, (v + 1) * m).reduce((h, C) => h += C, 0);\n        M.push(P / m);\n      }\n      c(M);\n    }, a.updateInterval);\n    return () => {\n      i(), clearInterval(p);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n)]), s;\n}\nconst rt = {\n  barCount: 120,\n  volMultiplier: 5,\n  updateInterval: 20\n};\nfunction Xt(e, n = {}) {\n  var l;\n  const t = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (l = e == null ? void 0 : e.publication) == null ? void 0 : l.track, a = { ...rt, ...n }, s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new Float32Array()), c = react__WEBPACK_IMPORTED_MODULE_0__.useRef(performance.now()), o = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), [u, i] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), d = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((f) => {\n    i(\n      Array.from(\n        ot(f, a.barCount).map((p) => Math.sqrt(p) * a.volMultiplier)\n        // wave.slice(0, opts.barCount).map((v) => sigmoid(v * opts.volMultiplier, 0.08, 0.2)),\n      )\n    );\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !(t != null && t.mediaStream))\n      return;\n    const { analyser: f, cleanup: p } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, {\n      fftSize: U(a.barCount)\n    }), g = U(a.barCount), S = new Float32Array(g), m = () => {\n      if (M = requestAnimationFrame(m), f.getFloatTimeDomainData(S), s.current.map((v, P) => v + S[P]), o.current += 1, performance.now() - c.current >= a.updateInterval) {\n        const v = S.map((P) => P / o.current);\n        d(v), c.current = performance.now(), o.current = 0;\n      }\n    };\n    let M = requestAnimationFrame(m);\n    return () => {\n      p(), cancelAnimationFrame(M);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n), d]), {\n    bars: u\n  };\n}\nfunction U(e) {\n  return e < 32 ? 32 : ct(e);\n}\nfunction ct(e) {\n  let n = 2;\n  for (; e >>= 1; )\n    n <<= 1;\n  return n;\n}\nfunction ot(e, n) {\n  const t = Math.floor(e.length / n), a = new Float32Array(n);\n  for (let s = 0; s < n; s++) {\n    const c = t * s;\n    let o = 0;\n    for (let u = 0; u < t; u++)\n      o = o + Math.abs(e[c + u]);\n    a[s] = o / t;\n  }\n  return a;\n}\nfunction it(e, n) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), a = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), s = n ? t.getParticipantByIdentity(n) : a, c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s ? (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a2)(s, { sources: e }) : void 0,\n    [s == null ? void 0 : s.sid, s == null ? void 0 : s.identity, JSON.stringify(e)]\n  );\n  return b(c, []);\n}\nfunction ut(e) {\n  var t, a, s;\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => {\n      var c;\n      return (c = e == null ? void 0 : e.publication) != null && c.track ? (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a3)(e == null ? void 0 : e.publication.track) : void 0;\n    },\n    [(t = e == null ? void 0 : e.publication) == null ? void 0 : t.track]\n  );\n  return b(n, {\n    timestamp: Date.now(),\n    rtpTimestamp: (s = (a = e == null ? void 0 : e.publication) == null ? void 0 : a.track) == null ? void 0 : s.rtpTimestamp\n  });\n}\nconst dt = {\n  bufferSize: 100\n  // maxAge: 2_000,\n};\nfunction lt(e, n) {\n  const t = { ...dt, ...n }, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), c = ut(e), o = (u) => {\n    var i;\n    (i = t.onTranscription) == null || i.call(t, u), s(\n      (d) => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a5)(\n        d,\n        // when first receiving a segment, add the current media timestamp to it\n        u.map((l) => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a6)(l, c)),\n        t.bufferSize\n      )\n    );\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!(e != null && e.publication))\n      return;\n    const u = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a4)(e.publication).subscribe((i) => {\n      o(...i);\n    });\n    return () => {\n      u.unsubscribe();\n    };\n  }, [e && (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(e), o]), { segments: a };\n}\nfunction ft(e = {}) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), t = e.participant ?? n, a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    // weird typescript constraint\n    () => t ? (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t) : (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t),\n    [t]\n  );\n  return b(a, {\n    attributes: t == null ? void 0 : t.attributes\n  });\n}\nfunction Yt(e, n = {}) {\n  const t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n.participant), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.attributes[e]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t)\n      return;\n    const c = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t).subscribe((o) => {\n      o.changed[e] !== void 0 && s(o.attributes[e]);\n    });\n    return () => {\n      c.unsubscribe();\n    };\n  }, [t, e]), a;\n}\nconst q = \"lk.agent.state\";\nfunction Kt() {\n  const e = G().find((o) => o.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ParticipantKind.AGENT), n = it([livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone], e == null ? void 0 : e.identity)[0], { segments: t } = lt(n), a = O(), { attributes: s } = ft({ participant: e }), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => a === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected ? \"disconnected\" : a === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting || !e || !(s != null && s[q]) ? \"connecting\" : s[q], [s, e, a]);\n  return {\n    agent: e,\n    state: c,\n    audioTrack: n,\n    agentTranscriptions: t,\n    agentAttributes: s\n  };\n}\nfunction Zt(e) {\n  const n = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = O(n), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.a8)(n), [n, t]);\n  return b(a, n.isRecording);\n}\n\n//# sourceMappingURL=hooks-JwdUfgCD.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvaG9va3MtSndkVWZnQ0QubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDOGhCO0FBQzVnQjtBQUN3SztBQUNyTjtBQUNBLFlBQVkseUNBQVE7QUFDcEIsU0FBUyw0Q0FBVztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVUsR0FBRyxxQkFBcUI7QUFDbkQsRUFBRSxrREFBaUI7QUFDbkI7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQyxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBLEdBQUc7QUFDSCxZQUFZLDhDQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyQ0FBVTtBQUMzQixTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EscUZBQXFGLDJDQUFVO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVkseURBQUMsU0FBUyw4Q0FBYTtBQUNuQztBQUNBLEdBQUcsWUFBWSwwQ0FBUztBQUN4QixVQUFVLHlEQUFDO0FBQ1g7QUFDQSxPQUFPLGtCQUFrQjtBQUN6QjtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVUsd0JBQXdCLEVBQUUseURBQUM7QUFDckMsV0FBVyxhQUFhLDBDQUFTO0FBQ2pDLFlBQVksZUFBZSxFQUFFLHlEQUFDO0FBQzlCLFdBQVcscURBQUM7QUFDWjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLGtCQUFrQjtBQUNsQixZQUFZLHlEQUFDLG1CQUFtQiw2Q0FBNkMsRUFBRSwwQ0FBUztBQUN4RixVQUFVLHlEQUFDO0FBQ1g7QUFDQSxjQUFjLDZEQUFFO0FBQ2hCLFdBQVc7QUFDWDtBQUNBO0FBQ0EsWUFBWSx5REFBQyxTQUFTLDBDQUFTLE9BQU8seURBQUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLHlEQUFDLE1BQU0sd0RBQXdELEVBQUUsMENBQVM7QUFDakssVUFBVSx5REFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQUM7QUFDYixXQUFXLGFBQWEsMENBQVM7QUFDakMsWUFBWSw4QkFBOEIsRUFBRSx5REFBQztBQUM3QyxXQUFXLHFEQUFDO0FBQ1o7QUFDQTtBQUNBLHNCQUFzQiwyREFBQztBQUN2QixLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQUU7QUFDakM7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLEVBQUUsd0VBQUU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdUJBQXVCO0FBQ3JDLFlBQVkseURBQUMsU0FBUyx5REFBQyxNQUFNLGVBQWUsRUFBRSwwQ0FBUyxPQUFPLHlEQUFFLGFBQWEsMENBQVMsT0FBTyx5REFBRTtBQUMvRixXQUFXLGFBQWEsMENBQVM7QUFDakMsVUFBVSxxREFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsNkJBQTZCLHFEQUFFLElBQUksc0JBQXNCLGFBQWEseURBQUU7QUFDeEUsU0FBUyw0Q0FBVztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0Esc0VBQXNFLHlEQUFDLGtDQUFrQyw0QkFBNEIsY0FBYywyQ0FBVTtBQUM3SjtBQUNBO0FBQ0EsU0FBUyw0Q0FBVztBQUNwQixjQUFjLHlEQUFFO0FBQ2hCO0FBQ0EsR0FBRyxHQUFHLHlEQUFDO0FBQ1A7QUFDQTtBQUNBLFlBQVkseURBQUMsU0FBUywwQ0FBUyxPQUFPLHlEQUFFO0FBQ3hDO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsWUFBWSx5REFBQyxtQkFBbUIsMkNBQVUsK0JBQStCLDJDQUFVO0FBQ25GO0FBQ0EsY0FBYywyQ0FBVTtBQUN4QjtBQUNBLGNBQWMsMkNBQVU7QUFDeEI7QUFDQSxjQUFjLDJDQUFVLDhCQUE4QiwyQ0FBVTtBQUNoRTtBQUNBLGNBQWMsMkNBQVU7QUFDeEI7QUFDQSxjQUFjLDJDQUFVO0FBQ3hCO0FBQ0E7QUFDQSxTQUFTLDRDQUFXO0FBQ3BCLGNBQWMseURBQUU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQUMsUUFBUSwwQ0FBUztBQUM5QixVQUFVLHlEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsWUFBWSx5REFBQyxRQUFRLDBDQUFTLHFCQUFxQixnREFBRSxpQkFBaUIsMENBQVM7QUFDL0UsVUFBVSx5REFBQztBQUNYO0FBQ0EsNEJBQTRCLDJDQUFVO0FBQ3RDO0FBQ0EsT0FBTyxtRUFBbUUsRUFBRSwwQ0FBUztBQUNyRixVQUFVLHlEQUFFO0FBQ1o7QUFDQTtBQUNBLFNBQVMsNENBQVc7QUFDcEI7QUFDQSxZQUFZLHFEQUFDO0FBQ2IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUcsVUFBVTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFlBQVksMENBQVM7QUFDckIsVUFBVSx5REFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLFlBQVkseUNBQVEsVUFBVSx5Q0FBUSxxR0FBcUcseURBQUU7QUFDN0k7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5REFBRTtBQUNaLE1BQU07QUFDTixNQUFNLHFEQUFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsVUFBVSx5REFBQztBQUNYO0FBQ0EsWUFBWSwwQ0FBUyxPQUFPLHlEQUFFLGFBQWEsb0NBQW9DO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQSxrQkFBa0I7QUFDbEIsWUFBWSx5REFBQyxxQkFBcUIsMENBQVMsT0FBTyx5REFBQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxZQUFZLHlEQUFDLFNBQVMsMENBQVM7QUFDL0IsWUFBWSxlQUFlLEVBQUUseURBQUU7QUFDL0IsV0FBVyxxREFBQztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNDQUFzQztBQUNwRDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGlEQUFDLHlCQUF5QiwwQ0FBUztBQUMvRTtBQUNBLFlBQVksaURBQUM7QUFDYjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsWUFBWSx5REFBQyxtQkFBbUIsMkNBQVU7QUFDMUMsU0FBUyw0Q0FBVztBQUNwQixjQUFjLHlEQUFFO0FBQ2hCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0JBQWtCO0FBQ2xCLG9CQUFvQixzQkFBc0I7QUFDMUMsU0FBUywwQ0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5REFBRSxLQUFLLDBDQUFTO0FBQzdCO0FBQ0EscUJBQXFCO0FBQ3JCLFlBQVkseURBQUMsVUFBVSwyQ0FBVSxzQkFBc0IsMENBQVMsOEJBQThCLHlEQUFFO0FBQ2hHO0FBQ0EsR0FBRyxJQUFJLHlEQUFFO0FBQ1Q7QUFDQSxHQUFHLHdDQUF3QywyQ0FBVTtBQUNyRDtBQUNBLEdBQUc7QUFDSCxTQUFTLDRDQUFXO0FBQ3BCLHFDQUFxQyxNQUFNO0FBQzNDO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0JBQWtCO0FBQ2xCLFlBQVkseURBQUMsY0FBYywwQ0FBUyxPQUFPLHlEQUFFLGFBQWEsdUJBQXVCO0FBQ2pGO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYO0FBQ0E7QUFDQSxZQUFZLHlEQUFDLFFBQVEsMENBQVMsT0FBTyx5REFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVU7QUFDM0IsSUFBSSx5REFBQztBQUNMO0FBQ0EsU0FBUyw0Q0FBVztBQUNwQixNQUFNLHlEQUFDO0FBQ1AsR0FBRztBQUNIO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakMsWUFBWSx5REFBQyxPQUFPLG1GQUFtRixFQUFFLDBDQUFTO0FBQ2xILFVBQVUseURBQUU7QUFDWjtBQUNBLFNBQVMsMENBQVM7QUFDbEI7QUFDQTtBQUNBLE9BQU8sa0JBQWtCO0FBQ3pCO0FBQ0EsR0FBRztBQUNILFdBQVcsYUFBYSwwQ0FBUztBQUNqQyxVQUFVLHFEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGVBQWU7QUFDZixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakMsWUFBWSx5REFBQyxPQUFPLG1GQUFtRixFQUFFLDBDQUFTO0FBQ2xILFVBQVUseURBQUU7QUFDWjtBQUNBLFNBQVMsMENBQVM7QUFDbEI7QUFDQTtBQUNBLE9BQU8sa0JBQWtCO0FBQ3pCO0FBQ0EsR0FBRztBQUNILFdBQVcsYUFBYSwwQ0FBUztBQUNqQyxVQUFVLHFEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGVBQWU7QUFDZixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFlBQVkseUNBQVEsWUFBWSx5Q0FBUTtBQUN4QztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUcsTUFBTSw4Q0FBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLDRDQUFXO0FBQ2I7QUFDQSx1REFBdUQsYUFBYSx3Q0FBd0MsYUFBYSx1Q0FBdUMsYUFBYTtBQUM3SztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLFVBQVUsd0JBQXdCLEVBQUUseURBQUMsYUFBYSxlQUFlLEVBQUUsMENBQVMsT0FBTyx5REFBRTtBQUNyRixXQUFXLGFBQWEsMENBQVMsT0FBTyxxREFBQztBQUN6QztBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkMsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3QkFBd0I7QUFDeEIsaUJBQWlCLDJDQUFVO0FBQzNCLFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxREFBQztBQUNQLHNDQUFzQyw0QkFBNEIsc0JBQXNCLEVBQUUsR0FBRyxhQUFhO0FBQzFHO0FBQ0EsUUFBUSxxREFBQztBQUNULGlFQUFpRSxTQUFTLElBQUksYUFBYTtBQUMzRjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBQyxPQUFPLHNDQUFzQyxFQUFFLDBDQUFTO0FBQ3JFLFVBQVUseURBQUU7QUFDWixLQUFLLHlEQUFDO0FBQ047QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsWUFBWSx5REFBQyx1R0FBdUcseUNBQVEsUUFBUSxrRUFBa0UsRUFBRSwwQ0FBUztBQUNqTixjQUFjLHlEQUFFLGtCQUFrQix5REFBRTtBQUNwQztBQUNBO0FBQ0EsRUFBRSw0Q0FBVztBQUNiO0FBQ0EsR0FBRyxXQUFXLDRDQUFXO0FBQ3pCLHFCQUFxQixxREFBQztBQUN0QixHQUFHO0FBQ0gsWUFBWSwwQ0FBUyxPQUFPLHFEQUFDLE1BQU0sY0FBYyxnQkFBZ0IsOENBQWE7QUFDOUU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsaURBQUM7QUFDSCxFQUFFLGlEQUFDO0FBQ0gsRUFBRSxpREFBQztBQUNILEVBQUUsaURBQUM7QUFDSCxFQUFFLGlEQUFDO0FBQ0gsU0FBUztBQUNULFlBQVkseURBQUMsbUJBQW1CLDJDQUFVLGVBQWUsMkNBQVUsVUFBVSwwQ0FBUyxvQkFBb0IseURBQUU7QUFDNUcsU0FBUyw0Q0FBVztBQUNwQixjQUFjLHlEQUFFO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLLGVBQWUscUNBQXFDO0FBQ3pELE1BQU0scURBQUM7QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDBDQUFTO0FBQ2YsUUFBUSx5REFBQztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0M7QUFDL0M7QUFDQTtBQUNBLFVBQVUscURBQUM7QUFDWCxtQkFBbUIsR0FBRyw4QkFBOEIsV0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlEQUFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVUsQ0FBQyx5REFBRSxRQUFRLG1CQUFtQixFQUFFLDBDQUFTLE9BQU8seURBQUU7QUFDN0UsU0FBUyw0Q0FBVztBQUNwQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLGlEQUFDO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBQztBQUNiLGNBQWMseUJBQXlCO0FBQ3ZDO0FBQ0E7QUFDQSxZQUFZLHlEQUFDLGtCQUFrQiwwQ0FBUztBQUN4QyxnQkFBZ0IsMkRBQUM7QUFDakI7QUFDQSxTQUFTLDBDQUFTO0FBQ2xCLFVBQVUseURBQUU7QUFDWjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0Esa0JBQWtCO0FBQ2xCLGlCQUFpQiwyQ0FBVTtBQUMzQixJQUFJLHlEQUFFO0FBQ04sU0FBUyw4Q0FBYTtBQUN0QixnQkFBZ0IsdUJBQXVCO0FBQ3ZDLEdBQUcsV0FBVyw4Q0FBYTtBQUMzQixnQkFBZ0IsdUJBQXVCO0FBQ3ZDLEdBQUcsV0FBVyw4Q0FBYTtBQUMzQixnQkFBZ0Isd0JBQXdCO0FBQ3hDLEdBQUcsV0FBVyw4Q0FBYTtBQUMzQixnQkFBZ0Isd0JBQXdCO0FBQ3hDLEdBQUcsV0FBVyw4Q0FBYTtBQUMzQixnQkFBZ0IsbUJBQW1CO0FBQ25DLEdBQUc7QUFDSCxTQUFTLDRDQUFXO0FBQ3BCLElBQUkseURBQUU7QUFDTixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixZQUFZLHlEQUFDLFNBQVMseURBQUMsY0FBYywwQ0FBUyxPQUFPLDBEQUFFO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUNBQXVDO0FBQzVELFlBQVksMERBQUUsd0NBQXdDLDJDQUFVO0FBQ2hFLFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBLFlBQVksMEJBQTBCLEVBQUUsbUVBQUM7QUFDekM7QUFDQTtBQUNBLHNCQUFzQixjQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHlCQUF5QixpREFBQyxrRkFBa0YsYUFBYSxXQUFXLDJDQUFVO0FBQzlJO0FBQ0E7QUFDQSxTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQSxZQUFZLDBCQUEwQixFQUFFLG1FQUFDO0FBQ3pDO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsYUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EseUJBQXlCLGlEQUFDLGtGQUFrRixhQUFhLE1BQU0seUNBQVEsMEJBQTBCLHlDQUFRLHlCQUF5Qix5Q0FBUSxjQUFjLDJDQUFVLFVBQVUsOENBQWE7QUFDelA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBLFlBQVksMEJBQTBCLEVBQUUsbUVBQUM7QUFDekM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlEQUFDLFFBQVEseURBQUMsbURBQW1ELDBDQUFTO0FBQ2xGLGNBQWMsMERBQUUsTUFBTSxZQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMENBQVM7QUFDckI7QUFDQTtBQUNBLDJFQUEyRSwwREFBRTtBQUM3RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWEsV0FBVywyQ0FBVTtBQUNoRDtBQUNBO0FBQ0EsYUFBYSwwREFBRTtBQUNmO0FBQ0E7QUFDQSxxQkFBcUIsMERBQUU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQSxjQUFjLDBEQUFFO0FBQ2hCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUcsUUFBUSx5REFBQyxZQUFZO0FBQ3hCO0FBQ0Esa0JBQWtCO0FBQ2xCLFlBQVkseURBQUMsZ0NBQWdDLDBDQUFTO0FBQ3REO0FBQ0EsY0FBYywwREFBQyxNQUFNLDBEQUFDO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUJBQXFCO0FBQ3JCLFlBQVkseURBQUMsMEJBQTBCLDJDQUFVO0FBQ2pELFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBLGNBQWMsMERBQUM7QUFDZjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJEQUFFLGlCQUFpQixpREFBQyw0REFBNEQsY0FBYyxvQkFBb0IsZ0JBQWdCLE9BQU8sZ0JBQWdCLE9BQU8sMENBQVMsYUFBYSwyREFBQyx1Q0FBdUMsMkRBQUM7QUFDdFE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBQyxtQkFBbUIsMENBQVMsT0FBTywwREFBRTtBQUNsRDtBQUNBO0FBcURFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2ljZS1hc3Npc3RhbnQyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMl80NzE2YzA1NzRjODM2NmQ0OTI2ZDZiY2YzMDYyZDA5Ni9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2hvb2tzLUp3ZFVmZ0NELm1qcz8zZGRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHIgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1IGFzIGssIHIgYXMgeCwgYSBhcyBKLCBiIGFzIEgsIGMgYXMgdywgZCBhcyBqLCBlIGFzIFgsIGYgYXMgQSwgZyBhcyBZLCBoIGFzIEssIGkgYXMgUiwgaiBhcyBaLCBrIGFzIGVlLCBtIGFzIHRlLCBHIGFzIG5lLCBuIGFzIHNlLCBvIGFzIGFlLCBwIGFzIEYsIHEgYXMgcmUsIHQgYXMgY2UsIHYgYXMgXywgdyBhcyBXLCB4IGFzIFEsIHkgYXMgb2UsIGwgYXMgVCwgeiBhcyBpZSwgQSBhcyB1ZSwgQiBhcyBOLCBDIGFzIGRlLCBEIGFzIGxlLCBFIGFzIGZlLCBGIGFzIHBlLCBIIGFzIGJlLCBJIGFzIG1lLCBKIGFzIGdlLCBLIGFzIFNlLCBNIGFzIEIsIE4gYXMgdmUsIE8gYXMgaGUsIFAgYXMgTWUsIFEgYXMgeWUsIFMgYXMgUGUsIFQgYXMga2UsIFUgYXMgRWUsIFYgYXMgVGUsIFcgYXMgJCwgWCBhcyB3ZSwgWSBhcyBBZSwgWiBhcyBDZSwgXyBhcyBJZSwgJCBhcyBPZSwgYTAgYXMgRGUsIGExIGFzIExlLCBhMiBhcyBSZSwgYTMgYXMgRmUsIGE0IGFzIE5lLCBhNSBhcyBWZSwgYTYgYXMgQmUsIGE3IGFzIEwsIGE4IGFzIHplIH0gZnJvbSBcIi4vY29udGV4dHMtQjdZZ0M3amkubWpzXCI7XG5pbXBvcnQgeyBtIGFzIEUgfSBmcm9tIFwiLi9yb29tLUJCSTlVbDJmLm1qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdGlvblF1YWxpdHkgYXMgVWUsIENvbm5lY3Rpb25TdGF0ZSBhcyBJLCBMb2NhbFRyYWNrUHVibGljYXRpb24gYXMgcWUsIGZhY2luZ01vZGVGcm9tTG9jYWxUcmFjayBhcyBKZSwgUm9vbSBhcyBfZSwgVHJhY2sgYXMgeSwgY3JlYXRlQXVkaW9BbmFseXNlciBhcyBWLCBQYXJ0aWNpcGFudEtpbmQgYXMgV2UgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmNvbnN0IFFlID0gKGUpID0+IHtcbiAgY29uc3QgbiA9IHIudXNlUmVmKGUpO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIG4uY3VycmVudCA9IGU7XG4gIH0pLCBuO1xufTtcbmZ1bmN0aW9uICRlKGUsIG4pIHtcbiAgY29uc3QgdCA9IHhlKCksIGEgPSBRZShuKTtcbiAgcmV0dXJuIHIudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBsZXQgcyA9ICExO1xuICAgIGNvbnN0IGMgPSBlLmN1cnJlbnQ7XG4gICAgaWYgKCFjKSByZXR1cm47XG4gICAgZnVuY3Rpb24gbyh1LCBpKSB7XG4gICAgICBzIHx8IGEuY3VycmVudCh1LCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQgPT0gbnVsbCB8fCB0LnN1YnNjcmliZShjLCBvKSwgKCkgPT4ge1xuICAgICAgcyA9ICEwLCB0ID09IG51bGwgfHwgdC51bnN1YnNjcmliZShjLCBvKTtcbiAgICB9O1xuICB9LCBbZS5jdXJyZW50LCB0LCBhXSksIHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQub2JzZXJ2ZXI7XG59XG5mdW5jdGlvbiBHZSgpIHtcbiAgbGV0IGUgPSAhMSwgbiA9IFtdO1xuICBjb25zdCB0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPiBcInVcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IGEgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKHMsIGMpID0+IHtcbiAgICBuID0gbi5jb25jYXQocyksIGUgfHwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBjb25zdCBvID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgbi5sZW5ndGg7IHUrKykge1xuICAgICAgICBpZiAoby5oYXMoblt1XS50YXJnZXQpKSBjb250aW51ZTtcbiAgICAgICAgby5hZGQoblt1XS50YXJnZXQpO1xuICAgICAgICBjb25zdCBpID0gdC5nZXQoblt1XS50YXJnZXQpO1xuICAgICAgICBpID09IG51bGwgfHwgaS5mb3JFYWNoKChkKSA9PiBkKG5bdV0sIGMpKTtcbiAgICAgIH1cbiAgICAgIG4gPSBbXSwgZSA9ICExO1xuICAgIH0pLCBlID0gITA7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG9ic2VydmVyOiBhLFxuICAgIHN1YnNjcmliZShzLCBjKSB7XG4gICAgICBhLm9ic2VydmUocyk7XG4gICAgICBjb25zdCBvID0gdC5nZXQocykgPz8gW107XG4gICAgICBvLnB1c2goYyksIHQuc2V0KHMsIG8pO1xuICAgIH0sXG4gICAgdW5zdWJzY3JpYmUocywgYykge1xuICAgICAgY29uc3QgbyA9IHQuZ2V0KHMpID8/IFtdO1xuICAgICAgaWYgKG8ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGEudW5vYnNlcnZlKHMpLCB0LmRlbGV0ZShzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdSA9IG8uaW5kZXhPZihjKTtcbiAgICAgIHUgIT09IC0xICYmIG8uc3BsaWNlKHUsIDEpLCB0LnNldChzLCBvKTtcbiAgICB9XG4gIH07XG59XG5sZXQgRDtcbmNvbnN0IHhlID0gKCkgPT4gRCB8fCAoRCA9IEdlKCkpLCBIZSA9IChlKSA9PiB7XG4gIGNvbnN0IFtuLCB0XSA9IHIudXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICByLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGUuY3VycmVudCkge1xuICAgICAgY29uc3QgeyB3aWR0aDogcywgaGVpZ2h0OiBjIH0gPSBlLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0KHsgd2lkdGg6IHMsIGhlaWdodDogYyB9KTtcbiAgICB9XG4gIH0sIFtlLmN1cnJlbnRdKTtcbiAgY29uc3QgYSA9IHIudXNlQ2FsbGJhY2soXG4gICAgKHMpID0+IHQocy5jb250ZW50UmVjdCksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuICRlKGUsIGEpLCBuO1xufTtcbmZ1bmN0aW9uIGIoZSwgbiwgdCA9ICEwKSB7XG4gIGNvbnN0IFthLCBzXSA9IHIudXNlU3RhdGUobik7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHQgJiYgcyhuKSwgdHlwZW9mIHdpbmRvdyA+IFwidVwiIHx8ICFlKSByZXR1cm47XG4gICAgY29uc3QgYyA9IGUuc3Vic2NyaWJlKHMpO1xuICAgIHJldHVybiAoKSA9PiBjLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtlLCB0XSksIGE7XG59XG5mdW5jdGlvbiBndChlKSB7XG4gIGNvbnN0IG4gPSAoYykgPT4gdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93Lm1hdGNoTWVkaWEoYykubWF0Y2hlcyA6ICExLCBbdCwgYV0gPSByLnVzZVN0YXRlKG4oZSkpO1xuICBmdW5jdGlvbiBzKCkge1xuICAgIGEobihlKSk7XG4gIH1cbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjID0gd2luZG93Lm1hdGNoTWVkaWEoZSk7XG4gICAgcmV0dXJuIHMoKSwgYy5hZGRMaXN0ZW5lciA/IGMuYWRkTGlzdGVuZXIocykgOiBjLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcyksICgpID0+IHtcbiAgICAgIGMucmVtb3ZlTGlzdGVuZXIgPyBjLnJlbW92ZUxpc3RlbmVyKHMpIDogYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHMpO1xuICAgIH07XG4gIH0sIFtlXSksIHQ7XG59XG5mdW5jdGlvbiBTdChlKSB7XG4gIGNvbnN0IG4gPSBrKGUpLCB0ID0gci51c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbi5zdGFydEF1ZGlvKCk7XG4gIH0sIFtuXSksIGEgPSByLnVzZU1lbW8oXG4gICAgKCkgPT4geChuKSxcbiAgICBbbl1cbiAgKSwgeyBjYW5QbGF5QXVkaW86IHMgfSA9IGIoYSwge1xuICAgIGNhblBsYXlBdWRpbzogbi5jYW5QbGF5YmFja0F1ZGlvXG4gIH0pO1xuICByZXR1cm4geyBjYW5QbGF5QXVkaW86IHMsIHN0YXJ0QXVkaW86IHQgfTtcbn1cbmZ1bmN0aW9uIHZ0KGUpIHtcbiAgY29uc3QgeyBzdGF0ZTogbiwgZGlzcGF0Y2g6IHQgfSA9IEooKS5waW47XG4gIHJldHVybiB7IGJ1dHRvblByb3BzOiByLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBzIH0gPSBIKCk7XG4gICAgcmV0dXJuIEUoZSwge1xuICAgICAgY2xhc3NOYW1lOiBzLFxuICAgICAgZGlzYWJsZWQ6ICEobiAhPSBudWxsICYmIG4ubGVuZ3RoKSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdCAmJiB0KHsgbXNnOiBcImNsZWFyX3BpblwiIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZSwgdCwgbl0pIH07XG59XG5mdW5jdGlvbiBodChlID0ge30pIHtcbiAgY29uc3QgbiA9IHcoZS5wYXJ0aWNpcGFudCksIHsgY2xhc3NOYW1lOiB0LCBjb25uZWN0aW9uUXVhbGl0eU9ic2VydmVyOiBhIH0gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gaihuKSxcbiAgICBbbl1cbiAgKSwgcyA9IGIoYSwgVWUuVW5rbm93bik7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogdCwgcXVhbGl0eTogcyB9O1xufVxuZnVuY3Rpb24gTyhlKSB7XG4gIGNvbnN0IG4gPSBrKGUpLCB0ID0gci51c2VNZW1vKCgpID0+IFgobiksIFtuXSk7XG4gIHJldHVybiBiKHQsIG4uc3RhdGUpO1xufVxuZnVuY3Rpb24gTXQoZSwgbikge1xuICBjb25zdCB0ID0gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSA6IG4sIGEgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gZSA6IHZvaWQgMCwgcyA9IEEoKSwgeyBzZW5kOiBjLCBtZXNzYWdlT2JzZXJ2YWJsZTogbywgaXNTZW5kaW5nT2JzZXJ2YWJsZTogdSB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IFkocywgYSwgdCksXG4gICAgW3MsIGEsIHRdXG4gICksIGkgPSBiKG8sIHZvaWQgMCksIGQgPSBiKHUsICExKTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBpLFxuICAgIHNlbmQ6IGMsXG4gICAgaXNTZW5kaW5nOiBkXG4gIH07XG59XG5mdW5jdGlvbiB5dChlKSB7XG4gIGNvbnN0IG4gPSBBKCksIHQgPSBPKG4pO1xuICByZXR1cm4geyBidXR0b25Qcm9wczogci51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZTogcywgZGlzY29ubmVjdDogYyB9ID0gSyhuKTtcbiAgICByZXR1cm4gRShlLCB7XG4gICAgICBjbGFzc05hbWU6IHMsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBjKGUuc3RvcFRyYWNrcyA/PyAhMCksXG4gICAgICBkaXNhYmxlZDogdCA9PT0gSS5EaXNjb25uZWN0ZWRcbiAgICB9KTtcbiAgfSwgW24sIGUsIHRdKSB9O1xufVxuZnVuY3Rpb24gamUoZSkge1xuICBpZiAoZS5wdWJsaWNhdGlvbiBpbnN0YW5jZW9mIHFlKSB7XG4gICAgY29uc3QgbiA9IGUucHVibGljYXRpb24udHJhY2s7XG4gICAgaWYgKG4pIHtcbiAgICAgIGNvbnN0IHsgZmFjaW5nTW9kZTogdCB9ID0gSmUobik7XG4gICAgICByZXR1cm4gdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBQdCh7IHRyYWNrUmVmOiBlLCBwcm9wczogbiB9KSB7XG4gIGNvbnN0IHQgPSBSKGUpLCBhID0gWigpLCB7IGNsYXNzTmFtZTogcyB9ID0gci51c2VNZW1vKCgpID0+IGVlKCksIFtdKSwgYyA9IHIudXNlTWVtbygoKSA9PiB0ZSh0LCBhID09IG51bGwgPyB2b2lkIDAgOiBhLnBpbi5zdGF0ZSksIFt0LCBhID09IG51bGwgPyB2b2lkIDAgOiBhLnBpbi5zdGF0ZV0pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKFxuICAgICgpID0+IEUobiwge1xuICAgICAgY2xhc3NOYW1lOiBzLFxuICAgICAgb25DbGljazogKHUpID0+IHtcbiAgICAgICAgdmFyIGksIGQsIGwsIGYsIHA7XG4gICAgICAgIChpID0gbi5vbkNsaWNrKSA9PSBudWxsIHx8IGkuY2FsbChuLCB1KSwgYyA/IChsID0gYSA9PSBudWxsID8gdm9pZCAwIDogKGQgPSBhLnBpbikuZGlzcGF0Y2gpID09IG51bGwgfHwgbC5jYWxsKGQsIHtcbiAgICAgICAgICBtc2c6IFwiY2xlYXJfcGluXCJcbiAgICAgICAgfSkgOiAocCA9IGEgPT0gbnVsbCA/IHZvaWQgMCA6IChmID0gYS5waW4pLmRpc3BhdGNoKSA9PSBudWxsIHx8IHAuY2FsbChmLCB7XG4gICAgICAgICAgbXNnOiBcInNldF9waW5cIixcbiAgICAgICAgICB0cmFja1JlZmVyZW5jZTogdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbbiwgcywgdCwgYywgYSA9PSBudWxsID8gdm9pZCAwIDogYS5waW5dXG4gICksIGluRm9jdXM6IGMgfTtcbn1cbmZ1bmN0aW9uIGt0KGUsIG4sIHQgPSB7fSkge1xuICBjb25zdCBhID0gdC5ncmlkTGF5b3V0cyA/PyBuZSwgeyB3aWR0aDogcywgaGVpZ2h0OiBjIH0gPSBIZShlKSwgbyA9IHNlKGEsIG4sIHMsIGMpO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGUuY3VycmVudCAmJiBvICYmIChlLmN1cnJlbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWxrLWNvbC1jb3VudFwiLCBvID09IG51bGwgPyB2b2lkIDAgOiBvLmNvbHVtbnMudG9TdHJpbmcoKSksIGUuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstcm93LWNvdW50XCIsIG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucm93cy50b1N0cmluZygpKSk7XG4gIH0sIFtlLCBvXSksIHtcbiAgICBsYXlvdXQ6IG8sXG4gICAgY29udGFpbmVyV2lkdGg6IHMsXG4gICAgY29udGFpbmVySGVpZ2h0OiBjXG4gIH07XG59XG5mdW5jdGlvbiB6KGUsIG4gPSB7fSkge1xuICB2YXIgdSwgaTtcbiAgY29uc3QgdCA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBuLnBhcnRpY2lwYW50IDogZS5wYXJ0aWNpcGFudCwgYSA9IHcodCksIHMgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8geyBwYXJ0aWNpcGFudDogYSwgc291cmNlOiBlIH0gOiBlLCBbYywgb10gPSByLnVzZVN0YXRlKFxuICAgICEhKCh1ID0gcy5wdWJsaWNhdGlvbikgIT0gbnVsbCAmJiB1LmlzTXV0ZWQgfHwgKGkgPSBhLmdldFRyYWNrUHVibGljYXRpb24ocy5zb3VyY2UpKSAhPSBudWxsICYmIGkuaXNNdXRlZClcbiAgKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkID0gYWUocykuc3Vic2NyaWJlKG8pO1xuICAgIHJldHVybiAoKSA9PiBkLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtGKHMpXSksIGM7XG59XG5mdW5jdGlvbiBYZShlKSB7XG4gIGNvbnN0IG4gPSB3KGUpLCB0ID0gci51c2VNZW1vKCgpID0+IHJlKG4pLCBbbl0pO1xuICByZXR1cm4gYih0LCBuLmlzU3BlYWtpbmcpO1xufVxuZnVuY3Rpb24gWWUoZSA9IHt9KSB7XG4gIGNvbnN0IG4gPSBrKGUucm9vbSksIFt0LCBhXSA9IHIudXNlU3RhdGUobi5sb2NhbFBhcnRpY2lwYW50KSwgW3MsIGNdID0gci51c2VTdGF0ZShcbiAgICB0LmlzTWljcm9waG9uZUVuYWJsZWRcbiAgKSwgW28sIHVdID0gci51c2VTdGF0ZShcbiAgICB0LmlzTWljcm9waG9uZUVuYWJsZWRcbiAgKSwgW2ksIGRdID0gci51c2VTdGF0ZShcbiAgICB0Lmxhc3RNaWNyb3Bob25lRXJyb3JcbiAgKSwgW2wsIGZdID0gci51c2VTdGF0ZSh0Lmxhc3RDYW1lcmFFcnJvciksIFtwLCBnXSA9IHIudXNlU3RhdGUoXG4gICAgdC5pc01pY3JvcGhvbmVFbmFibGVkXG4gICksIFtTLCBtXSA9IHIudXNlU3RhdGUoXG4gICAgdm9pZCAwXG4gICksIFtNLCB2XSA9IHIudXNlU3RhdGUodm9pZCAwKSwgUCA9IChoKSA9PiB7XG4gICAgdShoLmlzQ2FtZXJhRW5hYmxlZCksIGMoaC5pc01pY3JvcGhvbmVFbmFibGVkKSwgZyhoLmlzU2NyZWVuU2hhcmVFbmFibGVkKSwgdihoLmNhbWVyYVRyYWNrKSwgbShoLm1pY3JvcGhvbmVUcmFjayksIGQoaC5wYXJ0aWNpcGFudC5sYXN0TWljcm9waG9uZUVycm9yKSwgZihoLnBhcnRpY2lwYW50Lmxhc3RDYW1lcmFFcnJvciksIGEoaC5wYXJ0aWNpcGFudCk7XG4gIH07XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaCA9IGNlKG4ubG9jYWxQYXJ0aWNpcGFudCkuc3Vic2NyaWJlKFApO1xuICAgIHJldHVybiAoKSA9PiBoLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtuXSksIHtcbiAgICBpc01pY3JvcGhvbmVFbmFibGVkOiBzLFxuICAgIGlzU2NyZWVuU2hhcmVFbmFibGVkOiBwLFxuICAgIGlzQ2FtZXJhRW5hYmxlZDogbyxcbiAgICBtaWNyb3Bob25lVHJhY2s6IFMsXG4gICAgY2FtZXJhVHJhY2s6IE0sXG4gICAgbGFzdE1pY3JvcGhvbmVFcnJvcjogaSxcbiAgICBsYXN0Q2FtZXJhRXJyb3I6IGwsXG4gICAgbG9jYWxQYXJ0aWNpcGFudDogdFxuICB9O1xufVxuZnVuY3Rpb24gRXQoKSB7XG4gIGNvbnN0IGUgPSBBKCksIG4gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gXyhlLmxvY2FsUGFydGljaXBhbnQpLFxuICAgIFtlXVxuICApO1xuICByZXR1cm4gYihuLCBlLmxvY2FsUGFydGljaXBhbnQucGVybWlzc2lvbnMpO1xufVxuZnVuY3Rpb24gVHQoe1xuICBraW5kOiBlLFxuICByb29tOiBuLFxuICB0cmFjazogdCxcbiAgcmVxdWVzdFBlcm1pc3Npb25zOiBhLFxuICBvbkVycm9yOiBzXG59KSB7XG4gIGNvbnN0IGMgPSBXKCksIG8gPSByLnVzZU1lbW8oKCkgPT4gbiA/PyBjID8/IG5ldyBfZSgpLCBbbiwgY10pLCB1ID0gci51c2VNZW1vKFxuICAgICgpID0+IFEoZSwgcywgYSksXG4gICAgW2UsIGEsIHNdXG4gICksIGkgPSBiKHUsIFtdKSwgW2QsIGxdID0gci51c2VTdGF0ZShcbiAgICAobyA9PSBudWxsID8gdm9pZCAwIDogby5nZXRBY3RpdmVEZXZpY2UoZSkpID8/IFwiZGVmYXVsdFwiXG4gICksIHsgY2xhc3NOYW1lOiBmLCBhY3RpdmVEZXZpY2VPYnNlcnZhYmxlOiBwLCBzZXRBY3RpdmVNZWRpYURldmljZTogZyB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IG9lKGUsIG8pLFxuICAgIFtlLCBvLCB0XVxuICApO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IFMgPSBwLnN1YnNjcmliZSgobSkgPT4ge1xuICAgICAgbSAmJiAoVC5pbmZvKFwic2V0Q3VycmVudERldmljZUlkXCIsIG0pLCBsKG0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgUyA9PSBudWxsIHx8IFMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbcF0pLCB7IGRldmljZXM6IGksIGNsYXNzTmFtZTogZiwgYWN0aXZlRGV2aWNlSWQ6IGQsIHNldEFjdGl2ZU1lZGlhRGV2aWNlOiBnIH07XG59XG5mdW5jdGlvbiB3dCh7XG4gIGtpbmQ6IGUsXG4gIG9uRXJyb3I6IG5cbn0pIHtcbiAgY29uc3QgdCA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBRKGUsIG4pLFxuICAgIFtlLCBuXVxuICApO1xuICByZXR1cm4gYih0LCBbXSk7XG59XG5mdW5jdGlvbiBLZShlLCBuLCB0ID0ge30pIHtcbiAgY29uc3QgYSA9IHIudXNlUmVmKFtdKSwgcyA9IHIudXNlUmVmKC0xKSwgYyA9IG4gIT09IHMuY3VycmVudCwgbyA9IHR5cGVvZiB0LmN1c3RvbVNvcnRGdW5jdGlvbiA9PSBcImZ1bmN0aW9uXCIgPyB0LmN1c3RvbVNvcnRGdW5jdGlvbihlKSA6IGllKGUpO1xuICBsZXQgdSA9IFsuLi5vXTtcbiAgaWYgKGMgPT09ICExKVxuICAgIHRyeSB7XG4gICAgICB1ID0gdWUoYS5jdXJyZW50LCBvLCBuKTtcbiAgICB9IGNhdGNoIChpKSB7XG4gICAgICBULmVycm9yKFwiRXJyb3Igd2hpbGUgcnVubmluZyB1cGRhdGVQYWdlcygpOiBcIiwgaSk7XG4gICAgfVxuICByZXR1cm4gYyA/IGEuY3VycmVudCA9IG8gOiBhLmN1cnJlbnQgPSB1LCBzLmN1cnJlbnQgPSBuLCB1O1xufVxuZnVuY3Rpb24gQXQoZSwgbikge1xuICBjb25zdCBbdCwgYV0gPSByLnVzZVN0YXRlKDEpLCBzID0gTWF0aC5tYXgoTWF0aC5jZWlsKG4ubGVuZ3RoIC8gZSksIDEpO1xuICB0ID4gcyAmJiBhKHMpO1xuICBjb25zdCBjID0gdCAqIGUsIG8gPSBjIC0gZSwgdSA9IChmKSA9PiB7XG4gICAgYSgocCkgPT4gZiA9PT0gXCJuZXh0XCIgPyBwID09PSBzID8gcCA6IHAgKyAxIDogcCA9PT0gMSA/IHAgOiBwIC0gMSk7XG4gIH0sIGkgPSAoZikgPT4ge1xuICAgIGYgPiBzID8gYShzKSA6IGYgPCAxID8gYSgxKSA6IGEoZik7XG4gIH0sIGwgPSBLZShuLCBlKS5zbGljZShvLCBjKTtcbiAgcmV0dXJuIHtcbiAgICB0b3RhbFBhZ2VDb3VudDogcyxcbiAgICBuZXh0UGFnZTogKCkgPT4gdShcIm5leHRcIiksXG4gICAgcHJldlBhZ2U6ICgpID0+IHUoXCJwcmV2aW91c1wiKSxcbiAgICBzZXRQYWdlOiBpLFxuICAgIGZpcnN0SXRlbUluZGV4OiBvLFxuICAgIGxhc3RJdGVtSW5kZXg6IGMsXG4gICAgdHJhY2tzOiBsLFxuICAgIGN1cnJlbnRQYWdlOiB0XG4gIH07XG59XG5mdW5jdGlvbiBDdChlID0ge30pIHtcbiAgbGV0IG4gPSBOKCk7XG4gIGUucGFydGljaXBhbnQgJiYgKG4gPSBlLnBhcnRpY2lwYW50KTtcbiAgY29uc3QgdCA9IHIudXNlTWVtbygoKSA9PiBkZShuKSwgW25dKSwgeyBpZGVudGl0eTogYSwgbmFtZTogcywgbWV0YWRhdGE6IGMgfSA9IGIodCwge1xuICAgIG5hbWU6IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ubmFtZSxcbiAgICBpZGVudGl0eTogbiA9PSBudWxsID8gdm9pZCAwIDogbi5pZGVudGl0eSxcbiAgICBtZXRhZGF0YTogbiA9PSBudWxsID8gdm9pZCAwIDogbi5tZXRhZGF0YVxuICB9KTtcbiAgcmV0dXJuIHsgaWRlbnRpdHk6IGEsIG5hbWU6IHMsIG1ldGFkYXRhOiBjIH07XG59XG5mdW5jdGlvbiBJdChlID0ge30pIHtcbiAgY29uc3QgbiA9IHcoZS5wYXJ0aWNpcGFudCksIHQgPSByLnVzZU1lbW8oKCkgPT4gXyhuKSwgW25dKTtcbiAgcmV0dXJuIGIodCwgbi5wZXJtaXNzaW9ucyk7XG59XG5mdW5jdGlvbiBPdCh7XG4gIHRyYWNrUmVmOiBlLFxuICBvblBhcnRpY2lwYW50Q2xpY2s6IG4sXG4gIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogdCxcbiAgaHRtbFByb3BzOiBhXG59KSB7XG4gIGNvbnN0IHMgPSBSKGUpLCBjID0gci51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZTogcCB9ID0gbGUoKTtcbiAgICByZXR1cm4gRShhLCB7XG4gICAgICBjbGFzc05hbWU6IHAsXG4gICAgICBvbkNsaWNrOiAoZykgPT4ge1xuICAgICAgICB2YXIgUztcbiAgICAgICAgaWYgKChTID0gYS5vbkNsaWNrKSA9PSBudWxsIHx8IFMuY2FsbChhLCBnKSwgdHlwZW9mIG4gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY29uc3QgbSA9IHMucHVibGljYXRpb24gPz8gcy5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKHMuc291cmNlKTtcbiAgICAgICAgICBuKHsgcGFydGljaXBhbnQ6IHMucGFydGljaXBhbnQsIHRyYWNrOiBtIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtcbiAgICBhLFxuICAgIG4sXG4gICAgcy5wdWJsaWNhdGlvbixcbiAgICBzLnNvdXJjZSxcbiAgICBzLnBhcnRpY2lwYW50XG4gIF0pLCBvID0gcy5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKHkuU291cmNlLk1pY3JvcGhvbmUpLCB1ID0gci51c2VNZW1vKCgpID0+ICh7XG4gICAgcGFydGljaXBhbnQ6IHMucGFydGljaXBhbnQsXG4gICAgc291cmNlOiB5LlNvdXJjZS5NaWNyb3Bob25lLFxuICAgIHB1YmxpY2F0aW9uOiBvXG4gIH0pLCBbbywgcy5wYXJ0aWNpcGFudF0pLCBpID0geihzKSwgZCA9IHoodSksIGwgPSBYZShzLnBhcnRpY2lwYW50KSwgZiA9IGplKHMpO1xuICByZXR1cm4ge1xuICAgIGVsZW1lbnRQcm9wczoge1xuICAgICAgXCJkYXRhLWxrLWF1ZGlvLW11dGVkXCI6IGQsXG4gICAgICBcImRhdGEtbGstdmlkZW8tbXV0ZWRcIjogaSxcbiAgICAgIFwiZGF0YS1say1zcGVha2luZ1wiOiB0ID09PSAhMCA/ICExIDogbCxcbiAgICAgIFwiZGF0YS1say1sb2NhbC1wYXJ0aWNpcGFudFwiOiBzLnBhcnRpY2lwYW50LmlzTG9jYWwsXG4gICAgICBcImRhdGEtbGstc291cmNlXCI6IHMuc291cmNlLFxuICAgICAgXCJkYXRhLWxrLWZhY2luZy1tb2RlXCI6IGYsXG4gICAgICAuLi5jXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gRyhlID0ge30pIHtcbiAgY29uc3QgbiA9IGsoZS5yb29tKSwgW3QsIGFdID0gci51c2VTdGF0ZShbXSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcyA9IGZlKG4sIHtcbiAgICAgIGFkZGl0aW9uYWxSb29tRXZlbnRzOiBlLnVwZGF0ZU9ubHlPblxuICAgIH0pLnN1YnNjcmliZShhKTtcbiAgICByZXR1cm4gKCkgPT4gcy51bnN1YnNjcmliZSgpO1xuICB9LCBbbiwgSlNPTi5zdHJpbmdpZnkoZS51cGRhdGVPbmx5T24pXSksIHQ7XG59XG5mdW5jdGlvbiBEdChlID0ge30pIHtcbiAgY29uc3QgbiA9IEcoZSksIHsgbG9jYWxQYXJ0aWNpcGFudDogdCB9ID0gWWUoZSk7XG4gIHJldHVybiByLnVzZU1lbW8oXG4gICAgKCkgPT4gW3QsIC4uLm5dLFxuICAgIFt0LCBuXVxuICApO1xufVxuZnVuY3Rpb24gTHQoZSkge1xuICByZXR1cm4gZSA9IHBlKGUpLCByLnVzZU1lbW8oKCkgPT4gKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucGluLnN0YXRlKSAhPT0gdm9pZCAwICYmIGUucGluLnN0YXRlLmxlbmd0aCA+PSAxID8gZS5waW4uc3RhdGUgOiBbXSwgW2UucGluLnN0YXRlXSk7XG59XG5mdW5jdGlvbiBSdChlLCBuID0ge30pIHtcbiAgY29uc3QgdCA9IEEoKSwgW2FdID0gci51c2VTdGF0ZShuLnVwZGF0ZU9ubHlPbiksIHMgPSByLnVzZU1lbW8oKCkgPT4gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IGJlKHQsIGUsIHtcbiAgICBhZGRpdGlvbmFsRXZlbnRzOiBhXG4gIH0pIDogbWUodCwgZSwge1xuICAgIGFkZGl0aW9uYWxFdmVudHM6IGFcbiAgfSksIFt0LCBKU09OLnN0cmluZ2lmeShlKSwgYV0pLCBbYywgb10gPSByLnVzZVN0YXRlKHtcbiAgICBwOiB2b2lkIDBcbiAgfSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdSA9IHMuc3Vic2NyaWJlKChpKSA9PiBvKHsgcDogaSB9KSk7XG4gICAgcmV0dXJuICgpID0+IHUudW5zdWJzY3JpYmUoKTtcbiAgfSwgW3NdKSwgYy5wO1xufVxuZnVuY3Rpb24gRnQoZSA9IHt9KSB7XG4gIGNvbnN0IG4gPSBrKGUucm9vbSksIHQgPSByLnVzZU1lbW8oKCkgPT4gZ2UobiksIFtuXSksIHsgbmFtZTogYSwgbWV0YWRhdGE6IHMgfSA9IGIodCwge1xuICAgIG5hbWU6IG4ubmFtZSxcbiAgICBtZXRhZGF0YTogbi5tZXRhZGF0YVxuICB9KTtcbiAgcmV0dXJuIHsgbmFtZTogYSwgbWV0YWRhdGE6IHMgfTtcbn1cbmZ1bmN0aW9uIFplKCkge1xuICBjb25zdCBlID0gQSgpLCBuID0gci51c2VNZW1vKCgpID0+IFNlKGUpLCBbZV0pO1xuICByZXR1cm4gYihuLCBlLmFjdGl2ZVNwZWFrZXJzKTtcbn1cbmZ1bmN0aW9uIE50KGUpIHtcbiAgY29uc3QgW24sIHRdID0gci51c2VTdGF0ZShcbiAgICBCKGUpXG4gICksIGEgPSBaZSgpO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHQoQihlKSk7XG4gIH0sIFthLCBlXSksIG47XG59XG5mdW5jdGlvbiBWdCh7IHJvb206IGUsIHByb3BzOiBuIH0pIHtcbiAgY29uc3QgdCA9IGsoZSksIHsgY2xhc3NOYW1lOiBhLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiBzLCBoYW5kbGVTdGFydEF1ZGlvUGxheWJhY2s6IGMgfSA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiB2ZSgpLFxuICAgIFtdXG4gICksIG8gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gcyh0KSxcbiAgICBbdCwgc11cbiAgKSwgeyBjYW5QbGF5QXVkaW86IHUgfSA9IGIobywge1xuICAgIGNhblBsYXlBdWRpbzogdC5jYW5QbGF5YmFja0F1ZGlvXG4gIH0pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKFxuICAgICgpID0+IEUobiwge1xuICAgICAgY2xhc3NOYW1lOiBhLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjKHQpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHUgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIiB9XG4gICAgfSksXG4gICAgW24sIGEsIHUsIGMsIHRdXG4gICksIGNhblBsYXlBdWRpbzogdSB9O1xufVxuZnVuY3Rpb24gQnQoeyByb29tOiBlLCBwcm9wczogbiB9KSB7XG4gIGNvbnN0IHQgPSBrKGUpLCB7IGNsYXNzTmFtZTogYSwgcm9vbVZpZGVvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZTogcywgaGFuZGxlU3RhcnRWaWRlb1BsYXliYWNrOiBjIH0gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gaGUoKSxcbiAgICBbXVxuICApLCBvID0gci51c2VNZW1vKFxuICAgICgpID0+IHModCksXG4gICAgW3QsIHNdXG4gICksIHsgY2FuUGxheVZpZGVvOiB1IH0gPSBiKG8sIHtcbiAgICBjYW5QbGF5VmlkZW86IHQuY2FuUGxheWJhY2tWaWRlb1xuICB9KTtcbiAgcmV0dXJuIHsgbWVyZ2VkUHJvcHM6IHIudXNlTWVtbyhcbiAgICAoKSA9PiBFKG4sIHtcbiAgICAgIGNsYXNzTmFtZTogYSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgYyh0KTtcbiAgICAgIH0sXG4gICAgICBzdHlsZTogeyBkaXNwbGF5OiB1ID8gXCJub25lXCIgOiBcImJsb2NrXCIgfVxuICAgIH0pLFxuICAgIFtuLCBhLCB1LCBjLCB0XVxuICApLCBjYW5QbGF5VmlkZW86IHUgfTtcbn1cbmZ1bmN0aW9uIHp0KGUsIG4gPSB7fSkge1xuICBjb25zdCB0ID0gci51c2VSZWYobnVsbCksIGEgPSByLnVzZVJlZihudWxsKSwgcyA9IG4ubWluU3dpcGVEaXN0YW5jZSA/PyA1MCwgYyA9IChpKSA9PiB7XG4gICAgYS5jdXJyZW50ID0gbnVsbCwgdC5jdXJyZW50ID0gaS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gIH0sIG8gPSAoaSkgPT4ge1xuICAgIGEuY3VycmVudCA9IGkudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICB9LCB1ID0gci51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCF0LmN1cnJlbnQgfHwgIWEuY3VycmVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBpID0gdC5jdXJyZW50IC0gYS5jdXJyZW50LCBkID0gaSA+IHMsIGwgPSBpIDwgLXM7XG4gICAgZCAmJiBuLm9uTGVmdFN3aXBlICYmIG4ub25MZWZ0U3dpcGUoKSwgbCAmJiBuLm9uUmlnaHRTd2lwZSAmJiBuLm9uUmlnaHRTd2lwZSgpO1xuICB9LCBbcywgbl0pO1xuICByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaSA9IGUuY3VycmVudDtcbiAgICByZXR1cm4gaSAmJiAoaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBjLCB7IHBhc3NpdmU6ICEwIH0pLCBpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgbywgeyBwYXNzaXZlOiAhMCB9KSwgaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdSwgeyBwYXNzaXZlOiAhMCB9KSksICgpID0+IHtcbiAgICAgIGkgJiYgKGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgYyksIGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvKSwgaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdSkpO1xuICAgIH07XG4gIH0sIFtlLCB1XSk7XG59XG5mdW5jdGlvbiBVdCh7IHByb3BzOiBlIH0pIHtcbiAgY29uc3QgeyBkaXNwYXRjaDogbiwgc3RhdGU6IHQgfSA9IEooKS53aWRnZXQsIHsgY2xhc3NOYW1lOiBhIH0gPSByLnVzZU1lbW8oKCkgPT4gTWUoKSwgW10pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKCgpID0+IEUoZSwge1xuICAgIGNsYXNzTmFtZTogYSxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICBuICYmIG4oeyBtc2c6IFwidG9nZ2xlX2NoYXRcIiB9KTtcbiAgICB9LFxuICAgIFwiYXJpYS1wcmVzc2VkXCI6IHQgIT0gbnVsbCAmJiB0LnNob3dDaGF0ID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIsXG4gICAgXCJkYXRhLWxrLXVucmVhZC1tc2dzXCI6IHQgPyB0LnVucmVhZE1lc3NhZ2VzIDwgMTAgPyB0LnVucmVhZE1lc3NhZ2VzLnRvRml4ZWQoMCkgOiBcIjkrXCIgOiBcIjBcIlxuICB9KSwgW2UsIGEsIG4sIHRdKSB9O1xufVxuZnVuY3Rpb24gcXQoZSwgbiwgdCA9IHt9KSB7XG4gIGNvbnN0IFthLCBzXSA9IHIudXNlU3RhdGUodm9pZCAwKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgbztcbiAgICBpZiAoZSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgRXJyb3IoXCJ0b2tlbiBlbmRwb2ludCBuZWVkcyB0byBiZSBkZWZpbmVkXCIpO1xuICAgIGlmICgoKG8gPSB0LnVzZXJJbmZvKSA9PSBudWxsID8gdm9pZCAwIDogby5pZGVudGl0eSkgPT09IHZvaWQgMClcbiAgICAgIHJldHVybjtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgVC5kZWJ1ZyhcImZldGNoaW5nIHRva2VuXCIpO1xuICAgICAgY29uc3QgdSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyAuLi50LnVzZXJJbmZvLCByb29tTmFtZTogbiB9KSwgaSA9IGF3YWl0IGZldGNoKGAke2V9PyR7dS50b1N0cmluZygpfWApO1xuICAgICAgaWYgKCFpLm9rKSB7XG4gICAgICAgIFQuZXJyb3IoXG4gICAgICAgICAgYENvdWxkIG5vdCBmZXRjaCB0b2tlbi4gU2VydmVyIHJlc3BvbmRlZCB3aXRoIHN0YXR1cyAke2kuc3RhdHVzfTogJHtpLnN0YXR1c1RleHR9YFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IGFjY2Vzc1Rva2VuOiBkIH0gPSBhd2FpdCBpLmpzb24oKTtcbiAgICAgIHMoZCk7XG4gICAgfSkoKTtcbiAgfSwgW2UsIG4sIEpTT04uc3RyaW5naWZ5KHQpXSksIGE7XG59XG5mdW5jdGlvbiBKdChlKSB7XG4gIHZhciBjLCBvO1xuICBjb25zdCBuID0gUihlKSwgeyBjbGFzc05hbWU6IHQsIG1lZGlhTXV0ZWRPYnNlcnZlcjogYSB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IHllKG4pLFxuICAgIFtGKG4pXVxuICApO1xuICByZXR1cm4geyBpc011dGVkOiBiKFxuICAgIGEsXG4gICAgISEoKGMgPSBuLnB1YmxpY2F0aW9uKSAhPSBudWxsICYmIGMuaXNNdXRlZCB8fCAobyA9IG4ucGFydGljaXBhbnQuZ2V0VHJhY2tQdWJsaWNhdGlvbihuLnNvdXJjZSkpICE9IG51bGwgJiYgby5pc011dGVkKVxuICApLCBjbGFzc05hbWU6IHQgfTtcbn1cbmZ1bmN0aW9uIF90KHtcbiAgc291cmNlOiBlLFxuICBvbkNoYW5nZTogbixcbiAgaW5pdGlhbFN0YXRlOiB0LFxuICBjYXB0dXJlT3B0aW9uczogYSxcbiAgcHVibGlzaE9wdGlvbnM6IHMsXG4gIG9uRGV2aWNlRXJyb3I6IGMsXG4gIC4uLm9cbn0pIHtcbiAgdmFyIFA7XG4gIGNvbnN0IHUgPSBXKCksIGkgPSAoUCA9IHUgPT0gbnVsbCA/IHZvaWQgMCA6IHUubG9jYWxQYXJ0aWNpcGFudCkgPT0gbnVsbCA/IHZvaWQgMCA6IFAuZ2V0VHJhY2tQdWJsaWNhdGlvbihlKSwgZCA9IHIudXNlUmVmKCExKSwgeyB0b2dnbGU6IGwsIGNsYXNzTmFtZTogZiwgcGVuZGluZ09ic2VydmVyOiBwLCBlbmFibGVkT2JzZXJ2ZXI6IGcgfSA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiB1ID8gUGUoZSwgdSwgYSwgcywgYykgOiBrZSgpLFxuICAgIFt1LCBlLCBKU09OLnN0cmluZ2lmeShhKSwgc11cbiAgKSwgUyA9IGIocCwgITEpLCBtID0gYihnLCB0ID8/ICEhKGkgIT0gbnVsbCAmJiBpLmlzRW5hYmxlZCkpO1xuICByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbiA9PSBudWxsIHx8IG4obSwgZC5jdXJyZW50KSwgZC5jdXJyZW50ID0gITE7XG4gIH0sIFttLCBuXSksIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICB0ICE9PSB2b2lkIDAgJiYgKFQuZGVidWcoXCJmb3JjaW5nIGluaXRpYWwgdG9nZ2xlIHN0YXRlXCIsIGUsIHQpLCBsKHQpKTtcbiAgfSwgW10pO1xuICBjb25zdCBNID0gci51c2VNZW1vKCgpID0+IEUobywgeyBjbGFzc05hbWU6IGYgfSksIFtvLCBmXSksIHYgPSByLnVzZUNhbGxiYWNrKFxuICAgIChoKSA9PiB7XG4gICAgICB2YXIgQztcbiAgICAgIGQuY3VycmVudCA9ICEwLCBsKCkuY2F0Y2goKCkgPT4gZC5jdXJyZW50ID0gITEpLCAoQyA9IG8ub25DbGljaykgPT0gbnVsbCB8fCBDLmNhbGwobywgaCk7XG4gICAgfSxcbiAgICBbbywgbF1cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICB0b2dnbGU6IGwsXG4gICAgZW5hYmxlZDogbSxcbiAgICBwZW5kaW5nOiBTLFxuICAgIHRyYWNrOiBpLFxuICAgIGJ1dHRvblByb3BzOiB7XG4gICAgICAuLi5NLFxuICAgICAgXCJhcmlhLXByZXNzZWRcIjogbSxcbiAgICAgIFwiZGF0YS1say1zb3VyY2VcIjogZSxcbiAgICAgIFwiZGF0YS1say1lbmFibGVkXCI6IG0sXG4gICAgICBkaXNhYmxlZDogUyxcbiAgICAgIG9uQ2xpY2s6IHZcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBXdChlID0gW1xuICB5LlNvdXJjZS5DYW1lcmEsXG4gIHkuU291cmNlLk1pY3JvcGhvbmUsXG4gIHkuU291cmNlLlNjcmVlblNoYXJlLFxuICB5LlNvdXJjZS5TY3JlZW5TaGFyZUF1ZGlvLFxuICB5LlNvdXJjZS5Vbmtub3duXG5dLCBuID0ge30pIHtcbiAgY29uc3QgdCA9IGsobi5yb29tKSwgW2EsIHNdID0gci51c2VTdGF0ZShbXSksIFtjLCBvXSA9IHIudXNlU3RhdGUoW10pLCB1ID0gci51c2VNZW1vKCgpID0+IGUubWFwKChkKSA9PiBFZShkKSA/IGQuc291cmNlIDogZCksIFtKU09OLnN0cmluZ2lmeShlKV0pO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGQgPSBUZSh0LCB1LCB7XG4gICAgICBhZGRpdGlvbmFsUm9vbUV2ZW50czogbi51cGRhdGVPbmx5T24sXG4gICAgICBvbmx5U3Vic2NyaWJlZDogbi5vbmx5U3Vic2NyaWJlZFxuICAgIH0pLnN1YnNjcmliZSgoeyB0cmFja1JlZmVyZW5jZXM6IGwsIHBhcnRpY2lwYW50czogZiB9KSA9PiB7XG4gICAgICBULmRlYnVnKFwic2V0dGluZyB0cmFjayBidW5kbGVzXCIsIGwsIGYpLCBzKGwpLCBvKGYpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBkLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtcbiAgICB0LFxuICAgIEpTT04uc3RyaW5naWZ5KG4ub25seVN1YnNjcmliZWQpLFxuICAgIEpTT04uc3RyaW5naWZ5KG4udXBkYXRlT25seU9uKSxcbiAgICBKU09OLnN0cmluZ2lmeShlKVxuICBdKSwgci51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoJChlKSkge1xuICAgICAgY29uc3QgZCA9IHR0KGUsIGMpLCBsID0gQXJyYXkuZnJvbShhKTtcbiAgICAgIHJldHVybiBjLmZvckVhY2goKGYpID0+IHtcbiAgICAgICAgZC5oYXMoZi5pZGVudGl0eSkgJiYgKGQuZ2V0KGYuaWRlbnRpdHkpID8/IFtdKS5mb3JFYWNoKChnKSA9PiB7XG4gICAgICAgICAgaWYgKGEuZmluZChcbiAgICAgICAgICAgICh7IHBhcnRpY2lwYW50OiBtLCBwdWJsaWNhdGlvbjogTSB9KSA9PiBmLmlkZW50aXR5ID09PSBtLmlkZW50aXR5ICYmIE0uc291cmNlID09PSBnXG4gICAgICAgICAgKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBULmRlYnVnKFxuICAgICAgICAgICAgYEFkZCAke2d9IHBsYWNlaG9sZGVyIGZvciBwYXJ0aWNpcGFudCAke2YuaWRlbnRpdHl9LmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IFMgPSB7XG4gICAgICAgICAgICBwYXJ0aWNpcGFudDogZixcbiAgICAgICAgICAgIHNvdXJjZTogZ1xuICAgICAgICAgIH07XG4gICAgICAgICAgbC5wdXNoKFMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLCBsO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIGE7XG4gIH0sIFthLCBjLCBlXSk7XG59XG5mdW5jdGlvbiBldChlLCBuKSB7XG4gIGNvbnN0IHQgPSBuZXcgU2V0KGUpO1xuICBmb3IgKGNvbnN0IGEgb2YgbilcbiAgICB0LmRlbGV0ZShhKTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiB0dChlLCBuKSB7XG4gIGNvbnN0IHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBpZiAoJChlKSkge1xuICAgIGNvbnN0IGEgPSBlLmZpbHRlcigocykgPT4gcy53aXRoUGxhY2Vob2xkZXIpLm1hcCgocykgPT4gcy5zb3VyY2UpO1xuICAgIG4uZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3QgYyA9IHMuZ2V0VHJhY2tQdWJsaWNhdGlvbnMoKS5tYXAoKHUpID0+IHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHJldHVybiAoaSA9IHUudHJhY2spID09IG51bGwgPyB2b2lkIDAgOiBpLnNvdXJjZTtcbiAgICAgIH0pLmZpbHRlcigodSkgPT4gdSAhPT0gdm9pZCAwKSwgbyA9IEFycmF5LmZyb20oXG4gICAgICAgIGV0KG5ldyBTZXQoYSksIG5ldyBTZXQoYykpXG4gICAgICApO1xuICAgICAgby5sZW5ndGggPiAwICYmIHQuc2V0KHMuaWRlbnRpdHksIG8pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gbnQoZSkge1xuICBjb25zdCBbbiwgdF0gPSByLnVzZVN0YXRlKHdlKGUpKSwgeyB0cmFja09ic2VydmVyOiBhIH0gPSByLnVzZU1lbW8oKCkgPT4gQWUoZSksIFtlLnBhcnRpY2lwYW50LnNpZCA/PyBlLnBhcnRpY2lwYW50LmlkZW50aXR5LCBlLnNvdXJjZV0pO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHMgPSBhLnN1YnNjcmliZSgoYykgPT4ge1xuICAgICAgdChjKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gcyA9PSBudWxsID8gdm9pZCAwIDogcy51bnN1YnNjcmliZSgpO1xuICB9LCBbYV0pLCB7XG4gICAgcGFydGljaXBhbnQ6IGUucGFydGljaXBhbnQsXG4gICAgc291cmNlOiBlLnNvdXJjZSA/PyB5LlNvdXJjZS5Vbmtub3duLFxuICAgIHB1YmxpY2F0aW9uOiBuXG4gIH07XG59XG5mdW5jdGlvbiBRdChlLCBuKSB7XG4gIGNvbnN0IHQgPSB3KG4pO1xuICByZXR1cm4gbnQoeyBuYW1lOiBlLCBwYXJ0aWNpcGFudDogdCB9KTtcbn1cbmZ1bmN0aW9uICR0KGUpIHtcbiAgY29uc3QgbiA9IEEoKSwgdCA9IE8obiksIGEgPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gdCA9PT0gSS5EaXNjb25uZWN0ZWQsXG4gICAgW3RdXG4gICksIHMgPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gQ2UobiwgZSksXG4gICAgW24sIGUsIGFdXG4gICksIGMgPSBiKHMuaXNTZW5kaW5nT2JzZXJ2YWJsZSwgITEpLCBvID0gYihzLm1lc3NhZ2VPYnNlcnZhYmxlLCBbXSk7XG4gIHJldHVybiB7IHNlbmQ6IHMuc2VuZCwgdXBkYXRlOiBzLnVwZGF0ZSwgY2hhdE1lc3NhZ2VzOiBvLCBpc1NlbmRpbmc6IGMgfTtcbn1cbmZ1bmN0aW9uIEd0KGUgPSB7fSkge1xuICBjb25zdCBbbiwgdF0gPSByLnVzZVN0YXRlKFxuICAgIEllKGUuZGVmYXVsdHMsIGUucHJldmVudExvYWQgPz8gITEpXG4gICksIGEgPSByLnVzZUNhbGxiYWNrKChpKSA9PiB7XG4gICAgdCgoZCkgPT4gKHsgLi4uZCwgYXVkaW9FbmFibGVkOiBpIH0pKTtcbiAgfSwgW10pLCBzID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xuICAgIHQoKGQpID0+ICh7IC4uLmQsIHZpZGVvRW5hYmxlZDogaSB9KSk7XG4gIH0sIFtdKSwgYyA9IHIudXNlQ2FsbGJhY2soKGkpID0+IHtcbiAgICB0KChkKSA9PiAoeyAuLi5kLCBhdWRpb0RldmljZUlkOiBpIH0pKTtcbiAgfSwgW10pLCBvID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xuICAgIHQoKGQpID0+ICh7IC4uLmQsIHZpZGVvRGV2aWNlSWQ6IGkgfSkpO1xuICB9LCBbXSksIHUgPSByLnVzZUNhbGxiYWNrKChpKSA9PiB7XG4gICAgdCgoZCkgPT4gKHsgLi4uZCwgdXNlcm5hbWU6IGkgfSkpO1xuICB9LCBbXSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgT2UobiwgZS5wcmV2ZW50U2F2ZSA/PyAhMSk7XG4gIH0sIFtuLCBlLnByZXZlbnRTYXZlXSksIHtcbiAgICB1c2VyQ2hvaWNlczogbixcbiAgICBzYXZlQXVkaW9JbnB1dEVuYWJsZWQ6IGEsXG4gICAgc2F2ZVZpZGVvSW5wdXRFbmFibGVkOiBzLFxuICAgIHNhdmVBdWRpb0lucHV0RGV2aWNlSWQ6IGMsXG4gICAgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZDogbyxcbiAgICBzYXZlVXNlcm5hbWU6IHVcbiAgfTtcbn1cbmZ1bmN0aW9uIHh0KGUsIG4gPSB7fSkge1xuICBjb25zdCB0ID0gdyhlKSwgYSA9IGsobi5yb29tKSwgcyA9IHIudXNlTWVtbygoKSA9PiBEZShhLCB0KSwgW2EsIHRdKTtcbiAgcmV0dXJuIGIoXG4gICAgcyxcbiAgICB0LmlzTG9jYWwgPyB0LmlzRTJFRUVuYWJsZWQgOiAhISh0ICE9IG51bGwgJiYgdC5pc0VuY3J5cHRlZClcbiAgKTtcbn1cbmZ1bmN0aW9uIEh0KGUsIG4gPSB7IGZmdFNpemU6IDMyLCBzbW9vdGhpbmdUaW1lQ29uc3RhbnQ6IDAgfSkge1xuICBjb25zdCB0ID0gTGUoZSkgPyBlLnB1YmxpY2F0aW9uLnRyYWNrIDogZSwgW2EsIHNdID0gci51c2VTdGF0ZSgwKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXQgfHwgIXQubWVkaWFTdHJlYW0pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBjbGVhbnVwOiBjLCBhbmFseXNlcjogbyB9ID0gVih0LCBuKSwgdSA9IG8uZnJlcXVlbmN5QmluQ291bnQsIGkgPSBuZXcgVWludDhBcnJheSh1KSwgbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIG8uZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoaSk7XG4gICAgICBsZXQgZiA9IDA7XG4gICAgICBmb3IgKGxldCBwID0gMDsgcCA8IGkubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgY29uc3QgZyA9IGlbcF07XG4gICAgICAgIGYgKz0gZyAqIGc7XG4gICAgICB9XG4gICAgICBzKE1hdGguc3FydChmIC8gaS5sZW5ndGgpIC8gMjU1KTtcbiAgICB9LCAxZTMgLyAzMCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGMoKSwgY2xlYXJJbnRlcnZhbChsKTtcbiAgICB9O1xuICB9LCBbdCwgdCA9PSBudWxsID8gdm9pZCAwIDogdC5tZWRpYVN0cmVhbSwgSlNPTi5zdHJpbmdpZnkobildKSwgYTtcbn1cbmNvbnN0IHN0ID0gKGUpID0+IHtcbiAgY29uc3QgbiA9ICh0KSA9PiB7XG4gICAgbGV0IGMgPSAxIC0gTWF0aC5tYXgoLTEwMCwgTWF0aC5taW4oLTEwLCB0KSkgKiAtMSAvIDEwMDtcbiAgICByZXR1cm4gYyA9IE1hdGguc3FydChjKSwgYztcbiAgfTtcbiAgcmV0dXJuIGUubWFwKCh0KSA9PiB0ID09PSAtMSAvIDAgPyAwIDogbih0KSk7XG59LCBhdCA9IHtcbiAgYmFuZHM6IDUsXG4gIGxvUGFzczogMTAwLFxuICBoaVBhc3M6IDYwMCxcbiAgdXBkYXRlSW50ZXJ2YWw6IDMyLFxuICBhbmFseXNlck9wdGlvbnM6IHsgZmZ0U2l6ZTogMjA0OCB9XG59O1xuZnVuY3Rpb24ganQoZSwgbiA9IHt9KSB7XG4gIHZhciBvO1xuICBjb25zdCB0ID0gZSBpbnN0YW5jZW9mIHkgPyBlIDogKG8gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogby50cmFjaywgYSA9IHsgLi4uYXQsIC4uLm4gfSwgW3MsIGNdID0gci51c2VTdGF0ZShcbiAgICBuZXcgQXJyYXkoYS5iYW5kcykuZmlsbCgwKVxuICApO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdCB8fCAhKHQgIT0gbnVsbCAmJiB0Lm1lZGlhU3RyZWFtKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGFuYWx5c2VyOiB1LCBjbGVhbnVwOiBpIH0gPSBWKHQsIGEuYW5hbHlzZXJPcHRpb25zKSwgZCA9IHUuZnJlcXVlbmN5QmluQ291bnQsIGwgPSBuZXcgRmxvYXQzMkFycmF5KGQpLCBwID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdS5nZXRGbG9hdEZyZXF1ZW5jeURhdGEobCk7XG4gICAgICBsZXQgZyA9IG5ldyBGbG9hdDMyQXJyYXkobC5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBsLmxlbmd0aDsgdisrKVxuICAgICAgICBnW3ZdID0gbFt2XTtcbiAgICAgIGcgPSBnLnNsaWNlKG4ubG9QYXNzLCBuLmhpUGFzcyk7XG4gICAgICBjb25zdCBTID0gc3QoZyksIG0gPSBNYXRoLmNlaWwoUy5sZW5ndGggLyBhLmJhbmRzKSwgTSA9IFtdO1xuICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBhLmJhbmRzOyB2KyspIHtcbiAgICAgICAgY29uc3QgUCA9IFMuc2xpY2UodiAqIG0sICh2ICsgMSkgKiBtKS5yZWR1Y2UoKGgsIEMpID0+IGggKz0gQywgMCk7XG4gICAgICAgIE0ucHVzaChQIC8gbSk7XG4gICAgICB9XG4gICAgICBjKE0pO1xuICAgIH0sIGEudXBkYXRlSW50ZXJ2YWwpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpKCksIGNsZWFySW50ZXJ2YWwocCk7XG4gICAgfTtcbiAgfSwgW3QsIHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQubWVkaWFTdHJlYW0sIEpTT04uc3RyaW5naWZ5KG4pXSksIHM7XG59XG5jb25zdCBydCA9IHtcbiAgYmFyQ291bnQ6IDEyMCxcbiAgdm9sTXVsdGlwbGllcjogNSxcbiAgdXBkYXRlSW50ZXJ2YWw6IDIwXG59O1xuZnVuY3Rpb24gWHQoZSwgbiA9IHt9KSB7XG4gIHZhciBsO1xuICBjb25zdCB0ID0gZSBpbnN0YW5jZW9mIHkgPyBlIDogKGwgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogbC50cmFjaywgYSA9IHsgLi4ucnQsIC4uLm4gfSwgcyA9IHIudXNlUmVmKG5ldyBGbG9hdDMyQXJyYXkoKSksIGMgPSByLnVzZVJlZihwZXJmb3JtYW5jZS5ub3coKSksIG8gPSByLnVzZVJlZigwKSwgW3UsIGldID0gci51c2VTdGF0ZShbXSksIGQgPSByLnVzZUNhbGxiYWNrKChmKSA9PiB7XG4gICAgaShcbiAgICAgIEFycmF5LmZyb20oXG4gICAgICAgIG90KGYsIGEuYmFyQ291bnQpLm1hcCgocCkgPT4gTWF0aC5zcXJ0KHApICogYS52b2xNdWx0aXBsaWVyKVxuICAgICAgICAvLyB3YXZlLnNsaWNlKDAsIG9wdHMuYmFyQ291bnQpLm1hcCgodikgPT4gc2lnbW9pZCh2ICogb3B0cy52b2xNdWx0aXBsaWVyLCAwLjA4LCAwLjIpKSxcbiAgICAgIClcbiAgICApO1xuICB9LCBbXSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0IHx8ICEodCAhPSBudWxsICYmIHQubWVkaWFTdHJlYW0pKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgYW5hbHlzZXI6IGYsIGNsZWFudXA6IHAgfSA9IFYodCwge1xuICAgICAgZmZ0U2l6ZTogVShhLmJhckNvdW50KVxuICAgIH0pLCBnID0gVShhLmJhckNvdW50KSwgUyA9IG5ldyBGbG9hdDMyQXJyYXkoZyksIG0gPSAoKSA9PiB7XG4gICAgICBpZiAoTSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtKSwgZi5nZXRGbG9hdFRpbWVEb21haW5EYXRhKFMpLCBzLmN1cnJlbnQubWFwKCh2LCBQKSA9PiB2ICsgU1tQXSksIG8uY3VycmVudCArPSAxLCBwZXJmb3JtYW5jZS5ub3coKSAtIGMuY3VycmVudCA+PSBhLnVwZGF0ZUludGVydmFsKSB7XG4gICAgICAgIGNvbnN0IHYgPSBTLm1hcCgoUCkgPT4gUCAvIG8uY3VycmVudCk7XG4gICAgICAgIGQodiksIGMuY3VycmVudCA9IHBlcmZvcm1hbmNlLm5vdygpLCBvLmN1cnJlbnQgPSAwO1xuICAgICAgfVxuICAgIH07XG4gICAgbGV0IE0gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHAoKSwgY2FuY2VsQW5pbWF0aW9uRnJhbWUoTSk7XG4gICAgfTtcbiAgfSwgW3QsIHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQubWVkaWFTdHJlYW0sIEpTT04uc3RyaW5naWZ5KG4pLCBkXSksIHtcbiAgICBiYXJzOiB1XG4gIH07XG59XG5mdW5jdGlvbiBVKGUpIHtcbiAgcmV0dXJuIGUgPCAzMiA/IDMyIDogY3QoZSk7XG59XG5mdW5jdGlvbiBjdChlKSB7XG4gIGxldCBuID0gMjtcbiAgZm9yICg7IGUgPj49IDE7IClcbiAgICBuIDw8PSAxO1xuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIG90KGUsIG4pIHtcbiAgY29uc3QgdCA9IE1hdGguZmxvb3IoZS5sZW5ndGggLyBuKSwgYSA9IG5ldyBGbG9hdDMyQXJyYXkobik7XG4gIGZvciAobGV0IHMgPSAwOyBzIDwgbjsgcysrKSB7XG4gICAgY29uc3QgYyA9IHQgKiBzO1xuICAgIGxldCBvID0gMDtcbiAgICBmb3IgKGxldCB1ID0gMDsgdSA8IHQ7IHUrKylcbiAgICAgIG8gPSBvICsgTWF0aC5hYnMoZVtjICsgdV0pO1xuICAgIGFbc10gPSBvIC8gdDtcbiAgfVxuICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIGl0KGUsIG4pIHtcbiAgY29uc3QgdCA9IEEoKSwgYSA9IE4oKSwgcyA9IG4gPyB0LmdldFBhcnRpY2lwYW50QnlJZGVudGl0eShuKSA6IGEsIGMgPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gcyA/IFJlKHMsIHsgc291cmNlczogZSB9KSA6IHZvaWQgMCxcbiAgICBbcyA9PSBudWxsID8gdm9pZCAwIDogcy5zaWQsIHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaWRlbnRpdHksIEpTT04uc3RyaW5naWZ5KGUpXVxuICApO1xuICByZXR1cm4gYihjLCBbXSk7XG59XG5mdW5jdGlvbiB1dChlKSB7XG4gIHZhciB0LCBhLCBzO1xuICBjb25zdCBuID0gci51c2VNZW1vKFxuICAgICgpID0+IHtcbiAgICAgIHZhciBjO1xuICAgICAgcmV0dXJuIChjID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5wdWJsaWNhdGlvbikgIT0gbnVsbCAmJiBjLnRyYWNrID8gRmUoZSA9PSBudWxsID8gdm9pZCAwIDogZS5wdWJsaWNhdGlvbi50cmFjaykgOiB2b2lkIDA7XG4gICAgfSxcbiAgICBbKHQgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogdC50cmFja11cbiAgKTtcbiAgcmV0dXJuIGIobiwge1xuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICBydHBUaW1lc3RhbXA6IChzID0gKGEgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogYS50cmFjaykgPT0gbnVsbCA/IHZvaWQgMCA6IHMucnRwVGltZXN0YW1wXG4gIH0pO1xufVxuY29uc3QgZHQgPSB7XG4gIGJ1ZmZlclNpemU6IDEwMFxuICAvLyBtYXhBZ2U6IDJfMDAwLFxufTtcbmZ1bmN0aW9uIGx0KGUsIG4pIHtcbiAgY29uc3QgdCA9IHsgLi4uZHQsIC4uLm4gfSwgW2EsIHNdID0gci51c2VTdGF0ZShbXSksIGMgPSB1dChlKSwgbyA9ICh1KSA9PiB7XG4gICAgdmFyIGk7XG4gICAgKGkgPSB0Lm9uVHJhbnNjcmlwdGlvbikgPT0gbnVsbCB8fCBpLmNhbGwodCwgdSksIHMoXG4gICAgICAoZCkgPT4gVmUoXG4gICAgICAgIGQsXG4gICAgICAgIC8vIHdoZW4gZmlyc3QgcmVjZWl2aW5nIGEgc2VnbWVudCwgYWRkIHRoZSBjdXJyZW50IG1lZGlhIHRpbWVzdGFtcCB0byBpdFxuICAgICAgICB1Lm1hcCgobCkgPT4gQmUobCwgYykpLFxuICAgICAgICB0LmJ1ZmZlclNpemVcbiAgICAgIClcbiAgICApO1xuICB9O1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghKGUgIT0gbnVsbCAmJiBlLnB1YmxpY2F0aW9uKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB1ID0gTmUoZS5wdWJsaWNhdGlvbikuc3Vic2NyaWJlKChpKSA9PiB7XG4gICAgICBvKC4uLmkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1LnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW2UgJiYgRihlKSwgb10pLCB7IHNlZ21lbnRzOiBhIH07XG59XG5mdW5jdGlvbiBmdChlID0ge30pIHtcbiAgY29uc3QgbiA9IE4oKSwgdCA9IGUucGFydGljaXBhbnQgPz8gbiwgYSA9IHIudXNlTWVtbyhcbiAgICAvLyB3ZWlyZCB0eXBlc2NyaXB0IGNvbnN0cmFpbnRcbiAgICAoKSA9PiB0ID8gTCh0KSA6IEwodCksXG4gICAgW3RdXG4gICk7XG4gIHJldHVybiBiKGEsIHtcbiAgICBhdHRyaWJ1dGVzOiB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmF0dHJpYnV0ZXNcbiAgfSk7XG59XG5mdW5jdGlvbiBZdChlLCBuID0ge30pIHtcbiAgY29uc3QgdCA9IHcobi5wYXJ0aWNpcGFudCksIFthLCBzXSA9IHIudXNlU3RhdGUodC5hdHRyaWJ1dGVzW2VdKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IEwodCkuc3Vic2NyaWJlKChvKSA9PiB7XG4gICAgICBvLmNoYW5nZWRbZV0gIT09IHZvaWQgMCAmJiBzKG8uYXR0cmlidXRlc1tlXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbdCwgZV0pLCBhO1xufVxuY29uc3QgcSA9IFwibGsuYWdlbnQuc3RhdGVcIjtcbmZ1bmN0aW9uIEt0KCkge1xuICBjb25zdCBlID0gRygpLmZpbmQoKG8pID0+IG8ua2luZCA9PT0gV2UuQUdFTlQpLCBuID0gaXQoW3kuU291cmNlLk1pY3JvcGhvbmVdLCBlID09IG51bGwgPyB2b2lkIDAgOiBlLmlkZW50aXR5KVswXSwgeyBzZWdtZW50czogdCB9ID0gbHQobiksIGEgPSBPKCksIHsgYXR0cmlidXRlczogcyB9ID0gZnQoeyBwYXJ0aWNpcGFudDogZSB9KSwgYyA9IHIudXNlTWVtbygoKSA9PiBhID09PSBJLkRpc2Nvbm5lY3RlZCA/IFwiZGlzY29ubmVjdGVkXCIgOiBhID09PSBJLkNvbm5lY3RpbmcgfHwgIWUgfHwgIShzICE9IG51bGwgJiYgc1txXSkgPyBcImNvbm5lY3RpbmdcIiA6IHNbcV0sIFtzLCBlLCBhXSk7XG4gIHJldHVybiB7XG4gICAgYWdlbnQ6IGUsXG4gICAgc3RhdGU6IGMsXG4gICAgYXVkaW9UcmFjazogbixcbiAgICBhZ2VudFRyYW5zY3JpcHRpb25zOiB0LFxuICAgIGFnZW50QXR0cmlidXRlczogc1xuICB9O1xufVxuZnVuY3Rpb24gWnQoZSkge1xuICBjb25zdCBuID0gayhlKSwgdCA9IE8obiksIGEgPSByLnVzZU1lbW8oKCkgPT4gemUobiksIFtuLCB0XSk7XG4gIHJldHVybiBiKGEsIG4uaXNSZWNvcmRpbmcpO1xufVxuZXhwb3J0IHtcbiAgRXQgYXMgQSxcbiAgTHQgYXMgQixcbiAgWWUgYXMgQyxcbiAgU3QgYXMgRCxcbiAgTXQgYXMgRSxcbiAgamUgYXMgRixcbiAgeiBhcyBHLFxuICBYZSBhcyBILFxuICBDdCBhcyBJLFxuICBJdCBhcyBKLFxuICBEdCBhcyBLLFxuICBSdCBhcyBMLFxuICBHIGFzIE0sXG4gIE50IGFzIE4sXG4gIFplIGFzIE8sXG4gIHF0IGFzIFAsXG4gIFF0IGFzIFEsXG4gIEh0IGFzIFIsXG4gIFh0IGFzIFMsXG4gIGl0IGFzIFQsXG4gIGx0IGFzIFUsXG4gIEt0IGFzIFYsXG4gIGZ0IGFzIFcsXG4gIFl0IGFzIFgsXG4gIFp0IGFzIFksXG4gIE8gYXMgYSxcbiAgVXQgYXMgYixcbiAgeXQgYXMgYyxcbiAgUHQgYXMgZCxcbiAgVHQgYXMgZSxcbiAgVnQgYXMgZixcbiAgQnQgYXMgZyxcbiAgX3QgYXMgaCxcbiAgaHQgYXMgaSxcbiAgYiBhcyBqLFxuICBKdCBhcyBrLFxuICBPdCBhcyBsLFxuICB4dCBhcyBtLFxuICBrdCBhcyBuLFxuICBBdCBhcyBvLFxuICB6dCBhcyBwLFxuICBIZSBhcyBxLFxuICBLZSBhcyByLFxuICBqdCBhcyBzLFxuICBXdCBhcyB0LFxuICB2dCBhcyB1LFxuICBGdCBhcyB2LFxuICAkdCBhcyB3LFxuICB3dCBhcyB4LFxuICBHdCBhcyB5LFxuICBndCBhcyB6XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MtSndkVWZnQ0QubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/krisp.mjs":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/krisp.mjs ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useKrispNoiseFilter: () => (/* binding */ K)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contexts-B7YgC7ji.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\");\n/* harmony import */ var _hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-JwdUfgCD.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs\");\n\n\n\n\nfunction K(l = {}) {\n  const [o, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [p, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [d, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\n  let e = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.C)().microphoneTrack;\n  const [s, k] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  l.trackRef && (e = l.trackRef.publication);\n  const m = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(async (t) => {\n    if (t) {\n      const { KrispNoiseFilter: r, isKrispNoiseFilterSupported: c } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@livekit+krisp-noise-filter@0.2.16_livekit-client@2.9.1\").then(__webpack_require__.bind(__webpack_require__, /*! @livekit/krisp-noise-filter */ \"(ssr)/./node_modules/.pnpm/@livekit+krisp-noise-filter@0.2.16_livekit-client@2.9.1/node_modules/@livekit/krisp-noise-filter/dist/index.js\"));\n      if (!c()) {\n        _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"LiveKit-Krisp noise filter is not supported in this browser\");\n        return;\n      }\n      s || k(r(l.filterOptions));\n    }\n    u((r) => (r !== t && a(!0), t));\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var t;\n    if (e && e.track instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalAudioTrack && s) {\n      const r = e.track.getProcessor();\n      r && r.name === \"livekit-noise-filter\" ? (a(!0), r.setEnabled(o).finally(() => {\n        a(!1), n(o);\n      })) : !r && o && (a(!0), (t = e == null ? void 0 : e.track) == null || t.setProcessor(s).then(() => s.setEnabled(o)).then(() => {\n        n(!0);\n      }).catch((c) => {\n        n(!1), _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.error(\"Krisp hook: error enabling filter\", c);\n      }).finally(() => {\n        a(!1);\n      }));\n    }\n  }, [o, e, s]), {\n    setNoiseFilterEnabled: m,\n    isNoiseFilterEnabled: d,\n    isNoiseFilterPending: p,\n    processor: s\n  };\n}\n\n//# sourceMappingURL=krisp.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3Qva3Jpc3AubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJCO0FBQzJCO0FBQ0w7QUFDSDtBQUM5QyxpQkFBaUI7QUFDakIsaUJBQWlCLDJDQUFVLGVBQWUsMkNBQVUsZUFBZSwyQ0FBVTtBQUM3RSxVQUFVLHNEQUFDO0FBQ1gsaUJBQWlCLDJDQUFVO0FBQzNCO0FBQ0EsWUFBWSw4Q0FBYTtBQUN6QjtBQUNBLGNBQWMsc0RBQXNELFFBQVEsa1ZBQXFDO0FBQ2pIO0FBQ0EsUUFBUSxxREFBQztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw0Q0FBVztBQUNwQjtBQUNBLGdDQUFnQywyREFBQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AsZUFBZSxxREFBQztBQUNoQixPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvaWNlLWFzc2lzdGFudDIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3Qva3Jpc3AubWpzP2U4NjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExvY2FsQXVkaW9UcmFjayBhcyBiIH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgeyBsIGFzIGYgfSBmcm9tIFwiLi9jb250ZXh0cy1CN1lnQzdqaS5tanNcIjtcbmltcG9ydCB7IEMgYXMgaCB9IGZyb20gXCIuL2hvb2tzLUp3ZFVmZ0NELm1qc1wiO1xuZnVuY3Rpb24gSyhsID0ge30pIHtcbiAgY29uc3QgW28sIHVdID0gaS51c2VTdGF0ZSghMSksIFtwLCBhXSA9IGkudXNlU3RhdGUoITEpLCBbZCwgbl0gPSBpLnVzZVN0YXRlKCExKTtcbiAgbGV0IGUgPSBoKCkubWljcm9waG9uZVRyYWNrO1xuICBjb25zdCBbcywga10gPSBpLnVzZVN0YXRlKCk7XG4gIGwudHJhY2tSZWYgJiYgKGUgPSBsLnRyYWNrUmVmLnB1YmxpY2F0aW9uKTtcbiAgY29uc3QgbSA9IGkudXNlQ2FsbGJhY2soYXN5bmMgKHQpID0+IHtcbiAgICBpZiAodCkge1xuICAgICAgY29uc3QgeyBLcmlzcE5vaXNlRmlsdGVyOiByLCBpc0tyaXNwTm9pc2VGaWx0ZXJTdXBwb3J0ZWQ6IGMgfSA9IGF3YWl0IGltcG9ydChcIkBsaXZla2l0L2tyaXNwLW5vaXNlLWZpbHRlclwiKTtcbiAgICAgIGlmICghYygpKSB7XG4gICAgICAgIGYud2FybihcIkxpdmVLaXQtS3Jpc3Agbm9pc2UgZmlsdGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzIHx8IGsocihsLmZpbHRlck9wdGlvbnMpKTtcbiAgICB9XG4gICAgdSgocikgPT4gKHIgIT09IHQgJiYgYSghMCksIHQpKTtcbiAgfSwgW10pO1xuICByZXR1cm4gaS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciB0O1xuICAgIGlmIChlICYmIGUudHJhY2sgaW5zdGFuY2VvZiBiICYmIHMpIHtcbiAgICAgIGNvbnN0IHIgPSBlLnRyYWNrLmdldFByb2Nlc3NvcigpO1xuICAgICAgciAmJiByLm5hbWUgPT09IFwibGl2ZWtpdC1ub2lzZS1maWx0ZXJcIiA/IChhKCEwKSwgci5zZXRFbmFibGVkKG8pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhKCExKSwgbihvKTtcbiAgICAgIH0pKSA6ICFyICYmIG8gJiYgKGEoITApLCAodCA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUudHJhY2spID09IG51bGwgfHwgdC5zZXRQcm9jZXNzb3IocykudGhlbigoKSA9PiBzLnNldEVuYWJsZWQobykpLnRoZW4oKCkgPT4ge1xuICAgICAgICBuKCEwKTtcbiAgICAgIH0pLmNhdGNoKChjKSA9PiB7XG4gICAgICAgIG4oITEpLCBmLmVycm9yKFwiS3Jpc3AgaG9vazogZXJyb3IgZW5hYmxpbmcgZmlsdGVyXCIsIGMpO1xuICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGEoITEpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW28sIGUsIHNdKSwge1xuICAgIHNldE5vaXNlRmlsdGVyRW5hYmxlZDogbSxcbiAgICBpc05vaXNlRmlsdGVyRW5hYmxlZDogZCxcbiAgICBpc05vaXNlRmlsdGVyUGVuZGluZzogcCxcbiAgICBwcm9jZXNzb3I6IHNcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIEsgYXMgdXNlS3Jpc3BOb2lzZUZpbHRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtyaXNwLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/krisp.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/prefabs.mjs":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/prefabs.mjs ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioConference: () => (/* binding */ at),\n/* harmony export */   Chat: () => (/* binding */ ee),\n/* harmony export */   ControlBar: () => (/* binding */ te),\n/* harmony export */   MediaDeviceMenu: () => (/* binding */ O),\n/* harmony export */   PreJoin: () => (/* binding */ et),\n/* harmony export */   VideoConference: () => (/* binding */ tt),\n/* harmony export */   VoiceAssistantControlBar: () => (/* binding */ nt),\n/* harmony export */   usePreviewDevice: () => (/* binding */ Ze),\n/* harmony export */   usePreviewTracks: () => (/* binding */ ze)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./room-BBI9Ul2f.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs\");\n/* harmony import */ var _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components-DZxz2YwG.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/components-DZxz2YwG.mjs\");\n/* harmony import */ var _hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-JwdUfgCD.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/hooks-JwdUfgCD.mjs\");\n/* harmony import */ var _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contexts-B7YgC7ji.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\n\n\n\n\nfunction ee({\n  messageFormatter: i,\n  messageDecoder: l,\n  messageEncoder: o,\n  channelTopic: a,\n  ...v\n}) {\n  const p = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), f = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ messageDecoder: l, messageEncoder: o, channelTopic: a }), [l, o, a]), { send: d, chatMessages: g, isSending: t } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(u), m = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.j)(), c = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  async function S(s) {\n    s.preventDefault(), p.current && p.current.value.trim() !== \"\" && d && (await d(p.current.value), p.current.value = \"\", p.current.focus());\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var s;\n    f && ((s = f.current) == null || s.scrollTo({ top: f.current.scrollHeight }));\n  }, [f, g]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var r, E, n, C, w;\n    if (!m || g.length === 0)\n      return;\n    if ((r = m.widget.state) != null && r.showChat && g.length > 0 && c.current !== ((E = g[g.length - 1]) == null ? void 0 : E.timestamp)) {\n      c.current = (n = g[g.length - 1]) == null ? void 0 : n.timestamp;\n      return;\n    }\n    const s = g.filter(\n      (A) => !c.current || A.timestamp > c.current\n    ).length, { widget: h } = m;\n    s > 0 && ((C = h.state) == null ? void 0 : C.unreadMessages) !== s && ((w = h.dispatch) == null || w.call(h, { msg: \"unread_msg\", count: s }));\n  }, [g, m == null ? void 0 : m.widget]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...v, className: \"lk-chat\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-chat-header\" }, \"Messages\", m && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.C, { className: \"lk-close-button\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.S, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { className: \"lk-list lk-chat-messages\", ref: f }, v.children ? g.map(\n    (s, h) => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.c)(v.children, {\n      entry: s,\n      key: s.id ?? h,\n      messageFormatter: i\n    })\n  ) : g.map((s, h, r) => {\n    const E = h >= 1 && r[h - 1].from === s.from, n = h >= 1 && s.timestamp - r[h - 1].timestamp < 6e4;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.a,\n      {\n        key: s.id ?? h,\n        hideName: E,\n        hideTimestamp: E === !1 ? !1 : n,\n        entry: s,\n        messageFormatter: i\n      }\n    );\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", { className: \"lk-chat-form\", onSubmit: S }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      className: \"lk-form-control lk-chat-form-input\",\n      disabled: t,\n      ref: p,\n      type: \"text\",\n      placeholder: \"Enter a message...\",\n      onInput: (s) => s.stopPropagation(),\n      onKeyDown: (s) => s.stopPropagation(),\n      onKeyUp: (s) => s.stopPropagation()\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { type: \"submit\", className: \"lk-button lk-chat-form-button\", disabled: t }, \"Send\")));\n}\nfunction O({\n  kind: i,\n  initialSelection: l,\n  onActiveDeviceChange: o,\n  tracks: a,\n  requestPermissions: v = !1,\n  ...p\n}) {\n  const [f, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [d, g] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), [t, m] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!0), [c, S] = react__WEBPACK_IMPORTED_MODULE_0__.useState(v), s = (n, C) => {\n    _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"handle device change\"), u(!1), o == null || o(n, C);\n  }, h = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), r = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    f && S(!0);\n  }, [f]), react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    h.current && r.current && (d || t) && (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.am)(h.current, r.current).then(({ x: n, y: C }) => {\n      r.current && Object.assign(r.current.style, { left: `${n}px`, top: `${C}px` });\n    }), m(!1);\n  }, [h, r, d, t]);\n  const E = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (n) => {\n      r.current && n.target !== h.current && f && (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.an)(r.current, n) && u(!1);\n    },\n    [f, r, h]\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (document.addEventListener(\"click\", E), window.addEventListener(\"resize\", () => m(!0)), () => {\n    document.removeEventListener(\"click\", E), window.removeEventListener(\"resize\", () => m(!0));\n  }), [E, m]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"button\",\n    {\n      className: \"lk-button lk-button-menu\",\n      \"aria-pressed\": f,\n      ...p,\n      onClick: () => u(!f),\n      ref: h\n    },\n    p.children\n  ), !p.disabled && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"div\",\n    {\n      className: \"lk-device-menu\",\n      ref: r,\n      style: { visibility: f ? \"visible\" : \"hidden\" }\n    },\n    i ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.M,\n      {\n        initialSelection: l,\n        onActiveDeviceChange: (n) => s(i, n),\n        onDeviceListChange: g,\n        kind: i,\n        track: a == null ? void 0 : a[i],\n        requestPermissions: c\n      }\n    ) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-device-menu-heading\" }, \"Audio inputs\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.M,\n      {\n        kind: \"audioinput\",\n        onActiveDeviceChange: (n) => s(\"audioinput\", n),\n        onDeviceListChange: g,\n        track: a == null ? void 0 : a.audioinput,\n        requestPermissions: c\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-device-menu-heading\" }, \"Video inputs\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.M,\n      {\n        kind: \"videoinput\",\n        onActiveDeviceChange: (n) => s(\"videoinput\", n),\n        onDeviceListChange: g,\n        track: a == null ? void 0 : a.videoinput,\n        requestPermissions: c\n      }\n    ))\n  ));\n}\nfunction W() {\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.w)();\n  }, []);\n}\nfunction ze(i, l) {\n  const [o, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(), v = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Mutex(), []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    let p = !1, f = [];\n    return v.lock().then(async (u) => {\n      try {\n        (i.audio || i.video) && (f = await (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createLocalTracks)(i), p ? f.forEach((d) => d.stop()) : a(f));\n      } catch (d) {\n        l && d instanceof Error ? l(d) : _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.error(d);\n      } finally {\n        u();\n      }\n    }), () => {\n      p = !0, f.forEach((u) => {\n        u.stop();\n      });\n    };\n  }, [JSON.stringify(i, _room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.r), l, v]), o;\n}\nfunction Ze(i, l, o) {\n  const [a, v] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null), [p, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), u = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.x)({ kind: o }), [d, g] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    void 0\n  ), [t, m] = react__WEBPACK_IMPORTED_MODULE_0__.useState(), [c, S] = react__WEBPACK_IMPORTED_MODULE_0__.useState(l);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    S(l);\n  }, [l]);\n  const s = async (E, n) => {\n    try {\n      const C = n === \"videoinput\" ? await (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createLocalVideoTrack)({\n        deviceId: E,\n        resolution: livekit_client__WEBPACK_IMPORTED_MODULE_1__.VideoPresets.h720.resolution\n      }) : await (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createLocalAudioTrack)({ deviceId: E }), w = await C.getDeviceId(!1);\n      w && E !== w && (r.current = w, S(w)), m(C);\n    } catch (C) {\n      C instanceof Error && v(C);\n    }\n  }, h = async (E, n) => {\n    await E.setDeviceId(n), r.current = n;\n  }, r = react__WEBPACK_IMPORTED_MODULE_0__.useRef(c);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    i && !t && !a && !p && (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"creating track\", o), f(!0), s(c, o).finally(() => {\n      f(!1);\n    }));\n  }, [i, t, a, p]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    t && (i ? d != null && d.deviceId && r.current !== (d == null ? void 0 : d.deviceId) ? (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(`switching ${o} device from`, r.current, d.deviceId), h(t, d.deviceId)) : (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(`unmuting local ${o} track`), t.unmute()) : (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(`muting ${o} track`), t.mute().then(() => _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(t.mediaStreamTrack))));\n  }, [t, d, i, o]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => () => {\n    t && (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(`stopping local ${o} track`), t.stop(), t.mute());\n  }, []), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    g(u == null ? void 0 : u.find((E) => E.deviceId === c));\n  }, [c, u]), {\n    selectedDevice: d,\n    localTrack: t,\n    deviceError: a\n  };\n}\nfunction et({\n  defaults: i = {},\n  onValidate: l,\n  onSubmit: o,\n  onError: a,\n  debug: v,\n  joinLabel: p = \"Join Room\",\n  micLabel: f = \"Microphone\",\n  camLabel: u = \"Camera\",\n  userLabel: d = \"Username\",\n  persistUserChoices: g = !0,\n  videoProcessor: t,\n  ...m\n}) {\n  const {\n    userChoices: c,\n    saveAudioInputDeviceId: S,\n    saveAudioInputEnabled: s,\n    saveVideoInputDeviceId: h,\n    saveVideoInputEnabled: r,\n    saveUsername: E\n  } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.y)({\n    defaults: i,\n    preventSave: !g,\n    preventLoad: !g\n  }), [n, C] = react__WEBPACK_IMPORTED_MODULE_0__.useState(c), [w, A] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.audioEnabled), [y, L] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.videoEnabled), [T, $] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.audioDeviceId), [k, N] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.videoDeviceId), [V, ae] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.username);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    s(w);\n  }, [w, s]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    r(y);\n  }, [y, r]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    S(T);\n  }, [T, S]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    h(k);\n  }, [k, h]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    E(V);\n  }, [V, E]);\n  const D = ze(\n    {\n      audio: w ? { deviceId: c.audioDeviceId } : !1,\n      video: y ? { deviceId: c.videoDeviceId, processor: t } : !1\n    },\n    a\n  ), U = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), M = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => D == null ? void 0 : D.filter((b) => b.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Kind.Video)[0],\n    [D]\n  ), ne = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if (M) {\n      const { facingMode: b } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.facingModeFromLocalTrack)(M);\n      return b;\n    } else\n      return \"undefined\";\n  }, [M]), j = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => D == null ? void 0 : D.filter((b) => b.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Kind.Audio)[0],\n    [D]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (U.current && M && (M.unmute(), M.attach(U.current)), () => {\n    M == null || M.detach();\n  }), [M]);\n  const [se, ce] = react__WEBPACK_IMPORTED_MODULE_0__.useState(), _ = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (b) => typeof l == \"function\" ? l(b) : b.username !== \"\",\n    [l]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const b = {\n      username: V,\n      videoEnabled: y,\n      videoDeviceId: k,\n      audioEnabled: w,\n      audioDeviceId: T\n    };\n    C(b), ce(_(b));\n  }, [V, y, _, w, T, k]);\n  function re(b) {\n    b.preventDefault(), _(n) ? typeof o == \"function\" && o(n) : _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Validation failed with: \", n);\n  }\n  return W(), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-prejoin\", ...m }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-video-container\" }, M && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: U, width: \"1280\", height: \"720\", \"data-lk-facing-mode\": ne }), (!M || !y) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-camera-off-note\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.b, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-container\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group audio\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      initialState: w,\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n      onChange: (b) => A(b)\n    },\n    f\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    O,\n    {\n      initialSelection: T,\n      kind: \"audioinput\",\n      disabled: !j,\n      tracks: { audioinput: j },\n      onActiveDeviceChange: (b, F) => $(F)\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group video\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      initialState: y,\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera,\n      onChange: (b) => L(b)\n    },\n    u\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    O,\n    {\n      initialSelection: k,\n      kind: \"videoinput\",\n      disabled: !M,\n      tracks: { videoinput: M },\n      onActiveDeviceChange: (b, F) => N(F)\n    }\n  )))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", { className: \"lk-username-container\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"input\",\n    {\n      className: \"lk-form-control\",\n      id: \"username\",\n      name: \"username\",\n      type: \"text\",\n      defaultValue: V,\n      placeholder: d,\n      onChange: (b) => ae(b.target.value),\n      autoComplete: \"off\"\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"button\",\n    {\n      className: \"lk-button lk-join-button\",\n      type: \"submit\",\n      onClick: re,\n      disabled: !se\n    },\n    p\n  )), v && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"User Choices:\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { className: \"lk-list\", style: { overflow: \"hidden\", maxWidth: \"15rem\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Username: \", `${n.username}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Video Enabled: \", `${n.videoEnabled}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Audio Enabled: \", `${n.audioEnabled}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Video Device: \", `${n.videoDeviceId}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", null, \"Audio Device: \", `${n.audioDeviceId}`))));\n}\nfunction Ke({ props: i }) {\n  const { dispatch: l, state: o } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a)().widget, a = \"lk-button lk-settings-toggle\";\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.m)(i, {\n    className: a,\n    onClick: () => {\n      l && l({ msg: \"toggle_settings\" });\n    },\n    \"aria-pressed\": o != null && o.showSettings ? \"true\" : \"false\"\n  }), [i, a, l, o]) };\n}\nconst Ge = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(l, o) {\n    const { mergedProps: a } = Ke({ props: l });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: o, ...a }, l.children);\n  }\n);\nfunction te({\n  variation: i,\n  controls: l,\n  saveUserChoices: o = !0,\n  onDeviceError: a,\n  ...v\n}) {\n  var $;\n  const [p, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), u = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.j)();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var k, N;\n    ((k = u == null ? void 0 : u.widget.state) == null ? void 0 : k.showChat) !== void 0 && f((N = u == null ? void 0 : u.widget.state) == null ? void 0 : N.showChat);\n  }, [($ = u == null ? void 0 : u.widget.state) == null ? void 0 : $.showChat]);\n  const g = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.z)(`(max-width: ${p ? 1e3 : 760}px)`) ? \"minimal\" : \"verbose\";\n  i ?? (i = g);\n  const t = { leave: !0, ...l }, m = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.A)();\n  m ? (t.camera ?? (t.camera = m.canPublish), t.microphone ?? (t.microphone = m.canPublish), t.screenShare ?? (t.screenShare = m.canPublish), t.chat ?? (t.chat = m.canPublishData && (l == null ? void 0 : l.chat))) : (t.camera = !1, t.chat = !1, t.microphone = !1, t.screenShare = !1);\n  const c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => i === \"minimal\" || i === \"verbose\",\n    [i]\n  ), S = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => i === \"textOnly\" || i === \"verbose\",\n    [i]\n  ), s = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ao)(), [h, r] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), E = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (k) => {\n      r(k);\n    },\n    [r]\n  ), n = (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.a)({ className: \"lk-control-bar\" }, v), {\n    saveAudioInputEnabled: C,\n    saveVideoInputEnabled: w,\n    saveAudioInputDeviceId: A,\n    saveVideoInputDeviceId: y\n  } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.y)({ preventSave: !o }), L = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (k, N) => N ? C(k) : null,\n    [C]\n  ), T = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (k, N) => N ? w(k) : null,\n    [w]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...n }, t.microphone && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n      showIcon: c,\n      onChange: L,\n      onDeviceError: (k) => a == null ? void 0 : a({ source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, error: k })\n    },\n    S && \"Microphone\"\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    O,\n    {\n      kind: \"audioinput\",\n      onActiveDeviceChange: (k, N) => A(N ?? \"default\")\n    }\n  ))), t.camera && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera,\n      showIcon: c,\n      onChange: T,\n      onDeviceError: (k) => a == null ? void 0 : a({ source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera, error: k })\n    },\n    S && \"Camera\"\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    O,\n    {\n      kind: \"videoinput\",\n      onActiveDeviceChange: (k, N) => y(N ?? \"default\")\n    }\n  ))), t.screenShare && s && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare,\n      captureOptions: { audio: !0, selfBrowserSurface: \"include\" },\n      showIcon: c,\n      onChange: E,\n      onDeviceError: (k) => a == null ? void 0 : a({ source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare, error: k })\n    },\n    S && (h ? \"Stop screen share\" : \"Share screen\")\n  ), t.chat && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.C, null, c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.c, null), S && \"Chat\"), t.settings && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ge, null, c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.d, null), S && \"Settings\"), t.leave && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.D, null, c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.e, null), S && \"Leave\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.f, null));\n}\nfunction tt({\n  chatMessageFormatter: i,\n  chatMessageDecoder: l,\n  chatMessageEncoder: o,\n  SettingsComponent: a,\n  ...v\n}) {\n  var s, h;\n  const [p, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    showChat: !1,\n    unreadMessages: 0,\n    showSettings: !1\n  }), u = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), d = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(\n    [\n      { source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera, withPlaceholder: !0 },\n      { source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare, withPlaceholder: !1 }\n    ],\n    { updateOnlyOn: [livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.ActiveSpeakersChanged], onlySubscribed: !1 }\n  ), g = (r) => {\n    _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"updating widget state\", r), f(r);\n  }, t = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ap)(), m = d.filter(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1).filter((r) => r.publication.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare), c = (s = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(t)) == null ? void 0 : s[0], S = d.filter((r) => !(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.aq)(r, c));\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var r, E, n, C, w, A;\n    if (m.some((y) => y.publication.isSubscribed) && u.current === null ? (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"Auto set screen share focus:\", { newScreenShareTrack: m[0] }), (E = (r = t.pin).dispatch) == null || E.call(r, { msg: \"set_pin\", trackReference: m[0] }), u.current = m[0]) : u.current && !m.some(\n      (y) => {\n        var L, T;\n        return y.publication.trackSid === ((T = (L = u.current) == null ? void 0 : L.publication) == null ? void 0 : T.trackSid);\n      }\n    ) && (_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"Auto clearing screen share focus.\"), (C = (n = t.pin).dispatch) == null || C.call(n, { msg: \"clear_pin\" }), u.current = null), c && !(0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(c)) {\n      const y = d.find(\n        (L) => L.participant.identity === c.participant.identity && L.source === c.source\n      );\n      y !== c && (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(y) && ((A = (w = t.pin).dispatch) == null || A.call(w, { msg: \"set_pin\", trackReference: y }));\n    }\n  }, [\n    m.map((r) => `${r.publication.trackSid}_${r.publication.isSubscribed}`).join(),\n    (h = c == null ? void 0 : c.publication) == null ? void 0 : h.trackSid,\n    d\n  ]), W(), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-video-conference\", ...v }, (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_3__.ar)() && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.L,\n    {\n      value: t,\n      onWidgetChange: g\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-video-conference-inner\" }, c ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-focus-layout-wrapper\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.F, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.g, { tracks: S }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.P, null)), c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.h, { trackRef: c }))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-grid-layout-wrapper\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.G, { tracks: d }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.P, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(te, { controls: { chat: !0, settings: !!a } })),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      ee,\n      {\n        style: { display: p.showChat ? \"grid\" : \"none\" },\n        messageFormatter: i,\n        messageEncoder: o,\n        messageDecoder: l\n      }\n    ),\n    a && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"div\",\n      {\n        className: \"lk-settings-menu-modal\",\n        style: { display: p.showSettings ? \"block\" : \"none\" }\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(a, null)\n    )\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.R, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.i, null));\n}\nfunction at({ ...i }) {\n  const [l, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    showChat: !1,\n    unreadMessages: 0\n  }), a = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.t)([livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone]);\n  return W(), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.L, { onWidgetChange: o }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-audio-conference\", ...i }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-audio-conference-stage\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.j, { tracks: a }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.k, null))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    te,\n    {\n      controls: { microphone: !0, screenShare: !1, camera: !1, chat: !0 }\n    }\n  ), l.showChat && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ee, null)));\n}\nfunction nt({\n  controls: i,\n  saveUserChoices: l = !0,\n  onDeviceError: o,\n  ...a\n}) {\n  const v = { leave: !0, microphone: !0, ...i }, p = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.A)(), { microphoneTrack: f, localParticipant: u } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.C)(), d = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    participant: u,\n    source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n    publication: f\n  }), [u, f]);\n  p ? v.microphone ?? (v.microphone = p.canPublish) : v.microphone = !1;\n  const g = (0,_room_BBI9Ul2f_mjs__WEBPACK_IMPORTED_MODULE_5__.a)({ className: \"lk-agent-control-bar\" }, a), { saveAudioInputEnabled: t, saveAudioInputDeviceId: m } = (0,_hooks_JwdUfgCD_mjs__WEBPACK_IMPORTED_MODULE_2__.y)({\n    preventSave: !l\n  }), c = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (S, s) => {\n      s && t(S);\n    },\n    [t]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...g }, v.microphone && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.T,\n    {\n      source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n      showIcon: !0,\n      onChange: c,\n      onDeviceError: (S) => o == null ? void 0 : o({ source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, error: S })\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.B, { trackRef: d, barCount: 7, options: { minHeight: 5 } })\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-button-group-menu\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    O,\n    {\n      kind: \"audioinput\",\n      onActiveDeviceChange: (S, s) => m(s ?? \"default\")\n    }\n  ))), v.leave && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.D, null, \"Disconnect\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_DZxz2YwG_mjs__WEBPACK_IMPORTED_MODULE_4__.f, null));\n}\n\n//# sourceMappingURL=prefabs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvcHJlZmFicy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJCO0FBQ3NEO0FBQ3lKO0FBQy9IO0FBQzRCO0FBQzBFO0FBQ2pOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxZQUFZLHlDQUFRLFlBQVkseUNBQVEsWUFBWSwwQ0FBUyxVQUFVLHVEQUF1RCxpQkFBaUIseUNBQXlDLEVBQUUsc0RBQUUsU0FBUyx5REFBQyxRQUFRLHlDQUFRO0FBQ3ROO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQVc7QUFDcEI7QUFDQSxrREFBa0QsNkJBQTZCO0FBQy9FLEdBQUcsV0FBVyw0Q0FBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsWUFBWTtBQUM1QixtSEFBbUgsNkJBQTZCO0FBQ2hKLEdBQUcsdURBQXVELGdEQUFlLFVBQVUsNEJBQTRCLGtCQUFrQixnREFBZSxVQUFVLDZCQUE2QixtQ0FBbUMsZ0RBQWUsQ0FBQyx1REFBQyxJQUFJLDhCQUE4QixrQkFBa0IsZ0RBQWUsQ0FBQyx1REFBRSwyQkFBMkIsZ0RBQWUsU0FBUywrQ0FBK0M7QUFDblosY0FBYyxxREFBRTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQixnREFBZTtBQUMxQyxNQUFNLHVEQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsb0JBQW9CLGdEQUFlLFdBQVcsd0NBQXdDLGtCQUFrQixnREFBZTtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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RUFBRSxzREFBRSxRQUFRLDBDQUFTO0FBQzNIO0FBQ0EsWUFBWSxpREFBQztBQUNiO0FBQ0EsR0FBRztBQUNIO0FBQ0EsWUFBWSxxREFBQyxHQUFHLG1DQUFtQyxRQUFRLHNEQUFzRCxFQUFFLHNEQUFDO0FBQ3BIO0FBQ0EsR0FBRyxPQUFPLDhDQUFhO0FBQ3ZCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnREFBZSxVQUFVLE1BQU0sa0NBQWtDLGdEQUFlLFVBQVUsOEJBQThCLGtCQUFrQixnREFBZTtBQUNsTCxJQUFJLHVEQUFDO0FBQ0w7QUFDQSxjQUFjLGlEQUFDO0FBQ2Y7QUFDQTtBQUNBLHFEQUFxRCxRQUFRLGlEQUFDLDhCQUE4QjtBQUM1RixLQUFLO0FBQ0wsb0JBQW9CLGdEQUFlLENBQUMsdURBQUUsSUFBSSxxQ0FBcUMsZ0JBQWdCO0FBQy9GLHFCQUFxQixnREFBZSxVQUFVLG1DQUFtQyxrQkFBa0IsZ0RBQWU7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnREFBZSxDQUFDLHVEQUFDLHVDQUF1QyxnREFBZSxDQUFDLHVEQUFDO0FBQzNHO0FBV0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvaWNlLWFzc2lzdGFudDIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvcHJlZmFicy5tanM/ZTRkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBlIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgYyBhcyBpZSwgdyBhcyBvZSwgciBhcyB1ZSwgbSBhcyBsZSwgYSBhcyBLIH0gZnJvbSBcIi4vcm9vbS1CQkk5VWwyZi5tanNcIjtcbmltcG9ydCB7IEMgYXMgRywgUyBhcyBkZSwgYSBhcyBtZSwgTSBhcyBCLCBiIGFzIGZlLCBUIGFzIFIsIGMgYXMgaGUsIGQgYXMgcGUsIEQgYXMgSiwgZSBhcyBnZSwgZiBhcyBILCBMIGFzIFEsIEcgYXMgRWUsIFAgYXMgeiwgRiBhcyB2ZSwgZyBhcyBTZSwgaCBhcyBrZSwgUiBhcyBiZSwgaSBhcyBDZSwgaiBhcyB3ZSwgayBhcyB5ZSwgQiBhcyBJZSB9IGZyb20gXCIuL2NvbXBvbmVudHMtRFp4ejJZd0cubWpzXCI7XG5pbXBvcnQgeyB3IGFzIE1lLCB4IGFzIE5lLCB5IGFzIHgsIHogYXMgUGUsIEEgYXMgWCwgdCBhcyBZLCBCIGFzIFRlLCBDIGFzIExlIH0gZnJvbSBcIi4vaG9va3MtSndkVWZnQ0QubWpzXCI7XG5pbXBvcnQgeyBqIGFzIFosIGFtIGFzIEFlLCBhbiBhcyBEZSwgbCBhcyBQLCBhIGFzIFJlLCBhbyBhcyBWZSwgYXAgYXMgT2UsIGExIGFzIHEsIGFxIGFzICRlLCBhciBhcyBVZSB9IGZyb20gXCIuL2NvbnRleHRzLUI3WWdDN2ppLm1qc1wiO1xuaW1wb3J0IHsgTXV0ZXggYXMgX2UsIGNyZWF0ZUxvY2FsVHJhY2tzIGFzIEZlLCBUcmFjayBhcyBJLCBmYWNpbmdNb2RlRnJvbUxvY2FsVHJhY2sgYXMgQmUsIGNyZWF0ZUxvY2FsVmlkZW9UcmFjayBhcyBxZSwgVmlkZW9QcmVzZXRzIGFzIHhlLCBjcmVhdGVMb2NhbEF1ZGlvVHJhY2sgYXMgV2UsIFJvb21FdmVudCBhcyBqZSB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuZnVuY3Rpb24gZWUoe1xuICBtZXNzYWdlRm9ybWF0dGVyOiBpLFxuICBtZXNzYWdlRGVjb2RlcjogbCxcbiAgbWVzc2FnZUVuY29kZXI6IG8sXG4gIGNoYW5uZWxUb3BpYzogYSxcbiAgLi4udlxufSkge1xuICBjb25zdCBwID0gZS51c2VSZWYobnVsbCksIGYgPSBlLnVzZVJlZihudWxsKSwgdSA9IGUudXNlTWVtbygoKSA9PiAoeyBtZXNzYWdlRGVjb2RlcjogbCwgbWVzc2FnZUVuY29kZXI6IG8sIGNoYW5uZWxUb3BpYzogYSB9KSwgW2wsIG8sIGFdKSwgeyBzZW5kOiBkLCBjaGF0TWVzc2FnZXM6IGcsIGlzU2VuZGluZzogdCB9ID0gTWUodSksIG0gPSBaKCksIGMgPSBlLnVzZVJlZigwKTtcbiAgYXN5bmMgZnVuY3Rpb24gUyhzKSB7XG4gICAgcy5wcmV2ZW50RGVmYXVsdCgpLCBwLmN1cnJlbnQgJiYgcC5jdXJyZW50LnZhbHVlLnRyaW0oKSAhPT0gXCJcIiAmJiBkICYmIChhd2FpdCBkKHAuY3VycmVudC52YWx1ZSksIHAuY3VycmVudC52YWx1ZSA9IFwiXCIsIHAuY3VycmVudC5mb2N1cygpKTtcbiAgfVxuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBzO1xuICAgIGYgJiYgKChzID0gZi5jdXJyZW50KSA9PSBudWxsIHx8IHMuc2Nyb2xsVG8oeyB0b3A6IGYuY3VycmVudC5zY3JvbGxIZWlnaHQgfSkpO1xuICB9LCBbZiwgZ10pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHIsIEUsIG4sIEMsIHc7XG4gICAgaWYgKCFtIHx8IGcubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICgociA9IG0ud2lkZ2V0LnN0YXRlKSAhPSBudWxsICYmIHIuc2hvd0NoYXQgJiYgZy5sZW5ndGggPiAwICYmIGMuY3VycmVudCAhPT0gKChFID0gZ1tnLmxlbmd0aCAtIDFdKSA9PSBudWxsID8gdm9pZCAwIDogRS50aW1lc3RhbXApKSB7XG4gICAgICBjLmN1cnJlbnQgPSAobiA9IGdbZy5sZW5ndGggLSAxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4udGltZXN0YW1wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gZy5maWx0ZXIoXG4gICAgICAoQSkgPT4gIWMuY3VycmVudCB8fCBBLnRpbWVzdGFtcCA+IGMuY3VycmVudFxuICAgICkubGVuZ3RoLCB7IHdpZGdldDogaCB9ID0gbTtcbiAgICBzID4gMCAmJiAoKEMgPSBoLnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogQy51bnJlYWRNZXNzYWdlcykgIT09IHMgJiYgKCh3ID0gaC5kaXNwYXRjaCkgPT0gbnVsbCB8fCB3LmNhbGwoaCwgeyBtc2c6IFwidW5yZWFkX21zZ1wiLCBjb3VudDogcyB9KSk7XG4gIH0sIFtnLCBtID09IG51bGwgPyB2b2lkIDAgOiBtLndpZGdldF0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgLi4udiwgY2xhc3NOYW1lOiBcImxrLWNoYXRcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWNoYXQtaGVhZGVyXCIgfSwgXCJNZXNzYWdlc1wiLCBtICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoRywgeyBjbGFzc05hbWU6IFwibGstY2xvc2UtYnV0dG9uXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChkZSwgbnVsbCkpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInVsXCIsIHsgY2xhc3NOYW1lOiBcImxrLWxpc3QgbGstY2hhdC1tZXNzYWdlc1wiLCByZWY6IGYgfSwgdi5jaGlsZHJlbiA/IGcubWFwKFxuICAgIChzLCBoKSA9PiBpZSh2LmNoaWxkcmVuLCB7XG4gICAgICBlbnRyeTogcyxcbiAgICAgIGtleTogcy5pZCA/PyBoLFxuICAgICAgbWVzc2FnZUZvcm1hdHRlcjogaVxuICAgIH0pXG4gICkgOiBnLm1hcCgocywgaCwgcikgPT4ge1xuICAgIGNvbnN0IEUgPSBoID49IDEgJiYgcltoIC0gMV0uZnJvbSA9PT0gcy5mcm9tLCBuID0gaCA+PSAxICYmIHMudGltZXN0YW1wIC0gcltoIC0gMV0udGltZXN0YW1wIDwgNmU0O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgbWUsXG4gICAgICB7XG4gICAgICAgIGtleTogcy5pZCA/PyBoLFxuICAgICAgICBoaWRlTmFtZTogRSxcbiAgICAgICAgaGlkZVRpbWVzdGFtcDogRSA9PT0gITEgPyAhMSA6IG4sXG4gICAgICAgIGVudHJ5OiBzLFxuICAgICAgICBtZXNzYWdlRm9ybWF0dGVyOiBpXG4gICAgICB9XG4gICAgKTtcbiAgfSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7IGNsYXNzTmFtZTogXCJsay1jaGF0LWZvcm1cIiwgb25TdWJtaXQ6IFMgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBcImlucHV0XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImxrLWZvcm0tY29udHJvbCBsay1jaGF0LWZvcm0taW5wdXRcIixcbiAgICAgIGRpc2FibGVkOiB0LFxuICAgICAgcmVmOiBwLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBwbGFjZWhvbGRlcjogXCJFbnRlciBhIG1lc3NhZ2UuLi5cIixcbiAgICAgIG9uSW5wdXQ6IChzKSA9PiBzLnN0b3BQcm9wYWdhdGlvbigpLFxuICAgICAgb25LZXlEb3duOiAocykgPT4gcy5zdG9wUHJvcGFnYXRpb24oKSxcbiAgICAgIG9uS2V5VXA6IChzKSA9PiBzLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgfVxuICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJzdWJtaXRcIiwgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbiBsay1jaGF0LWZvcm0tYnV0dG9uXCIsIGRpc2FibGVkOiB0IH0sIFwiU2VuZFwiKSkpO1xufVxuZnVuY3Rpb24gTyh7XG4gIGtpbmQ6IGksXG4gIGluaXRpYWxTZWxlY3Rpb246IGwsXG4gIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiBvLFxuICB0cmFja3M6IGEsXG4gIHJlcXVlc3RQZXJtaXNzaW9uczogdiA9ICExLFxuICAuLi5wXG59KSB7XG4gIGNvbnN0IFtmLCB1XSA9IGUudXNlU3RhdGUoITEpLCBbZCwgZ10gPSBlLnVzZVN0YXRlKFtdKSwgW3QsIG1dID0gZS51c2VTdGF0ZSghMCksIFtjLCBTXSA9IGUudXNlU3RhdGUodiksIHMgPSAobiwgQykgPT4ge1xuICAgIFAuZGVidWcoXCJoYW5kbGUgZGV2aWNlIGNoYW5nZVwiKSwgdSghMSksIG8gPT0gbnVsbCB8fCBvKG4sIEMpO1xuICB9LCBoID0gZS51c2VSZWYobnVsbCksIHIgPSBlLnVzZVJlZihudWxsKTtcbiAgZS51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGYgJiYgUyghMCk7XG4gIH0sIFtmXSksIGUudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBoLmN1cnJlbnQgJiYgci5jdXJyZW50ICYmIChkIHx8IHQpICYmIEFlKGguY3VycmVudCwgci5jdXJyZW50KS50aGVuKCh7IHg6IG4sIHk6IEMgfSkgPT4ge1xuICAgICAgci5jdXJyZW50ICYmIE9iamVjdC5hc3NpZ24oci5jdXJyZW50LnN0eWxlLCB7IGxlZnQ6IGAke259cHhgLCB0b3A6IGAke0N9cHhgIH0pO1xuICAgIH0pLCBtKCExKTtcbiAgfSwgW2gsIHIsIGQsIHRdKTtcbiAgY29uc3QgRSA9IGUudXNlQ2FsbGJhY2soXG4gICAgKG4pID0+IHtcbiAgICAgIHIuY3VycmVudCAmJiBuLnRhcmdldCAhPT0gaC5jdXJyZW50ICYmIGYgJiYgRGUoci5jdXJyZW50LCBuKSAmJiB1KCExKTtcbiAgICB9LFxuICAgIFtmLCByLCBoXVxuICApO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4gKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBFKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gbSghMCkpLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIEUpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiBtKCEwKSk7XG4gIH0pLCBbRSwgbV0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJidXR0b25cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstYnV0dG9uIGxrLWJ1dHRvbi1tZW51XCIsXG4gICAgICBcImFyaWEtcHJlc3NlZFwiOiBmLFxuICAgICAgLi4ucCxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHUoIWYpLFxuICAgICAgcmVmOiBoXG4gICAgfSxcbiAgICBwLmNoaWxkcmVuXG4gICksICFwLmRpc2FibGVkICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstZGV2aWNlLW1lbnVcIixcbiAgICAgIHJlZjogcixcbiAgICAgIHN0eWxlOiB7IHZpc2liaWxpdHk6IGYgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCIgfVxuICAgIH0sXG4gICAgaSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBCLFxuICAgICAge1xuICAgICAgICBpbml0aWFsU2VsZWN0aW9uOiBsLFxuICAgICAgICBvbkFjdGl2ZURldmljZUNoYW5nZTogKG4pID0+IHMoaSwgbiksXG4gICAgICAgIG9uRGV2aWNlTGlzdENoYW5nZTogZyxcbiAgICAgICAga2luZDogaSxcbiAgICAgICAgdHJhY2s6IGEgPT0gbnVsbCA/IHZvaWQgMCA6IGFbaV0sXG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uczogY1xuICAgICAgfVxuICAgICkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstZGV2aWNlLW1lbnUtaGVhZGluZ1wiIH0sIFwiQXVkaW8gaW5wdXRzXCIpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgQixcbiAgICAgIHtcbiAgICAgICAga2luZDogXCJhdWRpb2lucHV0XCIsXG4gICAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiAobikgPT4gcyhcImF1ZGlvaW5wdXRcIiwgbiksXG4gICAgICAgIG9uRGV2aWNlTGlzdENoYW5nZTogZyxcbiAgICAgICAgdHJhY2s6IGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEuYXVkaW9pbnB1dCxcbiAgICAgICAgcmVxdWVzdFBlcm1pc3Npb25zOiBjXG4gICAgICB9XG4gICAgKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1kZXZpY2UtbWVudS1oZWFkaW5nXCIgfSwgXCJWaWRlbyBpbnB1dHNcIiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBCLFxuICAgICAge1xuICAgICAgICBraW5kOiBcInZpZGVvaW5wdXRcIixcbiAgICAgICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IChuKSA9PiBzKFwidmlkZW9pbnB1dFwiLCBuKSxcbiAgICAgICAgb25EZXZpY2VMaXN0Q2hhbmdlOiBnLFxuICAgICAgICB0cmFjazogYSA9PSBudWxsID8gdm9pZCAwIDogYS52aWRlb2lucHV0LFxuICAgICAgICByZXF1ZXN0UGVybWlzc2lvbnM6IGNcbiAgICAgIH1cbiAgICApKVxuICApKTtcbn1cbmZ1bmN0aW9uIFcoKSB7XG4gIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBvZSgpO1xuICB9LCBbXSk7XG59XG5mdW5jdGlvbiB6ZShpLCBsKSB7XG4gIGNvbnN0IFtvLCBhXSA9IGUudXNlU3RhdGUoKSwgdiA9IGUudXNlTWVtbygoKSA9PiBuZXcgX2UoKSwgW10pO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBwID0gITEsIGYgPSBbXTtcbiAgICByZXR1cm4gdi5sb2NrKCkudGhlbihhc3luYyAodSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgKGkuYXVkaW8gfHwgaS52aWRlbykgJiYgKGYgPSBhd2FpdCBGZShpKSwgcCA/IGYuZm9yRWFjaCgoZCkgPT4gZC5zdG9wKCkpIDogYShmKSk7XG4gICAgICB9IGNhdGNoIChkKSB7XG4gICAgICAgIGwgJiYgZCBpbnN0YW5jZW9mIEVycm9yID8gbChkKSA6IFAuZXJyb3IoZCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1KCk7XG4gICAgICB9XG4gICAgfSksICgpID0+IHtcbiAgICAgIHAgPSAhMCwgZi5mb3JFYWNoKCh1KSA9PiB7XG4gICAgICAgIHUuc3RvcCgpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW0pTT04uc3RyaW5naWZ5KGksIHVlKSwgbCwgdl0pLCBvO1xufVxuZnVuY3Rpb24gWmUoaSwgbCwgbykge1xuICBjb25zdCBbYSwgdl0gPSBlLnVzZVN0YXRlKG51bGwpLCBbcCwgZl0gPSBlLnVzZVN0YXRlKCExKSwgdSA9IE5lKHsga2luZDogbyB9KSwgW2QsIGddID0gZS51c2VTdGF0ZShcbiAgICB2b2lkIDBcbiAgKSwgW3QsIG1dID0gZS51c2VTdGF0ZSgpLCBbYywgU10gPSBlLnVzZVN0YXRlKGwpO1xuICBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgUyhsKTtcbiAgfSwgW2xdKTtcbiAgY29uc3QgcyA9IGFzeW5jIChFLCBuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IEMgPSBuID09PSBcInZpZGVvaW5wdXRcIiA/IGF3YWl0IHFlKHtcbiAgICAgICAgZGV2aWNlSWQ6IEUsXG4gICAgICAgIHJlc29sdXRpb246IHhlLmg3MjAucmVzb2x1dGlvblxuICAgICAgfSkgOiBhd2FpdCBXZSh7IGRldmljZUlkOiBFIH0pLCB3ID0gYXdhaXQgQy5nZXREZXZpY2VJZCghMSk7XG4gICAgICB3ICYmIEUgIT09IHcgJiYgKHIuY3VycmVudCA9IHcsIFModykpLCBtKEMpO1xuICAgIH0gY2F0Y2ggKEMpIHtcbiAgICAgIEMgaW5zdGFuY2VvZiBFcnJvciAmJiB2KEMpO1xuICAgIH1cbiAgfSwgaCA9IGFzeW5jIChFLCBuKSA9PiB7XG4gICAgYXdhaXQgRS5zZXREZXZpY2VJZChuKSwgci5jdXJyZW50ID0gbjtcbiAgfSwgciA9IGUudXNlUmVmKGMpO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGkgJiYgIXQgJiYgIWEgJiYgIXAgJiYgKFAuZGVidWcoXCJjcmVhdGluZyB0cmFja1wiLCBvKSwgZighMCksIHMoYywgbykuZmluYWxseSgoKSA9PiB7XG4gICAgICBmKCExKTtcbiAgICB9KSk7XG4gIH0sIFtpLCB0LCBhLCBwXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICB0ICYmIChpID8gZCAhPSBudWxsICYmIGQuZGV2aWNlSWQgJiYgci5jdXJyZW50ICE9PSAoZCA9PSBudWxsID8gdm9pZCAwIDogZC5kZXZpY2VJZCkgPyAoUC5kZWJ1Zyhgc3dpdGNoaW5nICR7b30gZGV2aWNlIGZyb21gLCByLmN1cnJlbnQsIGQuZGV2aWNlSWQpLCBoKHQsIGQuZGV2aWNlSWQpKSA6IChQLmRlYnVnKGB1bm11dGluZyBsb2NhbCAke299IHRyYWNrYCksIHQudW5tdXRlKCkpIDogKFAuZGVidWcoYG11dGluZyAke299IHRyYWNrYCksIHQubXV0ZSgpLnRoZW4oKCkgPT4gUC5kZWJ1Zyh0Lm1lZGlhU3RyZWFtVHJhY2spKSkpO1xuICB9LCBbdCwgZCwgaSwgb10pLCBlLnVzZUVmZmVjdCgoKSA9PiAoKSA9PiB7XG4gICAgdCAmJiAoUC5kZWJ1Zyhgc3RvcHBpbmcgbG9jYWwgJHtvfSB0cmFja2ApLCB0LnN0b3AoKSwgdC5tdXRlKCkpO1xuICB9LCBbXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBnKHUgPT0gbnVsbCA/IHZvaWQgMCA6IHUuZmluZCgoRSkgPT4gRS5kZXZpY2VJZCA9PT0gYykpO1xuICB9LCBbYywgdV0pLCB7XG4gICAgc2VsZWN0ZWREZXZpY2U6IGQsXG4gICAgbG9jYWxUcmFjazogdCxcbiAgICBkZXZpY2VFcnJvcjogYVxuICB9O1xufVxuZnVuY3Rpb24gZXQoe1xuICBkZWZhdWx0czogaSA9IHt9LFxuICBvblZhbGlkYXRlOiBsLFxuICBvblN1Ym1pdDogbyxcbiAgb25FcnJvcjogYSxcbiAgZGVidWc6IHYsXG4gIGpvaW5MYWJlbDogcCA9IFwiSm9pbiBSb29tXCIsXG4gIG1pY0xhYmVsOiBmID0gXCJNaWNyb3Bob25lXCIsXG4gIGNhbUxhYmVsOiB1ID0gXCJDYW1lcmFcIixcbiAgdXNlckxhYmVsOiBkID0gXCJVc2VybmFtZVwiLFxuICBwZXJzaXN0VXNlckNob2ljZXM6IGcgPSAhMCxcbiAgdmlkZW9Qcm9jZXNzb3I6IHQsXG4gIC4uLm1cbn0pIHtcbiAgY29uc3Qge1xuICAgIHVzZXJDaG9pY2VzOiBjLFxuICAgIHNhdmVBdWRpb0lucHV0RGV2aWNlSWQ6IFMsXG4gICAgc2F2ZUF1ZGlvSW5wdXRFbmFibGVkOiBzLFxuICAgIHNhdmVWaWRlb0lucHV0RGV2aWNlSWQ6IGgsXG4gICAgc2F2ZVZpZGVvSW5wdXRFbmFibGVkOiByLFxuICAgIHNhdmVVc2VybmFtZTogRVxuICB9ID0geCh7XG4gICAgZGVmYXVsdHM6IGksXG4gICAgcHJldmVudFNhdmU6ICFnLFxuICAgIHByZXZlbnRMb2FkOiAhZ1xuICB9KSwgW24sIENdID0gZS51c2VTdGF0ZShjKSwgW3csIEFdID0gZS51c2VTdGF0ZShuLmF1ZGlvRW5hYmxlZCksIFt5LCBMXSA9IGUudXNlU3RhdGUobi52aWRlb0VuYWJsZWQpLCBbVCwgJF0gPSBlLnVzZVN0YXRlKG4uYXVkaW9EZXZpY2VJZCksIFtrLCBOXSA9IGUudXNlU3RhdGUobi52aWRlb0RldmljZUlkKSwgW1YsIGFlXSA9IGUudXNlU3RhdGUobi51c2VybmFtZSk7XG4gIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzKHcpO1xuICB9LCBbdywgc10pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcih5KTtcbiAgfSwgW3ksIHJdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIFMoVCk7XG4gIH0sIFtULCBTXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBoKGspO1xuICB9LCBbaywgaF0pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgRShWKTtcbiAgfSwgW1YsIEVdKTtcbiAgY29uc3QgRCA9IHplKFxuICAgIHtcbiAgICAgIGF1ZGlvOiB3ID8geyBkZXZpY2VJZDogYy5hdWRpb0RldmljZUlkIH0gOiAhMSxcbiAgICAgIHZpZGVvOiB5ID8geyBkZXZpY2VJZDogYy52aWRlb0RldmljZUlkLCBwcm9jZXNzb3I6IHQgfSA6ICExXG4gICAgfSxcbiAgICBhXG4gICksIFUgPSBlLnVzZVJlZihudWxsKSwgTSA9IGUudXNlTWVtbyhcbiAgICAoKSA9PiBEID09IG51bGwgPyB2b2lkIDAgOiBELmZpbHRlcigoYikgPT4gYi5raW5kID09PSBJLktpbmQuVmlkZW8pWzBdLFxuICAgIFtEXVxuICApLCBuZSA9IGUudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKE0pIHtcbiAgICAgIGNvbnN0IHsgZmFjaW5nTW9kZTogYiB9ID0gQmUoTSk7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICB9LCBbTV0pLCBqID0gZS51c2VNZW1vKFxuICAgICgpID0+IEQgPT0gbnVsbCA/IHZvaWQgMCA6IEQuZmlsdGVyKChiKSA9PiBiLmtpbmQgPT09IEkuS2luZC5BdWRpbylbMF0sXG4gICAgW0RdXG4gICk7XG4gIGUudXNlRWZmZWN0KCgpID0+IChVLmN1cnJlbnQgJiYgTSAmJiAoTS51bm11dGUoKSwgTS5hdHRhY2goVS5jdXJyZW50KSksICgpID0+IHtcbiAgICBNID09IG51bGwgfHwgTS5kZXRhY2goKTtcbiAgfSksIFtNXSk7XG4gIGNvbnN0IFtzZSwgY2VdID0gZS51c2VTdGF0ZSgpLCBfID0gZS51c2VDYWxsYmFjayhcbiAgICAoYikgPT4gdHlwZW9mIGwgPT0gXCJmdW5jdGlvblwiID8gbChiKSA6IGIudXNlcm5hbWUgIT09IFwiXCIsXG4gICAgW2xdXG4gICk7XG4gIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBiID0ge1xuICAgICAgdXNlcm5hbWU6IFYsXG4gICAgICB2aWRlb0VuYWJsZWQ6IHksXG4gICAgICB2aWRlb0RldmljZUlkOiBrLFxuICAgICAgYXVkaW9FbmFibGVkOiB3LFxuICAgICAgYXVkaW9EZXZpY2VJZDogVFxuICAgIH07XG4gICAgQyhiKSwgY2UoXyhiKSk7XG4gIH0sIFtWLCB5LCBfLCB3LCBULCBrXSk7XG4gIGZ1bmN0aW9uIHJlKGIpIHtcbiAgICBiLnByZXZlbnREZWZhdWx0KCksIF8obikgPyB0eXBlb2YgbyA9PSBcImZ1bmN0aW9uXCIgJiYgbyhuKSA6IFAud2FybihcIlZhbGlkYXRpb24gZmFpbGVkIHdpdGg6IFwiLCBuKTtcbiAgfVxuICByZXR1cm4gVygpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXByZWpvaW5cIiwgLi4ubSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXZpZGVvLWNvbnRhaW5lclwiIH0sIE0gJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInZpZGVvXCIsIHsgcmVmOiBVLCB3aWR0aDogXCIxMjgwXCIsIGhlaWdodDogXCI3MjBcIiwgXCJkYXRhLWxrLWZhY2luZy1tb2RlXCI6IG5lIH0pLCAoIU0gfHwgIXkpICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstY2FtZXJhLW9mZi1ub3RlXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChmZSwgbnVsbCkpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAtY29udGFpbmVyXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAgYXVkaW9cIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIFIsXG4gICAge1xuICAgICAgaW5pdGlhbFN0YXRlOiB3LFxuICAgICAgc291cmNlOiBJLlNvdXJjZS5NaWNyb3Bob25lLFxuICAgICAgb25DaGFuZ2U6IChiKSA9PiBBKGIpXG4gICAgfSxcbiAgICBmXG4gICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwLW1lbnVcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIE8sXG4gICAge1xuICAgICAgaW5pdGlhbFNlbGVjdGlvbjogVCxcbiAgICAgIGtpbmQ6IFwiYXVkaW9pbnB1dFwiLFxuICAgICAgZGlzYWJsZWQ6ICFqLFxuICAgICAgdHJhY2tzOiB7IGF1ZGlvaW5wdXQ6IGogfSxcbiAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiAoYiwgRikgPT4gJChGKVxuICAgIH1cbiAgKSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cCB2aWRlb1wiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgUixcbiAgICB7XG4gICAgICBpbml0aWFsU3RhdGU6IHksXG4gICAgICBzb3VyY2U6IEkuU291cmNlLkNhbWVyYSxcbiAgICAgIG9uQ2hhbmdlOiAoYikgPT4gTChiKVxuICAgIH0sXG4gICAgdVxuICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cC1tZW51XCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBPLFxuICAgIHtcbiAgICAgIGluaXRpYWxTZWxlY3Rpb246IGssXG4gICAgICBraW5kOiBcInZpZGVvaW5wdXRcIixcbiAgICAgIGRpc2FibGVkOiAhTSxcbiAgICAgIHRyYWNrczogeyB2aWRlb2lucHV0OiBNIH0sXG4gICAgICBvbkFjdGl2ZURldmljZUNoYW5nZTogKGIsIEYpID0+IE4oRilcbiAgICB9XG4gICkpKSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBcImxrLXVzZXJuYW1lLWNvbnRhaW5lclwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJpbnB1dFwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsay1mb3JtLWNvbnRyb2xcIixcbiAgICAgIGlkOiBcInVzZXJuYW1lXCIsXG4gICAgICBuYW1lOiBcInVzZXJuYW1lXCIsXG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIGRlZmF1bHRWYWx1ZTogVixcbiAgICAgIHBsYWNlaG9sZGVyOiBkLFxuICAgICAgb25DaGFuZ2U6IChiKSA9PiBhZShiLnRhcmdldC52YWx1ZSksXG4gICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCJcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJidXR0b25cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwibGstYnV0dG9uIGxrLWpvaW4tYnV0dG9uXCIsXG4gICAgICB0eXBlOiBcInN1Ym1pdFwiLFxuICAgICAgb25DbGljazogcmUsXG4gICAgICBkaXNhYmxlZDogIXNlXG4gICAgfSxcbiAgICBwXG4gICkpLCB2ICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCBcIlVzZXIgQ2hvaWNlczpcIiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJsay1saXN0XCIsIHN0eWxlOiB7IG92ZXJmbG93OiBcImhpZGRlblwiLCBtYXhXaWR0aDogXCIxNXJlbVwiIH0gfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFwiVXNlcm5hbWU6IFwiLCBgJHtuLnVzZXJuYW1lfWApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXCJWaWRlbyBFbmFibGVkOiBcIiwgYCR7bi52aWRlb0VuYWJsZWR9YCksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBudWxsLCBcIkF1ZGlvIEVuYWJsZWQ6IFwiLCBgJHtuLmF1ZGlvRW5hYmxlZH1gKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIFwiVmlkZW8gRGV2aWNlOiBcIiwgYCR7bi52aWRlb0RldmljZUlkfWApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgXCJBdWRpbyBEZXZpY2U6IFwiLCBgJHtuLmF1ZGlvRGV2aWNlSWR9YCkpKSk7XG59XG5mdW5jdGlvbiBLZSh7IHByb3BzOiBpIH0pIHtcbiAgY29uc3QgeyBkaXNwYXRjaDogbCwgc3RhdGU6IG8gfSA9IFJlKCkud2lkZ2V0LCBhID0gXCJsay1idXR0b24gbGstc2V0dGluZ3MtdG9nZ2xlXCI7XG4gIHJldHVybiB7IG1lcmdlZFByb3BzOiBlLnVzZU1lbW8oKCkgPT4gbGUoaSwge1xuICAgIGNsYXNzTmFtZTogYSxcbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICBsICYmIGwoeyBtc2c6IFwidG9nZ2xlX3NldHRpbmdzXCIgfSk7XG4gICAgfSxcbiAgICBcImFyaWEtcHJlc3NlZFwiOiBvICE9IG51bGwgJiYgby5zaG93U2V0dGluZ3MgPyBcInRydWVcIiA6IFwiZmFsc2VcIlxuICB9KSwgW2ksIGEsIGwsIG9dKSB9O1xufVxuY29uc3QgR2UgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbihsLCBvKSB7XG4gICAgY29uc3QgeyBtZXJnZWRQcm9wczogYSB9ID0gS2UoeyBwcm9wczogbCB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogbywgLi4uYSB9LCBsLmNoaWxkcmVuKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIHRlKHtcbiAgdmFyaWF0aW9uOiBpLFxuICBjb250cm9sczogbCxcbiAgc2F2ZVVzZXJDaG9pY2VzOiBvID0gITAsXG4gIG9uRGV2aWNlRXJyb3I6IGEsXG4gIC4uLnZcbn0pIHtcbiAgdmFyICQ7XG4gIGNvbnN0IFtwLCBmXSA9IGUudXNlU3RhdGUoITEpLCB1ID0gWigpO1xuICBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIGssIE47XG4gICAgKChrID0gdSA9PSBudWxsID8gdm9pZCAwIDogdS53aWRnZXQuc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBrLnNob3dDaGF0KSAhPT0gdm9pZCAwICYmIGYoKE4gPSB1ID09IG51bGwgPyB2b2lkIDAgOiB1LndpZGdldC5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IE4uc2hvd0NoYXQpO1xuICB9LCBbKCQgPSB1ID09IG51bGwgPyB2b2lkIDAgOiB1LndpZGdldC5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6ICQuc2hvd0NoYXRdKTtcbiAgY29uc3QgZyA9IFBlKGAobWF4LXdpZHRoOiAke3AgPyAxZTMgOiA3NjB9cHgpYCkgPyBcIm1pbmltYWxcIiA6IFwidmVyYm9zZVwiO1xuICBpID8/IChpID0gZyk7XG4gIGNvbnN0IHQgPSB7IGxlYXZlOiAhMCwgLi4ubCB9LCBtID0gWCgpO1xuICBtID8gKHQuY2FtZXJhID8/ICh0LmNhbWVyYSA9IG0uY2FuUHVibGlzaCksIHQubWljcm9waG9uZSA/PyAodC5taWNyb3Bob25lID0gbS5jYW5QdWJsaXNoKSwgdC5zY3JlZW5TaGFyZSA/PyAodC5zY3JlZW5TaGFyZSA9IG0uY2FuUHVibGlzaCksIHQuY2hhdCA/PyAodC5jaGF0ID0gbS5jYW5QdWJsaXNoRGF0YSAmJiAobCA9PSBudWxsID8gdm9pZCAwIDogbC5jaGF0KSkpIDogKHQuY2FtZXJhID0gITEsIHQuY2hhdCA9ICExLCB0Lm1pY3JvcGhvbmUgPSAhMSwgdC5zY3JlZW5TaGFyZSA9ICExKTtcbiAgY29uc3QgYyA9IGUudXNlTWVtbyhcbiAgICAoKSA9PiBpID09PSBcIm1pbmltYWxcIiB8fCBpID09PSBcInZlcmJvc2VcIixcbiAgICBbaV1cbiAgKSwgUyA9IGUudXNlTWVtbyhcbiAgICAoKSA9PiBpID09PSBcInRleHRPbmx5XCIgfHwgaSA9PT0gXCJ2ZXJib3NlXCIsXG4gICAgW2ldXG4gICksIHMgPSBWZSgpLCBbaCwgcl0gPSBlLnVzZVN0YXRlKCExKSwgRSA9IGUudXNlQ2FsbGJhY2soXG4gICAgKGspID0+IHtcbiAgICAgIHIoayk7XG4gICAgfSxcbiAgICBbcl1cbiAgKSwgbiA9IEsoeyBjbGFzc05hbWU6IFwibGstY29udHJvbC1iYXJcIiB9LCB2KSwge1xuICAgIHNhdmVBdWRpb0lucHV0RW5hYmxlZDogQyxcbiAgICBzYXZlVmlkZW9JbnB1dEVuYWJsZWQ6IHcsXG4gICAgc2F2ZUF1ZGlvSW5wdXREZXZpY2VJZDogQSxcbiAgICBzYXZlVmlkZW9JbnB1dERldmljZUlkOiB5XG4gIH0gPSB4KHsgcHJldmVudFNhdmU6ICFvIH0pLCBMID0gZS51c2VDYWxsYmFjayhcbiAgICAoaywgTikgPT4gTiA/IEMoaykgOiBudWxsLFxuICAgIFtDXVxuICApLCBUID0gZS51c2VDYWxsYmFjayhcbiAgICAoaywgTikgPT4gTiA/IHcoaykgOiBudWxsLFxuICAgIFt3XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IC4uLm4gfSwgdC5taWNyb3Bob25lICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBSLFxuICAgIHtcbiAgICAgIHNvdXJjZTogSS5Tb3VyY2UuTWljcm9waG9uZSxcbiAgICAgIHNob3dJY29uOiBjLFxuICAgICAgb25DaGFuZ2U6IEwsXG4gICAgICBvbkRldmljZUVycm9yOiAoaykgPT4gYSA9PSBudWxsID8gdm9pZCAwIDogYSh7IHNvdXJjZTogSS5Tb3VyY2UuTWljcm9waG9uZSwgZXJyb3I6IGsgfSlcbiAgICB9LFxuICAgIFMgJiYgXCJNaWNyb3Bob25lXCJcbiAgKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b24tZ3JvdXAtbWVudVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgTyxcbiAgICB7XG4gICAgICBraW5kOiBcImF1ZGlvaW5wdXRcIixcbiAgICAgIG9uQWN0aXZlRGV2aWNlQ2hhbmdlOiAoaywgTikgPT4gQShOID8/IFwiZGVmYXVsdFwiKVxuICAgIH1cbiAgKSkpLCB0LmNhbWVyYSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cFwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgUixcbiAgICB7XG4gICAgICBzb3VyY2U6IEkuU291cmNlLkNhbWVyYSxcbiAgICAgIHNob3dJY29uOiBjLFxuICAgICAgb25DaGFuZ2U6IFQsXG4gICAgICBvbkRldmljZUVycm9yOiAoaykgPT4gYSA9PSBudWxsID8gdm9pZCAwIDogYSh7IHNvdXJjZTogSS5Tb3VyY2UuQ2FtZXJhLCBlcnJvcjogayB9KVxuICAgIH0sXG4gICAgUyAmJiBcIkNhbWVyYVwiXG4gICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwLW1lbnVcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIE8sXG4gICAge1xuICAgICAga2luZDogXCJ2aWRlb2lucHV0XCIsXG4gICAgICBvbkFjdGl2ZURldmljZUNoYW5nZTogKGssIE4pID0+IHkoTiA/PyBcImRlZmF1bHRcIilcbiAgICB9XG4gICkpKSwgdC5zY3JlZW5TaGFyZSAmJiBzICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgUixcbiAgICB7XG4gICAgICBzb3VyY2U6IEkuU291cmNlLlNjcmVlblNoYXJlLFxuICAgICAgY2FwdHVyZU9wdGlvbnM6IHsgYXVkaW86ICEwLCBzZWxmQnJvd3NlclN1cmZhY2U6IFwiaW5jbHVkZVwiIH0sXG4gICAgICBzaG93SWNvbjogYyxcbiAgICAgIG9uQ2hhbmdlOiBFLFxuICAgICAgb25EZXZpY2VFcnJvcjogKGspID0+IGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEoeyBzb3VyY2U6IEkuU291cmNlLlNjcmVlblNoYXJlLCBlcnJvcjogayB9KVxuICAgIH0sXG4gICAgUyAmJiAoaCA/IFwiU3RvcCBzY3JlZW4gc2hhcmVcIiA6IFwiU2hhcmUgc2NyZWVuXCIpXG4gICksIHQuY2hhdCAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEcsIG51bGwsIGMgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChoZSwgbnVsbCksIFMgJiYgXCJDaGF0XCIpLCB0LnNldHRpbmdzICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoR2UsIG51bGwsIGMgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChwZSwgbnVsbCksIFMgJiYgXCJTZXR0aW5nc1wiKSwgdC5sZWF2ZSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEosIG51bGwsIGMgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChnZSwgbnVsbCksIFMgJiYgXCJMZWF2ZVwiKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChILCBudWxsKSk7XG59XG5mdW5jdGlvbiB0dCh7XG4gIGNoYXRNZXNzYWdlRm9ybWF0dGVyOiBpLFxuICBjaGF0TWVzc2FnZURlY29kZXI6IGwsXG4gIGNoYXRNZXNzYWdlRW5jb2RlcjogbyxcbiAgU2V0dGluZ3NDb21wb25lbnQ6IGEsXG4gIC4uLnZcbn0pIHtcbiAgdmFyIHMsIGg7XG4gIGNvbnN0IFtwLCBmXSA9IGUudXNlU3RhdGUoe1xuICAgIHNob3dDaGF0OiAhMSxcbiAgICB1bnJlYWRNZXNzYWdlczogMCxcbiAgICBzaG93U2V0dGluZ3M6ICExXG4gIH0pLCB1ID0gZS51c2VSZWYobnVsbCksIGQgPSBZKFxuICAgIFtcbiAgICAgIHsgc291cmNlOiBJLlNvdXJjZS5DYW1lcmEsIHdpdGhQbGFjZWhvbGRlcjogITAgfSxcbiAgICAgIHsgc291cmNlOiBJLlNvdXJjZS5TY3JlZW5TaGFyZSwgd2l0aFBsYWNlaG9sZGVyOiAhMSB9XG4gICAgXSxcbiAgICB7IHVwZGF0ZU9ubHlPbjogW2plLkFjdGl2ZVNwZWFrZXJzQ2hhbmdlZF0sIG9ubHlTdWJzY3JpYmVkOiAhMSB9XG4gICksIGcgPSAocikgPT4ge1xuICAgIFAuZGVidWcoXCJ1cGRhdGluZyB3aWRnZXQgc3RhdGVcIiwgciksIGYocik7XG4gIH0sIHQgPSBPZSgpLCBtID0gZC5maWx0ZXIocSkuZmlsdGVyKChyKSA9PiByLnB1YmxpY2F0aW9uLnNvdXJjZSA9PT0gSS5Tb3VyY2UuU2NyZWVuU2hhcmUpLCBjID0gKHMgPSBUZSh0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IHNbMF0sIFMgPSBkLmZpbHRlcigocikgPT4gISRlKHIsIGMpKTtcbiAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgciwgRSwgbiwgQywgdywgQTtcbiAgICBpZiAobS5zb21lKCh5KSA9PiB5LnB1YmxpY2F0aW9uLmlzU3Vic2NyaWJlZCkgJiYgdS5jdXJyZW50ID09PSBudWxsID8gKFAuZGVidWcoXCJBdXRvIHNldCBzY3JlZW4gc2hhcmUgZm9jdXM6XCIsIHsgbmV3U2NyZWVuU2hhcmVUcmFjazogbVswXSB9KSwgKEUgPSAociA9IHQucGluKS5kaXNwYXRjaCkgPT0gbnVsbCB8fCBFLmNhbGwociwgeyBtc2c6IFwic2V0X3BpblwiLCB0cmFja1JlZmVyZW5jZTogbVswXSB9KSwgdS5jdXJyZW50ID0gbVswXSkgOiB1LmN1cnJlbnQgJiYgIW0uc29tZShcbiAgICAgICh5KSA9PiB7XG4gICAgICAgIHZhciBMLCBUO1xuICAgICAgICByZXR1cm4geS5wdWJsaWNhdGlvbi50cmFja1NpZCA9PT0gKChUID0gKEwgPSB1LmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBMLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogVC50cmFja1NpZCk7XG4gICAgICB9XG4gICAgKSAmJiAoUC5kZWJ1ZyhcIkF1dG8gY2xlYXJpbmcgc2NyZWVuIHNoYXJlIGZvY3VzLlwiKSwgKEMgPSAobiA9IHQucGluKS5kaXNwYXRjaCkgPT0gbnVsbCB8fCBDLmNhbGwobiwgeyBtc2c6IFwiY2xlYXJfcGluXCIgfSksIHUuY3VycmVudCA9IG51bGwpLCBjICYmICFxKGMpKSB7XG4gICAgICBjb25zdCB5ID0gZC5maW5kKFxuICAgICAgICAoTCkgPT4gTC5wYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gYy5wYXJ0aWNpcGFudC5pZGVudGl0eSAmJiBMLnNvdXJjZSA9PT0gYy5zb3VyY2VcbiAgICAgICk7XG4gICAgICB5ICE9PSBjICYmIHEoeSkgJiYgKChBID0gKHcgPSB0LnBpbikuZGlzcGF0Y2gpID09IG51bGwgfHwgQS5jYWxsKHcsIHsgbXNnOiBcInNldF9waW5cIiwgdHJhY2tSZWZlcmVuY2U6IHkgfSkpO1xuICAgIH1cbiAgfSwgW1xuICAgIG0ubWFwKChyKSA9PiBgJHtyLnB1YmxpY2F0aW9uLnRyYWNrU2lkfV8ke3IucHVibGljYXRpb24uaXNTdWJzY3JpYmVkfWApLmpvaW4oKSxcbiAgICAoaCA9IGMgPT0gbnVsbCA/IHZvaWQgMCA6IGMucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBoLnRyYWNrU2lkLFxuICAgIGRcbiAgXSksIFcoKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay12aWRlby1jb25mZXJlbmNlXCIsIC4uLnYgfSwgVWUoKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIFEsXG4gICAge1xuICAgICAgdmFsdWU6IHQsXG4gICAgICBvbldpZGdldENoYW5nZTogZ1xuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay12aWRlby1jb25mZXJlbmNlLWlubmVyXCIgfSwgYyA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstZm9jdXMtbGF5b3V0LXdyYXBwZXJcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHZlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFNlLCB7IHRyYWNrczogUyB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHosIG51bGwpKSwgYyAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGtlLCB7IHRyYWNrUmVmOiBjIH0pKSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWdyaWQtbGF5b3V0LXdyYXBwZXJcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEVlLCB7IHRyYWNrczogZCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHosIG51bGwpKSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQodGUsIHsgY29udHJvbHM6IHsgY2hhdDogITAsIHNldHRpbmdzOiAhIWEgfSB9KSksXG4gICAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIGVlLFxuICAgICAge1xuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiBwLnNob3dDaGF0ID8gXCJncmlkXCIgOiBcIm5vbmVcIiB9LFxuICAgICAgICBtZXNzYWdlRm9ybWF0dGVyOiBpLFxuICAgICAgICBtZXNzYWdlRW5jb2RlcjogbyxcbiAgICAgICAgbWVzc2FnZURlY29kZXI6IGxcbiAgICAgIH1cbiAgICApLFxuICAgIGEgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsay1zZXR0aW5ncy1tZW51LW1vZGFsXCIsXG4gICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHAuc2hvd1NldHRpbmdzID8gXCJibG9ja1wiIDogXCJub25lXCIgfVxuICAgICAgfSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoYSwgbnVsbClcbiAgICApXG4gICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoYmUsIG51bGwpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KENlLCBudWxsKSk7XG59XG5mdW5jdGlvbiBhdCh7IC4uLmkgfSkge1xuICBjb25zdCBbbCwgb10gPSBlLnVzZVN0YXRlKHtcbiAgICBzaG93Q2hhdDogITEsXG4gICAgdW5yZWFkTWVzc2FnZXM6IDBcbiAgfSksIGEgPSBZKFtJLlNvdXJjZS5NaWNyb3Bob25lXSk7XG4gIHJldHVybiBXKCksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoUSwgeyBvbldpZGdldENoYW5nZTogbyB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLWNvbmZlcmVuY2VcIiwgLi4uaSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLWNvbmZlcmVuY2Utc3RhZ2VcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHdlLCB7IHRyYWNrczogYSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHllLCBudWxsKSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgIHRlLFxuICAgIHtcbiAgICAgIGNvbnRyb2xzOiB7IG1pY3JvcGhvbmU6ICEwLCBzY3JlZW5TaGFyZTogITEsIGNhbWVyYTogITEsIGNoYXQ6ICEwIH1cbiAgICB9XG4gICksIGwuc2hvd0NoYXQgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlZSwgbnVsbCkpKTtcbn1cbmZ1bmN0aW9uIG50KHtcbiAgY29udHJvbHM6IGksXG4gIHNhdmVVc2VyQ2hvaWNlczogbCA9ICEwLFxuICBvbkRldmljZUVycm9yOiBvLFxuICAuLi5hXG59KSB7XG4gIGNvbnN0IHYgPSB7IGxlYXZlOiAhMCwgbWljcm9waG9uZTogITAsIC4uLmkgfSwgcCA9IFgoKSwgeyBtaWNyb3Bob25lVHJhY2s6IGYsIGxvY2FsUGFydGljaXBhbnQ6IHUgfSA9IExlKCksIGQgPSBlLnVzZU1lbW8oKCkgPT4gKHtcbiAgICBwYXJ0aWNpcGFudDogdSxcbiAgICBzb3VyY2U6IEkuU291cmNlLk1pY3JvcGhvbmUsXG4gICAgcHVibGljYXRpb246IGZcbiAgfSksIFt1LCBmXSk7XG4gIHAgPyB2Lm1pY3JvcGhvbmUgPz8gKHYubWljcm9waG9uZSA9IHAuY2FuUHVibGlzaCkgOiB2Lm1pY3JvcGhvbmUgPSAhMTtcbiAgY29uc3QgZyA9IEsoeyBjbGFzc05hbWU6IFwibGstYWdlbnQtY29udHJvbC1iYXJcIiB9LCBhKSwgeyBzYXZlQXVkaW9JbnB1dEVuYWJsZWQ6IHQsIHNhdmVBdWRpb0lucHV0RGV2aWNlSWQ6IG0gfSA9IHgoe1xuICAgIHByZXZlbnRTYXZlOiAhbFxuICB9KSwgYyA9IGUudXNlQ2FsbGJhY2soXG4gICAgKFMsIHMpID0+IHtcbiAgICAgIHMgJiYgdChTKTtcbiAgICB9LFxuICAgIFt0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IC4uLmcgfSwgdi5taWNyb3Bob25lICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uLWdyb3VwXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBSLFxuICAgIHtcbiAgICAgIHNvdXJjZTogSS5Tb3VyY2UuTWljcm9waG9uZSxcbiAgICAgIHNob3dJY29uOiAhMCxcbiAgICAgIG9uQ2hhbmdlOiBjLFxuICAgICAgb25EZXZpY2VFcnJvcjogKFMpID0+IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8oeyBzb3VyY2U6IEkuU291cmNlLk1pY3JvcGhvbmUsIGVycm9yOiBTIH0pXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEllLCB7IHRyYWNrUmVmOiBkLCBiYXJDb3VudDogNywgb3B0aW9uczogeyBtaW5IZWlnaHQ6IDUgfSB9KVxuICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvbi1ncm91cC1tZW51XCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBPLFxuICAgIHtcbiAgICAgIGtpbmQ6IFwiYXVkaW9pbnB1dFwiLFxuICAgICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IChTLCBzKSA9PiBtKHMgPz8gXCJkZWZhdWx0XCIpXG4gICAgfVxuICApKSksIHYubGVhdmUgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChKLCBudWxsLCBcIkRpc2Nvbm5lY3RcIiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoSCwgbnVsbCkpO1xufVxuZXhwb3J0IHtcbiAgYXQgYXMgQXVkaW9Db25mZXJlbmNlLFxuICBlZSBhcyBDaGF0LFxuICB0ZSBhcyBDb250cm9sQmFyLFxuICBPIGFzIE1lZGlhRGV2aWNlTWVudSxcbiAgZXQgYXMgUHJlSm9pbixcbiAgdHQgYXMgVmlkZW9Db25mZXJlbmNlLFxuICBudCBhcyBWb2ljZUFzc2lzdGFudENvbnRyb2xCYXIsXG4gIFplIGFzIHVzZVByZXZpZXdEZXZpY2UsXG4gIHplIGFzIHVzZVByZXZpZXdUcmFja3Ncbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVmYWJzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/prefabs.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   L: () => (/* binding */ Q),\n/* harmony export */   a: () => (/* binding */ B),\n/* harmony export */   c: () => (/* binding */ G),\n/* harmony export */   m: () => (/* binding */ M),\n/* harmony export */   r: () => (/* binding */ J),\n/* harmony export */   u: () => (/* binding */ q),\n/* harmony export */   w: () => (/* binding */ H)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.24_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-B7YgC7ji.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/contexts-B7YgC7ji.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.9.1/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\n\nfunction L(n) {\n  var e, o, t = \"\";\n  if (typeof n == \"string\" || typeof n == \"number\") t += n;\n  else if (typeof n == \"object\") if (Array.isArray(n)) {\n    var r = n.length;\n    for (e = 0; e < r; e++) n[e] && (o = L(n[e])) && (t && (t += \" \"), t += o);\n  } else for (o in n) n[o] && (t && (t += \" \"), t += o);\n  return t;\n}\nfunction A() {\n  for (var n, e, o = 0, t = \"\", r = arguments.length; o < r; o++) (n = arguments[o]) && (e = L(n)) && (t && (t += \" \"), t += e);\n  return t;\n}\nfunction _(...n) {\n  return (...e) => {\n    for (const o of n)\n      if (typeof o == \"function\")\n        try {\n          o(...e);\n        } catch (t) {\n          console.error(t);\n        }\n  };\n}\nfunction M(...n) {\n  const e = { ...n[0] };\n  for (let o = 1; o < n.length; o++) {\n    const t = n[o];\n    for (const r in t) {\n      const d = e[r], a = t[r];\n      typeof d == \"function\" && typeof a == \"function\" && // This is a lot faster than a regex.\n      r[0] === \"o\" && r[1] === \"n\" && r.charCodeAt(2) >= /* 'A' */\n      65 && r.charCodeAt(2) <= /* 'Z' */\n      90 ? e[r] = _(d, a) : (r === \"className\" || r === \"UNSAFE_className\") && typeof d == \"string\" && typeof a == \"string\" ? e[r] = A(d, a) : e[r] = a !== void 0 ? a : d;\n    }\n  }\n  return e;\n}\nfunction I(n) {\n  return n !== void 0;\n}\nfunction B(...n) {\n  return M(...n.filter(I));\n}\nfunction G(n, e, o) {\n  return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(n, (t) => react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(t) && react__WEBPACK_IMPORTED_MODULE_0__.Children.only(n) ? (t.props.class && (e ?? (e = {}), e.class = A(t.props.class, e.class), e.style = { ...t.props.style, ...e.style }), react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(t, { ...e, key: o })) : t);\n}\nfunction H(n) {\n  var e, o;\n  if (typeof window < \"u\" && typeof process < \"u\" && // eslint-disable-next-line turbo/no-undeclared-env-vars\n  (((e = process == null ? void 0 : process.env) == null ? void 0 : e.NODE_ENV) === \"dev\" || // eslint-disable-next-line turbo/no-undeclared-env-vars\n  ((o = process == null ? void 0 : process.env) == null ? void 0 : o.NODE_ENV) === \"development\")) {\n    const t = document.querySelector(\".lk-room-container\");\n    t && !getComputedStyle(t).getPropertyValue(\"--lk-has-imported-styles\") && _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\n      \"It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.\"\n    );\n  }\n}\nfunction J(n, e) {\n  return n === \"processor\" && e && typeof e == \"object\" && \"name\" in e ? e.name : n === \"e2ee\" && e ? \"e2ee-enabled\" : e;\n}\nconst T = {\n  connect: !0,\n  audio: !1,\n  video: !1\n};\nfunction q(n) {\n  const {\n    token: e,\n    serverUrl: o,\n    options: t,\n    room: r,\n    connectOptions: d,\n    connect: a,\n    audio: p,\n    video: y,\n    screen: g,\n    onConnected: h,\n    onDisconnected: v,\n    onError: c,\n    onMediaDeviceFailure: b,\n    onEncryptionError: E,\n    simulateParticipants: w,\n    ...P\n  } = { ...T, ...n };\n  t && r && _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\n    \"when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.\"\n  );\n  const [s, O] = react__WEBPACK_IMPORTED_MODULE_0__.useState(), C = react__WEBPACK_IMPORTED_MODULE_0__.useRef(a);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    O(r ?? new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room(t));\n  }, [r, JSON.stringify(t, J)]);\n  const F = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: m } = (0,_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.s)();\n    return M(P, { className: m });\n  }, [P]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!s) return;\n    const m = () => {\n      const l = s.localParticipant;\n      _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"trying to publish local tracks\"), Promise.all([\n        l.setMicrophoneEnabled(!!p, typeof p != \"boolean\" ? p : void 0),\n        l.setCameraEnabled(!!y, typeof y != \"boolean\" ? y : void 0),\n        l.setScreenShareEnabled(!!g, typeof g != \"boolean\" ? g : void 0)\n      ]).catch((R) => {\n        _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(R), c == null || c(R);\n      });\n    }, S = (l) => {\n      const R = livekit_client__WEBPACK_IMPORTED_MODULE_1__.MediaDeviceFailure.getFailure(l);\n      b == null || b(R);\n    }, k = (l) => {\n      E == null || E(l);\n    }, N = (l) => {\n      v == null || v(l);\n    }, D = () => {\n      h == null || h();\n    };\n    return s.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, m).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, S).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, k).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Disconnected, N).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Connected, D), () => {\n      s.off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, m).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, S).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, k).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Disconnected, N).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Connected, D);\n    };\n  }, [\n    s,\n    p,\n    y,\n    g,\n    c,\n    E,\n    b,\n    h,\n    v\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (s) {\n      if (w) {\n        s.simulateParticipants({\n          participants: {\n            count: w\n          },\n          publish: {\n            audio: !0,\n            useRealTracks: !0\n          }\n        });\n        return;\n      }\n      if (a) {\n        if (C.current = !0, _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"connecting\"), !e) {\n          _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"no token yet\");\n          return;\n        }\n        if (!o) {\n          _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\"no livekit url provided\"), c == null || c(Error(\"no livekit url provided\"));\n          return;\n        }\n        s.connect(o, e, d).catch((m) => {\n          _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(m), C.current === !0 && (c == null || c(m));\n        });\n      } else\n        _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"disconnecting because connect is false\"), C.current = !1, s.disconnect();\n    }\n  }, [\n    a,\n    e,\n    JSON.stringify(d),\n    s,\n    c,\n    o,\n    w\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (s)\n      return () => {\n        _contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"disconnecting on onmount\"), s.disconnect();\n      };\n  }, [s]), { room: s, htmlProps: F };\n}\nconst Q = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(e, o) {\n  const { room: t, htmlProps: r } = q(e);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, ...r }, t && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.R.Provider, { value: t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_B7YgC7ji_mjs__WEBPACK_IMPORTED_MODULE_2__.L.Provider, { value: e.featureFlags }, e.children)));\n});\n\n//# sourceMappingURL=room-BBI9Ul2f.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyXzQ3MTZjMDU3NGM4MzY2ZDQ5MjZkNmJjZjMwNjJkMDk2L25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3Qvcm9vbS1CQkk5VWwyZi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEyQjtBQUM4QztBQUNXO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELE9BQU87QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkNBQVUsZUFBZSxpREFBZ0IsT0FBTywyQ0FBVSwwQ0FBMEMsb0RBQW9ELDhCQUE4QixHQUFHLCtDQUFjLE1BQU0sY0FBYztBQUNwTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxxREFBQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUixZQUFZLHFEQUFDO0FBQ2I7QUFDQTtBQUNBLGlCQUFpQiwyQ0FBVSxRQUFRLHlDQUFRO0FBQzNDLEVBQUUsNENBQVc7QUFDYixlQUFlLGdEQUFDO0FBQ2hCLEdBQUc7QUFDSCxZQUFZLDBDQUFTO0FBQ3JCLFlBQVksZUFBZSxFQUFFLHlEQUFDO0FBQzlCLGtCQUFrQixjQUFjO0FBQ2hDLEdBQUc7QUFDSCxTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLGdCQUFnQiw4REFBQztBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFDLHdCQUF3QixxREFBQywwQkFBMEIscURBQUMsd0JBQXdCLHFEQUFDLHFCQUFxQixxREFBQztBQUNwSCxZQUFZLHFEQUFDLHlCQUF5QixxREFBQywyQkFBMkIscURBQUMseUJBQXlCLHFEQUFDLHNCQUFzQixxREFBQztBQUNwSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDRDQUFXO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFDO0FBQzdCLFVBQVUscURBQUM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBQztBQUNYLFNBQVM7QUFDVCxRQUFRO0FBQ1IsUUFBUSxxREFBQztBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0Q0FBVztBQUNqQjtBQUNBO0FBQ0EsUUFBUSxxREFBQztBQUNUO0FBQ0EsR0FBRyxVQUFVO0FBQ2I7QUFDQSwwQkFBMEIsNkNBQVk7QUFDdEMsVUFBVSx3QkFBd0I7QUFDbEMseUJBQXlCLGdEQUFlLFVBQVUsY0FBYyx1QkFBdUIsZ0RBQWUsQ0FBQyxxREFBQyxhQUFhLFVBQVUsa0JBQWtCLGdEQUFlLENBQUMscURBQUMsYUFBYSx1QkFBdUI7QUFDdE0sQ0FBQztBQVNDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2ljZS1hc3Npc3RhbnQyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMl80NzE2YzA1NzRjODM2NmQ0OTI2ZDZiY2YzMDYyZDA5Ni9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L3Jvb20tQkJJOVVsMmYubWpzP2IzMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGwgYXMgZiwgcyBhcyBLLCBSIGFzIHgsIEwgYXMgViB9IGZyb20gXCIuL2NvbnRleHRzLUI3WWdDN2ppLm1qc1wiO1xuaW1wb3J0IHsgUm9vbSBhcyBqLCBSb29tRXZlbnQgYXMgdSwgTWVkaWFEZXZpY2VGYWlsdXJlIGFzIFUgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmZ1bmN0aW9uIEwobikge1xuICB2YXIgZSwgbywgdCA9IFwiXCI7XG4gIGlmICh0eXBlb2YgbiA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBuID09IFwibnVtYmVyXCIpIHQgKz0gbjtcbiAgZWxzZSBpZiAodHlwZW9mIG4gPT0gXCJvYmplY3RcIikgaWYgKEFycmF5LmlzQXJyYXkobikpIHtcbiAgICB2YXIgciA9IG4ubGVuZ3RoO1xuICAgIGZvciAoZSA9IDA7IGUgPCByOyBlKyspIG5bZV0gJiYgKG8gPSBMKG5bZV0pKSAmJiAodCAmJiAodCArPSBcIiBcIiksIHQgKz0gbyk7XG4gIH0gZWxzZSBmb3IgKG8gaW4gbikgbltvXSAmJiAodCAmJiAodCArPSBcIiBcIiksIHQgKz0gbyk7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gQSgpIHtcbiAgZm9yICh2YXIgbiwgZSwgbyA9IDAsIHQgPSBcIlwiLCByID0gYXJndW1lbnRzLmxlbmd0aDsgbyA8IHI7IG8rKykgKG4gPSBhcmd1bWVudHNbb10pICYmIChlID0gTChuKSkgJiYgKHQgJiYgKHQgKz0gXCIgXCIpLCB0ICs9IGUpO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIF8oLi4ubikge1xuICByZXR1cm4gKC4uLmUpID0+IHtcbiAgICBmb3IgKGNvbnN0IG8gb2YgbilcbiAgICAgIGlmICh0eXBlb2YgbyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbyguLi5lKTtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IodCk7XG4gICAgICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIE0oLi4ubikge1xuICBjb25zdCBlID0geyAuLi5uWzBdIH07XG4gIGZvciAobGV0IG8gPSAxOyBvIDwgbi5sZW5ndGg7IG8rKykge1xuICAgIGNvbnN0IHQgPSBuW29dO1xuICAgIGZvciAoY29uc3QgciBpbiB0KSB7XG4gICAgICBjb25zdCBkID0gZVtyXSwgYSA9IHRbcl07XG4gICAgICB0eXBlb2YgZCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiICYmIC8vIFRoaXMgaXMgYSBsb3QgZmFzdGVyIHRoYW4gYSByZWdleC5cbiAgICAgIHJbMF0gPT09IFwib1wiICYmIHJbMV0gPT09IFwiblwiICYmIHIuY2hhckNvZGVBdCgyKSA+PSAvKiAnQScgKi9cbiAgICAgIDY1ICYmIHIuY2hhckNvZGVBdCgyKSA8PSAvKiAnWicgKi9cbiAgICAgIDkwID8gZVtyXSA9IF8oZCwgYSkgOiAociA9PT0gXCJjbGFzc05hbWVcIiB8fCByID09PSBcIlVOU0FGRV9jbGFzc05hbWVcIikgJiYgdHlwZW9mIGQgPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgYSA9PSBcInN0cmluZ1wiID8gZVtyXSA9IEEoZCwgYSkgOiBlW3JdID0gYSAhPT0gdm9pZCAwID8gYSA6IGQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gSShuKSB7XG4gIHJldHVybiBuICE9PSB2b2lkIDA7XG59XG5mdW5jdGlvbiBCKC4uLm4pIHtcbiAgcmV0dXJuIE0oLi4ubi5maWx0ZXIoSSkpO1xufVxuZnVuY3Rpb24gRyhuLCBlLCBvKSB7XG4gIHJldHVybiBpLkNoaWxkcmVuLm1hcChuLCAodCkgPT4gaS5pc1ZhbGlkRWxlbWVudCh0KSAmJiBpLkNoaWxkcmVuLm9ubHkobikgPyAodC5wcm9wcy5jbGFzcyAmJiAoZSA/PyAoZSA9IHt9KSwgZS5jbGFzcyA9IEEodC5wcm9wcy5jbGFzcywgZS5jbGFzcyksIGUuc3R5bGUgPSB7IC4uLnQucHJvcHMuc3R5bGUsIC4uLmUuc3R5bGUgfSksIGkuY2xvbmVFbGVtZW50KHQsIHsgLi4uZSwga2V5OiBvIH0pKSA6IHQpO1xufVxuZnVuY3Rpb24gSChuKSB7XG4gIHZhciBlLCBvO1xuICBpZiAodHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHR5cGVvZiBwcm9jZXNzIDwgXCJ1XCIgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHR1cmJvL25vLXVuZGVjbGFyZWQtZW52LXZhcnNcbiAgKCgoZSA9IHByb2Nlc3MgPT0gbnVsbCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52KSA9PSBudWxsID8gdm9pZCAwIDogZS5OT0RFX0VOVikgPT09IFwiZGV2XCIgfHwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHR1cmJvL25vLXVuZGVjbGFyZWQtZW52LXZhcnNcbiAgKChvID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBvLk5PREVfRU5WKSA9PT0gXCJkZXZlbG9wbWVudFwiKSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxrLXJvb20tY29udGFpbmVyXCIpO1xuICAgIHQgJiYgIWdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tbGstaGFzLWltcG9ydGVkLXN0eWxlc1wiKSAmJiBmLndhcm4oXG4gICAgICBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIG5vdCB1c2luZyB0aGUgYEBsaXZla2l0L2NvbXBvbmVudHMtc3R5bGVzIHBhY2thZ2VgLiBUbyByZW5kZXIgdGhlIFVJIHdpdGggdGhlIGRlZmF1bHQgc3R5bGluZywgcGxlYXNlIGltcG9ydCBpdCBpbiB5b3VyIGxheW91dCBvciBwYWdlLlwiXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gSihuLCBlKSB7XG4gIHJldHVybiBuID09PSBcInByb2Nlc3NvclwiICYmIGUgJiYgdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBcIm5hbWVcIiBpbiBlID8gZS5uYW1lIDogbiA9PT0gXCJlMmVlXCIgJiYgZSA/IFwiZTJlZS1lbmFibGVkXCIgOiBlO1xufVxuY29uc3QgVCA9IHtcbiAgY29ubmVjdDogITAsXG4gIGF1ZGlvOiAhMSxcbiAgdmlkZW86ICExXG59O1xuZnVuY3Rpb24gcShuKSB7XG4gIGNvbnN0IHtcbiAgICB0b2tlbjogZSxcbiAgICBzZXJ2ZXJVcmw6IG8sXG4gICAgb3B0aW9uczogdCxcbiAgICByb29tOiByLFxuICAgIGNvbm5lY3RPcHRpb25zOiBkLFxuICAgIGNvbm5lY3Q6IGEsXG4gICAgYXVkaW86IHAsXG4gICAgdmlkZW86IHksXG4gICAgc2NyZWVuOiBnLFxuICAgIG9uQ29ubmVjdGVkOiBoLFxuICAgIG9uRGlzY29ubmVjdGVkOiB2LFxuICAgIG9uRXJyb3I6IGMsXG4gICAgb25NZWRpYURldmljZUZhaWx1cmU6IGIsXG4gICAgb25FbmNyeXB0aW9uRXJyb3I6IEUsXG4gICAgc2ltdWxhdGVQYXJ0aWNpcGFudHM6IHcsXG4gICAgLi4uUFxuICB9ID0geyAuLi5ULCAuLi5uIH07XG4gIHQgJiYgciAmJiBmLndhcm4oXG4gICAgXCJ3aGVuIHVzaW5nIGEgbWFudWFsbHkgY3JlYXRlZCByb29tLCB0aGUgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBpZ25vcmVkLiBzZXQgdGhlIGRlc2lyZWQgb3B0aW9ucyBkaXJlY3RseSB3aGVuIGNyZWF0aW5nIHRoZSByb29tIGluc3RlYWQuXCJcbiAgKTtcbiAgY29uc3QgW3MsIE9dID0gaS51c2VTdGF0ZSgpLCBDID0gaS51c2VSZWYoYSk7XG4gIGkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBPKHIgPz8gbmV3IGoodCkpO1xuICB9LCBbciwgSlNPTi5zdHJpbmdpZnkodCwgSildKTtcbiAgY29uc3QgRiA9IGkudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWU6IG0gfSA9IEsoKTtcbiAgICByZXR1cm4gTShQLCB7IGNsYXNzTmFtZTogbSB9KTtcbiAgfSwgW1BdKTtcbiAgcmV0dXJuIGkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXMpIHJldHVybjtcbiAgICBjb25zdCBtID0gKCkgPT4ge1xuICAgICAgY29uc3QgbCA9IHMubG9jYWxQYXJ0aWNpcGFudDtcbiAgICAgIGYuZGVidWcoXCJ0cnlpbmcgdG8gcHVibGlzaCBsb2NhbCB0cmFja3NcIiksIFByb21pc2UuYWxsKFtcbiAgICAgICAgbC5zZXRNaWNyb3Bob25lRW5hYmxlZCghIXAsIHR5cGVvZiBwICE9IFwiYm9vbGVhblwiID8gcCA6IHZvaWQgMCksXG4gICAgICAgIGwuc2V0Q2FtZXJhRW5hYmxlZCghIXksIHR5cGVvZiB5ICE9IFwiYm9vbGVhblwiID8geSA6IHZvaWQgMCksXG4gICAgICAgIGwuc2V0U2NyZWVuU2hhcmVFbmFibGVkKCEhZywgdHlwZW9mIGcgIT0gXCJib29sZWFuXCIgPyBnIDogdm9pZCAwKVxuICAgICAgXSkuY2F0Y2goKFIpID0+IHtcbiAgICAgICAgZi53YXJuKFIpLCBjID09IG51bGwgfHwgYyhSKTtcbiAgICAgIH0pO1xuICAgIH0sIFMgPSAobCkgPT4ge1xuICAgICAgY29uc3QgUiA9IFUuZ2V0RmFpbHVyZShsKTtcbiAgICAgIGIgPT0gbnVsbCB8fCBiKFIpO1xuICAgIH0sIGsgPSAobCkgPT4ge1xuICAgICAgRSA9PSBudWxsIHx8IEUobCk7XG4gICAgfSwgTiA9IChsKSA9PiB7XG4gICAgICB2ID09IG51bGwgfHwgdihsKTtcbiAgICB9LCBEID0gKCkgPT4ge1xuICAgICAgaCA9PSBudWxsIHx8IGgoKTtcbiAgICB9O1xuICAgIHJldHVybiBzLm9uKHUuU2lnbmFsQ29ubmVjdGVkLCBtKS5vbih1Lk1lZGlhRGV2aWNlc0Vycm9yLCBTKS5vbih1LkVuY3J5cHRpb25FcnJvciwgaykub24odS5EaXNjb25uZWN0ZWQsIE4pLm9uKHUuQ29ubmVjdGVkLCBEKSwgKCkgPT4ge1xuICAgICAgcy5vZmYodS5TaWduYWxDb25uZWN0ZWQsIG0pLm9mZih1Lk1lZGlhRGV2aWNlc0Vycm9yLCBTKS5vZmYodS5FbmNyeXB0aW9uRXJyb3IsIGspLm9mZih1LkRpc2Nvbm5lY3RlZCwgTikub2ZmKHUuQ29ubmVjdGVkLCBEKTtcbiAgICB9O1xuICB9LCBbXG4gICAgcyxcbiAgICBwLFxuICAgIHksXG4gICAgZyxcbiAgICBjLFxuICAgIEUsXG4gICAgYixcbiAgICBoLFxuICAgIHZcbiAgXSksIGkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocykge1xuICAgICAgaWYgKHcpIHtcbiAgICAgICAgcy5zaW11bGF0ZVBhcnRpY2lwYW50cyh7XG4gICAgICAgICAgcGFydGljaXBhbnRzOiB7XG4gICAgICAgICAgICBjb3VudDogd1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHVibGlzaDoge1xuICAgICAgICAgICAgYXVkaW86ICEwLFxuICAgICAgICAgICAgdXNlUmVhbFRyYWNrczogITBcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYSkge1xuICAgICAgICBpZiAoQy5jdXJyZW50ID0gITAsIGYuZGVidWcoXCJjb25uZWN0aW5nXCIpLCAhZSkge1xuICAgICAgICAgIGYuZGVidWcoXCJubyB0b2tlbiB5ZXRcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbykge1xuICAgICAgICAgIGYud2FybihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpLCBjID09IG51bGwgfHwgYyhFcnJvcihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcy5jb25uZWN0KG8sIGUsIGQpLmNhdGNoKChtKSA9PiB7XG4gICAgICAgICAgZi53YXJuKG0pLCBDLmN1cnJlbnQgPT09ICEwICYmIChjID09IG51bGwgfHwgYyhtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGYuZGVidWcoXCJkaXNjb25uZWN0aW5nIGJlY2F1c2UgY29ubmVjdCBpcyBmYWxzZVwiKSwgQy5jdXJyZW50ID0gITEsIHMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSwgW1xuICAgIGEsXG4gICAgZSxcbiAgICBKU09OLnN0cmluZ2lmeShkKSxcbiAgICBzLFxuICAgIGMsXG4gICAgbyxcbiAgICB3XG4gIF0pLCBpLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHMpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBmLmluZm8oXCJkaXNjb25uZWN0aW5nIG9uIG9ubW91bnRcIiksIHMuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgfSwgW3NdKSwgeyByb29tOiBzLCBodG1sUHJvcHM6IEYgfTtcbn1cbmNvbnN0IFEgPSAvKiBAX19QVVJFX18gKi8gaS5mb3J3YXJkUmVmKGZ1bmN0aW9uKGUsIG8pIHtcbiAgY29uc3QgeyByb29tOiB0LCBodG1sUHJvcHM6IHIgfSA9IHEoZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gaS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBvLCAuLi5yIH0sIHQgJiYgLyogQF9fUFVSRV9fICovIGkuY3JlYXRlRWxlbWVudCh4LlByb3ZpZGVyLCB7IHZhbHVlOiB0IH0sIC8qIEBfX1BVUkVfXyAqLyBpLmNyZWF0ZUVsZW1lbnQoVi5Qcm92aWRlciwgeyB2YWx1ZTogZS5mZWF0dXJlRmxhZ3MgfSwgZS5jaGlsZHJlbikpKTtcbn0pO1xuZXhwb3J0IHtcbiAgUSBhcyBMLFxuICBCIGFzIGEsXG4gIEcgYXMgYyxcbiAgTSBhcyBtLFxuICBKIGFzIHIsXG4gIHEgYXMgdSxcbiAgSCBhcyB3XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm9vbS1CQkk5VWwyZi5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2_4716c0574c8366d4926d6bcf3062d096/node_modules/@livekit/components-react/dist/room-BBI9Ul2f.mjs\n");

/***/ })

};
;